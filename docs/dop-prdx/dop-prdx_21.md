## 第二十二章：介绍朱利安·辛普森

朱利安·辛普森曾在 Neo4j 工作直到 2018 年 8 月，在那里他帮助交付了涉及 DevOps 和持续交付的项目。2018 年 8 月，朱利安转到 Fuel50，成为全球安全与平台经理，专注于构建公司的平台。朱利安还是 DevOpsDaysNZ 的组织者。你可以在 Twitter 上关注他，用户名是 `@builddoctor`。

## 定义 DevOps

**维克托·法尔奇**：我想从一个双重问题开始问你。首先，你如何定义 DevOps？然后，这一定义在你的职业生涯中是如何体现的？

**朱利安·辛普森**：我曾是一个 Unix 系统管理员。在那个角色中，我花了很多时间在互联网泡沫时期构建 Solaris 服务器，并与开发人员争论。这种系统管理员和开发人员之间的冲突持续了我职业生涯的接下来的三到四年。

在这段时间里，有两件事对我来说变得显而易见。首先，手动构建系统的方式似乎是错误的，其次，处理这种冲突似乎确实适得其反。虽然我可以陷入一场好的争斗，但这似乎不是一种积极的方式。最终，在 2002 年，我发现了 CFEngine 项目，并开始使用 CFEngine 来构建我的所有系统，以便重建这些构建。

这与 Solaris Jumpstart 相结合，这在当时是一个非常棒的技术，因为从硬件角度来看，我可以随时构建一台机器。我还可以对构建进行迭代，并将源代码存储在版本控制中，这些做法最终发展为 DevOps。一个重要的补充是，我在 2004 年发现了敏捷运动；我认为 DevOps 运动作为敏捷运动的自然延伸发展而来。

“我认为 DevOps 运动作为一种自然的发展，源自于敏捷运动。”

—朱利安·辛普森

**维克托·法尔奇**：这也是我通常的描述方式。虽然我同意 DevOps 是敏捷的演变，但你所描述的冲突是我今天在开发人员、QA、安全人员和其他所有相关人员之间看到的现象。你认为这些冲突的原因是什么？

**朱利安·辛普森**：我认为这完全是组织内结构性冲突的问题。对我来说，作为一个行业，组织设置有冲突目标的团队，然后期望他们像解决个人问题一样解决这些冲突，简直令人难以置信。你负责确保系统的安全、正常运行并保持可用，而你的工作就是尽可能快地交付它。

我不知道这是不是仅仅是民间智慧，还是我们可以依赖的实际研究，但似乎有很多团队专门以非常快的速度交付错误的东西，而这往往是以牺牲安全性或可用性为代价的。如果这些因素让你感到焦虑，那么实际上，团队一起讨论项目中需要交付的功能，并激励整个团队确保安全地交付并确保可用性，对我来说，似乎是理所当然的做法。

## DevOps 与敏捷的区别

**维克托·法尔西奇**：让我们多聊聊从敏捷到 DevOps 的演变。你具体是怎么理解的？

**朱利安·辛普森**：我在敏捷运动发展得比较晚的时候才加入。我没能亲眼见证一些早期的敏捷项目，但我理解的是，我们解决了如何知道该构建什么，以及我们应该如何以迭代方式规划和交付构建的问题。一旦你解决了这个问题，接下来就会面临工程挑战，比如集成。现在项目末尾出现巨大的合并阶段已经没有借口了，因为持续集成至少自 1990 年代末期以来就已经存在了。

"DevOps 是应对在项目早期阶段成功时所遇到的那些问题的回应。"

—朱利安·辛普森

你会发现一些原本没有的问题，因为你可能反正没能成功过。我现在才试着表述这个问题，但也许 DevOps 是应对在项目早期成功阶段时你遇到的那些问题的一种回应？

如果你变得更擅长编写既正确又最适合当下的软件下载并进行部署，你突然需要考虑所有这些其他的操作性问题。对我来说，如果你有部署问题，可能反而是个好问题。

**维克托·法尔西奇**：没错，如果你的流水线的某一部分突然变得更快了，那么，正如你所说，你会遇到下一页的问题。

**朱利安·辛普森**：我是约束理论的忠实粉丝，所以这绝对是符合实际的。我相信你需要在整个价值链上进行优化，而不是仅仅基于成本进行优化，这是很多项目所做的事情。

**维克托·法尔西奇**：按部门的成本，事情变得更复杂了。

**朱利安·辛普森**：完全正确。我曾在多个咨询项目中工作，在这些项目中，部门政治不像是影响因素，反而是所有这些开发者的日费，这是项目经理能直接看到的。所以，他们会优化开发者的利用率，而不是其他方面。

**维克托·法尔西奇**：就像是一个优化的 Excel 表格，当你改变了两个数字，突然之间，你就变得更加优化了。

**Julian Simpson**：我发现，在一些项目中，开发人员完全有可能在他们的开发系统上运行所有的验收测试。我认为他们当时应该做这个，因为我们有一个巨大的持续集成（CI）和 QA 瓶颈，所以最合理的做法是每对开发人员在提交代码之前先运行这些测试，从而缓解瓶颈。这个信息对于项目经理来说是非常难传达的。

**Viktor Farcic**：我最近发现你被称为 The Build Doctor？你是怎么得到这个名字的？

**Julian Simpson**：在 2004 到 2008 年之间，我有一个小的专业领域，专门为别人修复 Ant 构建。在那个时候，我对 Apache Ant 非常熟练，甚至在一本书里写了一篇关于重构 Ant 构建文件的文章。现在这个工具不再那么流行了，但在那时，我曾想过自己是否会从咨询工作转型，或者是否只是建立我自己的个人品牌。我想，好吧，Build Doctor——我已经靠修复这些东西为生了，所以我就基于这个建立品牌。但现在，这个品牌的事情暂时搁置了。

**Viktor Farcic**：你现在在做什么？

**Julian Simpson**：自 2012 年起，我一直在为 Neo4j（前身为 Neo Technology）工作。在公司内部，我曾在工程、市场和 IT 部门工作过。我发现自己做过从产品开发到在 Amazon 上部署我们全栈网站的一切工作。

现在，我在做内部 IT 项目并编写内部应用程序。实际上，今天早上我一直在编写删除 Dropbox 账户的脚本。

**Viktor Farcic**：那么，是什么让 Neo4j 成为一家伟大的公司？

**Julian Simpson**：简而言之，就是人。

**Viktor Farcic**：你能详细说明一下吗？因为如果把这个和你的工作领域以及 DevOps 的概念联系起来，你认为真有 DevOps 团队这种东西吗？

**Julian Simpson**：当我加入 Neo4j 时，我与瑞典团队合作。作为一家公司，我们倾向于优化优秀的人才和良好的态度，我们几乎不知不觉地在这方面有了一批非常优秀的成员。

## DevOps 团队、DevOps 问题和配置管理团队

但是，我们能不能有一个叫做 DevOps 团队的东西呢？我不这么认为。你可能会成立一个团队来解决 DevOps 问题，但我甚至不认为我们特别有一个 DevOps 问题。我会说你只是有一个问题。从 2009 年起，那个名字被创造出来时，我对这一运动的最初想法是，它应该是关于协作的，也许工具会在这种协作中自然产生。

"我们能不能有一个叫做 DevOps 团队的东西呢？我不这么认为。"

—Julian Simpson

我原本期待开发者会采用配置管理工具，这样系统人员和开发人员可以进行合作，但我没想到一堆传统的系统管理团队会因为某些工具的相似性而将自己重新品牌化为 DevOps。我没想到传统意义上的配置管理团队会变成 DevOps 团队。在某种程度上，我认为唯一的区别现在是在外包平台上，因为我们一直都有一个人在管理你所说的平台。

**维克托·法尔奇**：这让我感到困惑。一方面，几乎没有人反对 DevOps 主要是关于协作的观点。但另一方面，你有大量的 DevOps 团队，这对我来说完全是矛盾的。如果你创建了另一个团队，你实际上是在创建另一个孤岛，这可能根本不会帮助协作。

**朱利安·辛普森**：我看不出你现在所称的 DevOps 团队和过去的配置管理团队有什么区别。唯一的区别是，今天的 DevOps 团队承担了过去系统或 Unix 管理团队可能做的事情：相同的基本结构，只是团队中间换了个新名字。

如果你要有那个 DevOps 团队，我希望你能把外部的开发和运维团队带进来，并进行轮换，目标是缩小规模或解散该团队，或者只用一两个人来负责管理你的管道运行所依赖的基础设施。

**维克托·法尔奇**：根据我访问过的公司，我的理论是，DevOps 团队是那些最快改动职位名称的团队。

**朱利安·辛普森**：这变成了一种品牌或地位的象征，而不是一种有用的协作练习。

**维克托·法尔奇**：我曾在一家软件公司工作，他们也没有提供帮助。如果你去参加一个会议，十年前的每一个工具现在都变成了 DevOps 工具。他们都在说，如果你购买这个工具，你就会获得 DevOps 认证。

**朱利安·辛普森**：完全正确，而且这样做的激励机制太强了。我甚至建议 CITCON 重新品牌化，至少更多地讨论 DevOps，因为我认为他们是这种典型会议的一种。

**Jez Humble**和**Dave Farley**的书《*持续交付*》的灵感之一，来源于我们有一个由八人组成的 DevOps 团队，包括我自己、Chris Read、Dan North、Tim Harding 和其他几位。我们的工作就是在一群按日计费的承包商、顾问和可能因为工作负载过重而无法承担太多的运维团队之间架起桥梁。我们的任务是清偿技术债务，或是处理如何将代码从 CI/CD 重新部署到生产环境中，同时通过他们所需的所有风险管理和内部控制。这一团队最终解散了，它是为了应对一个问题而扩展的，一旦大部分问题解决后，最终变成了我一个人处理，直到我离开。

“它[DevOps]变成了一种品牌或地位的象征，而不是一种有用的协作练习。”

—Julian Simpson

**Viktor Farcic**：几乎每个人都给我不同的解释，尽管我必须说，我最喜欢你的解释。我在你的一篇博客中读到，DevOps 的完整定义就是常识。那么，如果 DevOps 是一个理论，且早在古代就存在，我们知道开发和运维以某种方式需要协作，为什么你认为 DevOps 在最近才成为一件事呢？

**Julian Simpson**：我认为 DevOps 一直都是存在的。我发现有趣的是，当我曾在 ThoughtWorks 工作时，**Martin Fowler**和他们的 CTO **Rebecca Parsons** 都曾在大学做过系统管理员。我认为 DevOps 以前只是团队中的某个人在做的事。我以前合作过的开发人员在任何 Unix 系统上部署时都非常有能力。

我的很多经验都非常偏向于 Unix。前几天我在一个以.NET 为主的公司做了一个演讲，虽然我不确定我的信息是否真的传达到了，因为他们的问题略有不同，但我认为总会有人解决这些问题。但我认为，随着互联网泡沫和千年虫问题的兴起，我们真的忘记了，因为记得吗，Linux 桌面版当时并不算是一个热门的事物。

你仍然有很多人部署到 Unix 上，我认为 macOS 在开发领域并不流行，所以几乎没有人在使用命令行。至少我的经验是，每个人都希望获得一台 Windows 机器和一个 IDE，并被告知交付一些代码，他们甚至没有工具来在不同的操作系统上解决问题。我认为，我与开发人员之间的冲突很大程度上源于他们几乎只需要 Java。我认为“编译一次，到处运行”的口号的营销也加剧了这个问题。微软的“视觉化一切”的口号也让人们对正在发生的事情缺乏理解。

你会看到开发者有着解决重要问题的巨大需求，比如“千年虫问题是否会让客机从天上掉下来？”或者像 Pets.com 这样的不太重要的问题。很多没有经验的开发者进入了这个行业，根本没有能力解决这些问题，因此他们更频繁地被推给运维团队处理。

恰好在我开始从事软件项目工作后，Y2K 和互联网泡沫时期结束了。我曾做过技术支持，所以对之前的几十年可能一无所知，但我的感觉是，我们在 21 世纪初搞砸了很多事。

**维克托·法尔奇奇**：那个时候每个人都成了程序员。

**朱利安·辛普森**：没错！我们总是开玩笑说，那些在互联网泡沫破灭后会回去卖人寿保险的人。对他们来说，获得一些证书后，就可以开始做短期合同工作，虽然日薪不高，但比很多普通工作（比如卖人寿保险）要有很大优势。

**维克托·法尔奇奇**：那不也是软件供应商开始对 UI 方式进行激进推进的时代吗？我的意思是，你有 Adobe Dreamweaver，可以拖放东西，突然间就创建了一个网页。你还有 VSB 和 Oracle ESB，你也可以拖放并创建所有迭代。我听说这也是“任何人都能做”的营销理念的一部分。

**朱利安·辛普森**：这是我关于微软在品牌营销方面视觉化一切的观点。我曾在一个公司工作，那里的开发者很强势，我们使用 Perforce。回滚和提交在 Perforce 中相当复杂，最终，最好的做法是写一个脚本。我会为你编写这个脚本，你只需运行它，就可以还原那个提交。

我为之工作的那个人不同意，因为他认为一切都应该是可视化的。这是他的坚定信念。如果他不能点击一个按钮，拉出一段文本，那么对他们来说就太过复杂，违背了他们的信念。微软希望鼓励这种方式，他们想要和 Unix 区分开来。这一切发生在 GPL 病毒式传播的时代，所以我认为销售带有 GUI 的产品并没有任何帮助。

我发现这是判断一个人技能的试金石。如果他们没有 GUI 来引导他们到正确的地方，那么观察他们如何解决问题就非常有趣。

“我认为现在已经意识到 GUI 阶段有些错了，这也鼓励开发者更多地探索命令行。”

—朱利安·辛普森

**维克托·法尔奇奇**：你认为这还成立吗？我有一种印象，尤其是从 2017 年起，整个行业都在远离所有基于 UI 的东西。如果你看看 Docker 和 Kubernetes，它们完全是命令行操作。一切都在回归 Unix 的基础。

**Julian Simpson**：我没有花时间去玩新版的 Windows，但他们有 Windows PowerShell Core 这一事实表明他们发生了变化。几年前，当我看到 Scott Hanselman 通过`git push`将应用部署到 Azure 时，我真的非常惊讶。我认为人们已经意识到图形界面阶段有些错误，这也鼓励开发者更多地探索命令行，这改变了我的工作。以前我的工作是理解构建脚本是如何工作的，以及 Unix 或 Linux 生产环境是如何运作的，我认为很多人现在才开始明白这些。

**Viktor Farcic**：当你提到 Unix 和 Linux 环境时，你认为我们终于看到了那里的一些变化吗？这是一个一段时间以来没有变化的领域，无论好坏。

## 容器的演变

**Julian Simpson**：我认为容器已经发生了很大的变化，因为你有了这个不断向上迁移的价值堆栈。

**Viktor Farcic**：你是什么意思？

**Julian Simpson**：我们曾经把业务逻辑和存储过程保存在数据库中，但它已经转移到数据库上方的代码中。我认为我们距离看到容器最终走向哪里还有很长的路要走，但看起来这是最大的变化。现在没有人再关心主机操作系统了。

**Viktor Farcic**：你的意思是，它不再是最低要求了吗？

**Julian Simpson**：是的，我认为在某些方面，它非常有帮助，无论你是在看容器还是平台即服务，人们都可以通过它们来交付代码。我对容器运行时的具体细节不是很感兴趣；我只是很高兴，如果我想推出某些东西，我可以将其部署到 ECS，或者任何现有的容器运行时作为服务。

**Viktor Farcic**：我认为 CloudBees 有一个，不是吗？

**Julian Simpson**：是的，在 CloudBees，我们主要是与 Jenkins 相关的，但我们现在基本上是 100%转向 Kubernetes。

我认为在某种程度上，容器正在实现 Java 很久以前就承诺的目标：随处运行。微软 Windows 在这方面仍然有些不稳定，但它也在逐步改善。

我也认为，容器供应商没有告诉任何人他们能够像 1990 年代承诺的那样在硅芯片上运行容器，这一点有所帮助。正如你所说，他们没有兑现这些承诺。我认为你是对的，以前我的工作不仅仅是运行 Jenkins 或项目选择的其他 CI 服务器，还要为它们配置环境。现在你可以说每次构建都在一个容器中运行。是的，很多问题已经消失了。如果你能够构建一个容器来代表一个生产运行时环境，并且是一个空白墙，那就完美了。

## 展望未来

**Viktor Farcic**：没错。我讨厌下一个问题，因为我一直被问到这个问题，但我还是要问你：你怎么看未来的发展？

**Julian Simpson**：老实说，我没有答案。我认为公共云是一个值得关注的领域。亚马逊、微软、阿里云、IBM 和谷歌云之间进行如此大规模的军备竞赛，对于我们这些只想交付内容的开发者来说，选择将变得非常丰富。

“我们都认识一些人，他们每天上班做自己被要求做的事情，然后又回家。我认为当不可避免的自动化发生时，这些人将面临巨大的职业风险。”

—Julian Simpson

我认为，尤其是亚马逊在网络方面做的很多工作是很有趣的，这样我就能在需要时把我的本地网络与 Amazon VPC 桥接。我可能可以把大量的 IT 工作外包给亚马逊，专注于编写有意义的内容，当然，当亚马逊也写这些内容时，我也要和它竞争。

**Viktor Farcic**：当我问我的一个朋友类似的问题时，他也从云计算开始了。他的理论是，让不称职的人做每天重复的工作，最终他们会因为亚马逊和 Azure 而失业。这将成为一个筛选机制，区分出那些做有价值工作的和只是做“某些事情”的人。

**Julian Simpson**：我能很容易理解这一点。我们都认识一些人，他们每天上班做自己被要求做的事情，然后又回家。我认为当不可避免的自动化发生时，这些人将面临巨大的职业风险。有些人的职业生涯将会被自动化“替代”。那句“走开，否则我们用一个很小的 Shell 脚本替代你”将再也不会更贴切了。

**Viktor Farcic**：没错。另一个让我困惑的事情是，我 15 年前就听到过类似的理论，认为人们会被 Shell 脚本取代，但至今似乎还没有发生。

**Julian Simpson**：我认为现在不同之处在于，Shell 脚本将只是调用 AWS CLI。

## 解决供应商锁定问题

**Viktor Farcic**：你是否担心供应商锁定问题？即公司基本上能够接管并把你永远锁定在它们的平台上？

**Julian Simpson**：我觉得我有些担忧。我猜随着这些公司试图区分它们的所有服务，必然会产生某种程度的锁定效应。显然，保持你被锁定在它们的平台上符合所有人的利益。但如果它们试图销售相同的基础产品，那就成了你追我赶的竞争，最终会陷入恶性循环。

结果是，这些公司会尽力区分他们的产品。我是说，如果我是一家严重依赖某一云平台的公司的 CTO，我会考虑减轻这种风险；例如，可能将部分工作负载转移到其他地方，这样我就能具备管理不同平台的技能。我认为，能够外包一切的一个问题是，你也在外包你的技能萎缩，无论是作为个人还是作为一个组织。

**维克托·法尔奇奇**：这应该与我们在大型主机上遇到的问题，或者每个人都将所有事情外包时遇到的问题没有太大区别吧。

但正如我所说，一方面，我听到了很多关于厂商锁定的担忧，但另一方面，我不确定这与公司以前外包所有事情时，或者运行大型主机时没有什么不同，那些也是厂商锁定。以某种方式，我们，或者至少我们中的一些人，仍然设法克服了那些问题。

**朱利安·辛普森**：我认为它不会像过去历史上的一些厂商锁定那样糟糕，比如贝尔电话公司，这样的公司曾因垄断被拆分。我认为这将是你接受厂商便利所付出的代价。

**维克托·法尔奇奇**：这非常有趣。

**朱利安·辛普森**：如果你只是说在 Azure 上运行最方便，然后你只在公司内部培养这些技能，那么是的，我认为很容易就会陷入厂商锁定，而这可能导致昂贵的退出。我认为，不再需要自己构建平台，可能是一个净正面因素。

“如果我是一个依赖单一云平台的公司的 CTO，我会考虑采取措施来减轻这种风险。”

—朱利安·辛普森

我曾在几个工作中需要在办公室安装 SPARC 系统，这非常麻烦。我认为，对于任何希望提供软件或服务的人来说，最好是他们不需要雇佣人手来在办公室里搬动服务器、将其架设起来，然后安装并试图让它们工作。那是我在 1990 年代做的事情，我认为我们现在拥有的技术显然要好得多。我认为，按分钟租用 IT 服务具有不可思议的价值。

**维克托·法尔奇奇**：如果你排除 Netflix、Google 和 Apple 这些大公司，你怎么看构建私有云？它是否有意义，且是可行的选择？

**朱利安·辛普森**：我可能会对自己是否能交付一个私有云持怀疑态度。我确信我可以做到，但在这种安全威胁环境下，试图保持私有云的安全，可能比以往任何时候都更具挑战性。过去几年我们看到的一些安全问题让我感到惊讶。

**维克托·法尔奇奇**：你认为我们现在有更多的安全问题，还是这些问题只是变得更明显了？

**朱利安·辛普森**：我认为它们今天变得更加显眼了，我也认为安全研究似乎也跟随这些趋势。一旦有人发现一个漏洞，便会有更多的目光去寻找类似的漏洞。它们似乎是成波出现的。但我认为随着事物变得更加互联，安全问题变得不再像以前那样不显眼。十五年前我们并没有假设企业网络不是一个安全的地方。

## 文化与协作

**Viktor Farcic**：这是一个有效的观点。最后，你有没有什么想说的想法或者是我遗漏的什么问题？

**Julian Simpson**：不，我认为我们已经讨论了我认为最重要的内容，那就是文化。我非常高兴我们并没有真正讨论自动化或任何工具，除了作为其他事物的例子。对我来说，DevOps 完全是关于文化和协作的。

**Viktor Farcic**：那是否意味着文化塑造了工具，还是工具塑造了文化，或者两者都有？我的意思是，你能单独采用其中之一吗？

**Julian Simpson**：我猜不是，因为人们的期望必须发生变化。我认为他们使用的工具和工具使用的文化是紧密相连的。如果你能改变文化，那么工具可能会随之改变，反之亦然。但我认为事情不仅仅是这样。

Lindsay Holmwood 在 2016 年新西兰惠灵顿的 DevOpsDays 上做过一个演讲，他指出文化是有些隐形的，实际上你看到的都是一些物件，它们能告诉你文化的状况。考古学家会挖掘出某些东西，然后做出假设，实际上这里也是一样。我认为我们每天都能看到一些东西，它们能告诉我们公司的文化，或许工具仅仅是文化的一个物件。

“对我来说，DevOps 完全是关于文化和协作的。”

—Julian Simpson

**Viktor Farcic**：我以前没听过这个，但我喜欢这个说法。

**Julian Simpson**：是的。这完全是从 Lindsay 那里借来的，如果你和他聊一聊会很棒。如果你的公司需要大量的控制，那么你可能不会选择分布式版本控制系统，或者你可能想使用一些合理的产品来捕捉需求。甚至“捕捉需求”这个词可能也有某种文化影响。我想我最后想说的是，我认为工具可能会告诉你你的文化是什么。

**Viktor Farcic**：我喜欢这个。我真的很喜欢这个。
