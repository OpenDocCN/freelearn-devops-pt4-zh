## 第四十九章：介绍 Nirmal Mehta

Nirmal Mehta 是 Booz Allen Hamilton 战略创新小组的首席技术专家，专门从事新兴技术的研究、实施和集成，以服务 Booz Allen 的联邦政府客户。他领导公司的数字研究与开发、沉浸式机器智能和新兴技术战略方面的工作。此外，他是容器化领域的主题专家和 DevOps 实践的思想领袖。他曾是备受关注的 GSA 集成奖环境 AWS 云平台的首席架构师，负责实施首个以开放源代码、数据为中心、基于微服务的分布式应用程序，该项目在公共部门具有开创性意义。他对机器学习、沉浸式技术、开源、DevOps 以及将新兴技术与客户需求结合充满热情。他致力于将前沿技术引入企业系统，为商业和公共部门客户提供服务。他是 Docker Captains 小组成员。你可以在 Twitter 上关注他，账号是`@normalfaults`，在 LinkedIn 上访问他： [`www.linkedin.com/in/nirmalkmehta/`](https://www.linkedin.com/in/nirmalkmehta/)，以及在网上访问：[`nirmal.io`](https://nirmal.io)。

**Viktor Farcic**：我想从简单地请你介绍一下自己，Nirmal，以及你与 DevOps 的关系开始。

**Nirmal Mehta**：在我的职业生涯中，我有机会看到许多组织走上 IT 转型之路，通过这些经历，我见证了在我们行业中什么有效，什么无效。我努力在新兴技术、方法论和解决方案方面传播知识——尤其是通过 DevOps！

**Viktor Farcic**：那么 Nirmal，"DevOps"对你来说意味着什么？

## DevOps 的含义

**Nirmal Mehta**：DevOps 是将上世纪的过程改进技术应用到我们现代 IT 文化中的一种方式。如果我需要提供一个更全面的定义，我会说，DevOps 是一种 IT 运营模式，专注于利用工具和文化变革来简化和自动化 IT 服务的交付。它借鉴了上世纪 W·爱德华兹·戴明等人优化的制造模型。

更简单地说，DevOps 正在将组织的文化转变为一种实现共同目标的思维方式，而不是传统上在组织内设立的各个部落。

“DevOps 正在将组织的文化转变为一种实现共同目标的思维方式，而不是传统上设立的各个部落。”

—Nirmal Mehta

**Viktor Farcic**：谢谢你，Nirmal，看到每个人都有如此不同的方式来定义 DevOps，真是很有意思。那么，你认为 DevOps 和敏捷有什么区别？

**Nirmal Mehta**：我认为敏捷的十二个原则是指导方针。更重要的是，我认为敏捷本不该像今天这样被商业化并完全占据主导地位。我认为那些采纳敏捷的组织有些过度思考了这一点。

另一方面，DevOps 是将敏捷方法应用于整个组织，而不仅仅是它的开发流程。也许我的区分只是语义上的，但广义来说，你可以说 DevOps 包括了敏捷方法论。DevOps 就像是一个超集。

**Viktor Farcic**：是的，我认为 DevOps 就像是向组织引入更多的专业知识，甚至是更多的自动化。当然，这可以在组织中开辟新的职位——有时我甚至看到一个组织里 DevOps 工程师的数量极为庞大。老实说，我甚至不知道其中某些职位到底是什么——你会如何定义 DevOps 工程师？

## 什么是 DevOps 工程师？

**Nirmal Mehta**：这就是争议所在，因为根本没有 DevOps 工程师这样的职位。甚至不应该有 DevOps 团队，因为对我来说，它更像是一种文化和哲学方法论。这是一种过程，一种关于事物的思考方式，以及在 IT 组织内部的沟通方式。

“根本没有 DevOps 工程师这样的职位。甚至不应该有 DevOps 团队，因为对我来说，它更像是一种文化和哲学方法论。”

— Nirmal Mehta

但回到定义上，我认为 DevOps 工程师这个职位意味着，组织不再雇佣开发者和运维人员，而是想要少一个人，却做双倍的工作。

**Viktor Farcic**：我喜欢这个描述。尽管除了你，没人会承认，但现实中确实经常如此。你可以从 DevOps 工程师职位的招聘广告中看出来。

**Nirmal Mehta**：我认为组织只是想要一个既愿意构建又愿意操作软件的人。这些 DevOps 工程师的职位随处可见，但对于 DevOps 工程师到底是什么，至今没有一个统一的定义。

其原因在于，DevOps 工程师实际上涉及两件截然不同的事情：工具和文化。我认为 DevOps 更多的是关于文化，但 DevOps 过程中也有一些工具，这些工具会自然地引导组织向更多的 DevOps 实践倾斜。那么，DevOps 工程师可以被定义为实施这些工具和一些哲学思想的人。

当然，单单安装一些工具并不能意味着一个组织自动成为 DevOps 组织——你可以滥用任何工具，不管它有多神奇。因此，重要的是还要指出，DevOps 工程师更像是一个咨询角色，而不是仅仅操作这些工具并保持它们运行的人。

通常，组织只希望有人进来实施这些工具。然后，最终他们被要求只是一个也要操作东西的开发者。

**Viktor Farcic**：是的，我常常看到现有团队只是被重命名了。他们继续使用相同的流程和工具执行相同的任务，只不过换了一个更流行的名字。

**Nirmal Mehta**：我曾经参与过一个项目，他们要求有一个单独的 DevOps 团队，这对我来说根本没有任何意义。DevOps 团队是另签合同的，因此他们甚至不是为组织工作。所以，这个项目有开发人员、安全团队、运营人员和一个 DevOps 团队。

现在，你告诉我，那个 DevOps 团队应该做什么？他们唯一的工作是在部署到生产环境之前的最后一步。那个 DevOps 团队什么都没做，除了在代码进入生产环境之前进行签字确认。那根本不是 DevOps 团队，他们只是一个没有目的的随机团队，随便一个权威。

**Viktor Farcic**：这让我想起了系统管理员被改名为 DevOps 的情况。

**Nirmal Mehta**：是的，那个 DevOps 团队本质上是一个被削弱的质量保障团队，改名为 DevOps 只是因为这个名字听起来很吸引人。

今天，DevOps 仍然有很多“粉饰”。正如我在一次演讲中所说的，如果你花了超过一个月的时间试图搞清楚你们组织的 DevOps，或者已经花了 15 次会议来讨论 DevOps 是什么，那么你就是在过度思考它。

"如果你花了超过一个月的时间试图搞清楚你们组织的 DevOps…那么你就是在过度思考它。"

—Nirmal Mehta

不是一切都必须复杂！你可以决定在任何时刻，想要在工作中加入多少复杂性。仔细看看你们的组织，挑选一些痛点，然后从那里开始。阅读一些书籍并实施其中一两部分流程，可能比花一个月时间争论 DevOps 是什么要好，这也是我们在 IT 中喜欢做的事。我们喜欢争论一些事情，却什么也没做成。

我们喜欢待在自己的小圈子里，我们喜欢推卸责任，我们有争论和对立的需求，我认为 DevOps 和敏捷有助于重新定义这个对立面是谁。DevOps 不是让我们在内部小组之间产生摩擦，而是将我们的对抗性精力集中在我们为客户解决的问题上。DevOps 让我们与实际问题发生冲突，而不是彼此之间。

**Viktor Farcic**：但最终我们会遇到那些顾问，他们卖给我们为期一个月的培训，号称能把我们转变成敏捷专家？

**Nirmal Mehta**：没错，这也是我可以深刻探讨的一个话题：为什么我们必须为敏捷进行这么多培训？我认为所有这些培训本质上是与敏捷的目标背道而驰！我们发现自己被复杂的细节包围，忘记了敏捷的核心原则。

我想这也是为什么敏捷的创始人们提出了敏捷宣言，他们想迫使我们把它打印出来并贴在墙上。他们知道，如果我们不时提醒自己敏捷的核心理念，我们就会忘记我们真正想要实现的目标。

**Viktor Farcic**：这听起来像是对敏捷的误解和过度复杂化，敏捷的本质其实非常简单。

## 过度思考 DevOps

**尼尔马尔·梅塔**：作为一个行业，我们喜欢把所有事情想得过于复杂，我认为 DevOps 也有类似的问题。

DevOps 非常简单。DevOps 是应用一些用于流程改进的技术，这些技术是一些初创公司、运作良好的组织和聪明的人所实施的。它们被展示给了其他人，其他人说：“是的，听起来不错；这帮助我们提高了效率，降低了成本，或提升了质量，你知道吗，我们也许应该采纳它！”

“作为一个行业，我们喜欢把所有事情想得过于复杂，我认为 DevOps 也有类似的问题。”

—尼尔马尔·梅塔

让我们不要把 DevOps 复杂化。当需要减肥时，简单来说，就是摄入的卡路里少于消耗的卡路里。这是简单的事实。不要被复杂的饮食方法分散注意力，因为你想找到捷径。DevOps 也是一样，理念很简单：走出自己的路。

## DevOps 理念——走出自己的路

DevOps 的理念是走出自己的路。但这当然太难了，所以我们试图找到捷径。这个捷径可能是一个工具，一个顾问，一些 YouTube 视频，或者一本书。但最终，我们无法避免必须遵循这个理念。我们可以整天使用 Jenkins，但如果不遵循理念，我们什么也达不到。

“DevOps 的理念是走出自己的路。但这当然太难了，所以我们试图找到一个捷径。”

—尼尔马尔·梅塔

这是今天组织中正在发生的根本性转变——一个认识到，实际的、有效的变化必须稍微有些痛苦。这是一次深刻的文化转变，我们必须处理人们、他们的态度，以及所有相关的事情——包括那些根本不想改变的人。

今天我们行业中关于 DevOps 有很多误解，这主要是因为没有人愿意听到一些简单但重要的真理，比如“更多的卡路里消耗”，而且很多人不愿面对变化。你认为像 Facebook 和谷歌这样的组织，是否也在进行这些辩论？

**维克托·法尔西奇**：我预计谷歌和 Facebook 现在一定在进行一些重要的辩论，其他人会在十五年后才参与，关于机器学习和神经网络的讨论。但谷歌也一直在讨论 SRE，例如？

**尼尔马尔·梅塔**：是的，像谷歌这样的组织，已经将一些最新的辩论转化为服务级别协议和站点可靠性工程（SRE）理念。这些痛苦是无法逃避的。

## DevOps 与 SRE

**维克托·法尔西奇**：那我们来探讨一下谷歌的 SRE 与 DevOps 之间的关系吧。你如何定义 SRE 呢？

**尼尔马尔·梅塔**：站点可靠性工程师是基于谷歌 DevOps 方法论，支持开发团队和生产系统的 IT 运维工程师。

SRE（站点可靠性工程）哲学中的一个重要观点是，预算中与项目团队修复问题所需的小时数相关的风险。

你可以部署任何你想要的高风险软件，但如果你耗尽了那个预算，那就是你的责任。如果你提供的服务不那么关键，那么你就有更高的预算，可以承担更多的风险。或者你可以说，“你知道吗，我需要将这些预算储备到某些年份的特定时段，或某些事件中，这样可以平衡一下。”

谷歌的 DevOps 方法论中的这种方式去除了规避痛苦的能力，因为它把痛苦放到了最前面和最中心。

解决关键痛点是许多组织面临的困难问题，这也是敏捷中一个非常常见的问题。例如，如果你正在从瀑布式开发转向敏捷，那么项目经理、领导和所有者都会希望采用敏捷——但还是带有截止日期的敏捷！

**Viktor Farcic**：你是说经理们希望别人采用敏捷方法，但他们自己却不愿意调整自己的工作方式吗？

**Nirmal Mehta**：是的，正是这样，那些人希望有带有截止日期的敏捷方法，因为截止日期让他们可以把责任推到别人身上。

截止日期是逃避的捷径，而敏捷则迫使你以更规律的节奏、或通过优先级来思考实施，并且更频繁地做出决策。

没有一个领导者喜欢像敏捷要求的那样频繁做决策，因为决策意味着责任。许多组织及其成员都是规避责任的高手。敏捷方法强迫在一开始就进行这种讨论，而不是等到截止日期后或临近截止日期时才讨论优先级。

“没有一个领导者喜欢像敏捷要求的那样频繁做决策，因为决策意味着责任。”

——Nirmal Mehta

DevOps 也是一样，因为它强迫你理解如何将项目投入生产，并且在周期的开始就为此支付费用。在 DevOps 中，你要在周期开始时就捕捉问题，而不是等到最后。

我们今天面临的许多问题，都是因为有人能够在最后一刻才做出决策——也就是说，直到被迫做出决策时，他们才会行动。他们可能已经知道自己的决策是什么，只是直到被迫做出决定时，才对这个决策有信心。

敏捷和 DevOps 强迫你更频繁地做决策，而且是从一开始就要做。我认为人们很难具备做出决策所需要的信心，或者对失败的*接受*，这使得他们能够做到这一点。具有讽刺意味的是，DevOps 和敏捷比传统方法更容忍你频繁做出错误决策！

## 更频繁地做出[错误]决策

**Viktor Farcic**：你是说，IT 部门中的组织和人员应该更频繁地做出错误决策吗？

**尼尔马尔·梅塔**：如果你每年部署四次，那你只有四次机会做出决定，因此每个决定都具有巨大的影响。如果你处于敏捷环境中，你会做出很多小的决策。如果你做了一个错误的决定，你可以在下一个截止日期修正它，而且你损失的很少。这就是讽刺所在。

“如果你处于敏捷环境中，你会做出很多小的决策。如果你做了一个错误的决定，你可以在下一个截止日期修正它，而且你损失的很少。”

—尼尔马尔·梅塔

当然，如果你做了一个错误的决定，仍然会感到痛苦，但不知为何，我们人类觉得每两周就必须做一次决定更让人痛苦。

我认为这类情况在其他行业也会发生，有时甚至在风险更大的情况下。例如，在航空、制造或建筑行业，当你做出一个重大的错误决策时，会有几百万美元的后果。这些行业的组织已经发展出了自己的技术来迫使做出增量决策。

**维克托·法尔奇**：在过去的几年里，我在各种会议中看到 DevOps 的兴趣大幅增长。这种兴趣通常集中在一些特定主题上——不可变基础设施、容器和调度程序。它们之间是否存在某种关系，能够解释这么多的兴趣呢？

## DevOps 模式

**尼尔马尔·梅塔**：是的，它们之间确实存在关系。而且它们之所以引起如此大的兴趣，是因为它们反映了一些人们目前开始采纳的重要模式。

也许只有十%的人真正知道今天在 IT 行业中自己在做什么，而且他们不可能同时在每个组织里工作。当然，是否有人*真*知道自己在做什么，这也是一个值得讨论的问题，因为我敢打赌，如果你问这十%的人，他们会说：“我不知道我在做什么！”

那些十%的*人*知道的是，当他们*这样做*时，他们的压力会减少。当他们*这样做*时，他们的网站更可靠。当他们*那样做*时，他们每次都会多一个客户。所以他们是这样看的：“如果我这样做，我可以获得额外的一百万美元投资；如果我这样做，我的评价会上升；如果我这样做，我没有关上门，因为我仍然具备竞争力。”这些就是我们行业里唯一的启发式方法。

现在，让我们以一位 IT 职业人士为例，也许在他们的职业巅峰期，他们平均在三到六个不同的地方工作过。

**维克托·法尔奇**：是的，找到在一家公司工作一辈子与每几个月就换工作之间的平衡确实很难。

**Nirmal Mehta**：是的，那么我们在职业生涯中做了什么？每年我们都会想，“嘿，那样好像有效，我花了六个月的时间做了这个，结果它有效。”我们在 DevOps 中尝试做的，就是从每个人那里收集尽可能多的经验法则，然后以某种方式将其提炼，直到有一天我们能说：这就是*最优的*经验法则。

比如，曾在 Docker 工作的 Aaron Huslage，现在在 Red Hat Ansible，他过来对我说：“你们为什么要修补？直接销毁服务器，把容器迁移到新的修补过的服务器上。不要进行回溯修补，始终向前推进。”好吧，这是个好主意！这样节省了我时间，因为现在我少了一件需要担心的软件。

我认为我们在 DevOps 中所做的一切就是不断地寻找、寻找、再寻找这些想法。每一个想法的背后，都需要一个相应的文化变革。当你采纳这些做法时，发生的文化变革就叫做 DevOps。

**Viktor Farcic**：你是在说 DevOps 只在与新想法的关系中存在，而新想法需要 DevOps 来管理组织向文化转型吗？

**Nirmal Mehta**：我认为 DevOps 可以存在于这些想法的有无之间。我的意思是你可以用 DevOps 进行补丁修复。你也可以拥有传统的 DevOps 运维方式。只要你理解其中的沟通机制，并且准备好持续检查和理解你的流程——并随时准备改进它们。

毕竟，关于 DevOps 的采纳没有时间表，也没有宣言说你必须实现更大的软件部署。

“没有关于采用 DevOps 的时间表，也没有宣言说你必须实现软件部署的增加。”

—Nirmal Mehta

在我的客户群体中，软件*更快*地部署并不总是最迫切的需求。有些组织甚至不关心*成本*。在我的客户中，一个很常见的情况是，如果他们今年没有花完预算，明年将会得到更少的资金，因此他们*想要*花更多的钱。

这并不意味着 DevOps 在这些情况下对组织没有应用：它们仍然可以从 DevOps 中获得其他需求，比如变得更加*安全*，从而变得更加*可靠*。

可靠性是一个大话题。从本质上讲，服务的可靠性是今天你看到 DevOps 兴趣激增的一个主要驱动力。用更少的人做出更高可靠性的服务，这就是我认为 DevOps 的意义所在。存在一种风险，那就是这些做法可能减少像我们这样的人才需求。

**Viktor Farcic**：你说的“像我们这样的人”指的是谁？

**Nirmal Mehta**：我的意思是开发人员和运维人员。随着这些服务越来越多地转向 SaaS 模式，我认为未来某个时刻，新的软件开发将更接近初级水平，像是预设的商业对象，比如 Azure 或亚马逊 Web 服务。

**维克托·法尔奇奇**：那么，你对开发人员和运维的未来不抱希望吗？

**尼尔马尔·梅塔**：我直觉上认为，在未来，我们会看到大多数 IT 组织中开发的定制软件减少。相反，新的软件开发将是在硬件上进行的。

唯一需要注意的是机器学习，它已经成为软件开发的一个全新世界。通过将不同的深度学习和神经网络组合在一起来进行编程，可能会成为软件开发的一个新领域，这可能会是许多人的转变。我们将不再整天为 Web 应用程序制作 API，而是将专注于优化机器学习，并且我们将变得更加程序化。最终，80% 的服务将由四个霸主服务提供商提供，就是这样。

“最终，80% 的服务将由四个霸主服务提供商提供，就是这样。”

—尼尔马尔·梅塔

**维克托·法尔奇奇**：说实话，如果我年轻并且还有职业生涯的岁月在前，我会感到非常害怕，因为我认为大多数人只是无法跟上这不断增长的速度。

那些专门从事单一领域的人面临着变得过时的更大风险。我的意思是，当公司决定转向云时，那些花了多年时间工作在基础设施上的人会发生什么？当然，他们可以申请在 AWS、Azure 或 Google Cloud 工作，但我担心对许多人来说，门槛可能太高了。

**尼尔马尔·梅塔**：我们已经在行业中看到了这一点；看看有多少组织正在迁移到 Office 365，以及有多少地方有自己的 Exchange 服务器。这个数字越来越少。长期以来，这是 IT 的核心角色，管理 Active Directory、Exchange 和 MS SQL，但那些日子已经过去了。

**维克托·法尔奇奇**：我猜这使得公司处于一个甜蜜的位置，他们可以将大部分资源投入到真正为他们带来价值的事情上。当你想想这个问题时，管理 Exchange 对一家公司来说是否真的有价值？

**尼尔马尔·梅塔**：不，不是这样的。但我认为有趣的是，这是一种愤世嫉俗的观点，即许多这样的公司中有很多低 hanging fruit（易于获取的机会）！

对于那些已经建立了垄断地位或通过竞争创造了足够大壁垒的公司，或者在这个领域内工作或竞争的公司已经趋于集中的公司来说，这一点尤为真实。对于这样的公司，增加价值可能没有得到任何回报。对于这样的公司，完美并不需要。他们甚至不需要没有错误的代码；他们只需要发布一些东西，即使它不怎么样。

## DevOps 的真正敌人

我们在这里讨论的是 DevOps 和敏捷的真正敌人。这个真正的敌人不是供应商，不是对 DevOps 的错误标签，也不是那些难搞的 IT 商店。DevOps 的真正敌人是当我们试图实现的所有基本平衡不再重要时。DevOps 的真正敌人是当更高质量的东西变得不重要时——当一个组织只是在努力把东西推出去。

“DevOps 的真正敌人是当更高质量的东西变得不重要时——当一个组织只是在努力把东西推出去。”

—尼尔马尔·梅赫塔

我在会议上遇到的很多人都是 IT 人员，他们中的大多数显然在努力从中获取更多价值，打出自己的烙印，降低成本，或者保持工作。但在大多数组织的某个层级，如果你遇到一个非 IT 人员，他们可能会认为目前的状况已经足够好，他们可以继续榨取这个“苹果”。

**维克托·法尔西奇**：我认为我们在速度上存在严重的差距。尽管我们已经习惯了事物经常变化，而且速度越来越快，但世界仍在努力搞清楚这意味着什么。非 IT 人员仍然不习惯于这样的事实：昨天有效的东西今天可能完全不同。

**尼尔马尔·梅赫塔**：是的，他们只需要每六个月更改一次网站的颜色，就可以了。还需要更改产品的名称。

这就是为什么竞争是好事，因为 DevOps 的真正敌人会在 IT 组织中显现出来，在这些组织里，“足够好”的质量比我们任何人想要工作的质量都要低。

从这个角度看，DevOps 只是一种方式，通过减少两三个员工的工作，做到“足够好”，在组织转型为完全的软件即服务（SaaS）模式之前。这才是 DevOps 试图对抗的真正逆境和冷漠。

敏捷也在试图对抗这种冷漠。瀑布式方法一直是在生产前的最后一刻做决定，对吧？敏捷要求这些决策提前做出，这样你就不能对任何事情漠不关心。相反，你必须今天就决定你要做什么，以及你希望别人做什么。敏捷的目的是创造一种激励，迫使人们做决策。

DevOps 在这一点上非常相似，我们为人们和组织创造了一种激励，让他们做出关于要部署什么样的代码或要部署什么样的服务的决策。

**维克托·法尔西奇**：我认为你关于 DevOps 角色的看法是对的，但我也认为决策是许多人试图避免的。这可能是我们在 DevOps 的定义与实际实施之间存在如此巨大差异的原因。今天许多组织面临的一个关键决策领域是安全。那么，DevOps 如何融入 IT 安全部门呢？

## DevOps 在安全部门

**尼尔马尔·梅塔**：我认为 IT 安全非常重要，但我也知道，我们很容易低估有多少人现在根本不在乎安全。而这正是因为，对许多人来说，安全问题就像污染问题一样。IT 安全和气候变化从这个角度来看几乎处于同样的局面：它们都具有负外部性。

让我解释一下。如果消费信贷报告机构 Equifax 被黑客攻击，像它曾经那样，并且我们的所有信用信息都被泄露，但 Equifax 在这样做时没有承担任何成本，那么这就像我建造了一座电厂，却不为我排放的污染支付代价。这是一种负外部性，与成本没有关联，而这种情况如果没有政府介入，是无法自行修复的。这本质上就是政府的作用——消除这种公地悲剧。我认为安全正陷入一种公地悲剧的境地，在这里没有任何后果。

“我认为 IT 安全非常重要，但我也知道，我们很容易低估有多少人现在根本不在乎安全。”

—尼尔马尔·梅塔

如果我投入 100 美元来提升我的安全性，而我的竞争对手投入 0 美元来提升他们的安全性，然后我们俩都被黑了，那我们俩都没有后果。我失去的只是 100 美元，而我的竞争对手没有失去 100 美元。这就是唯一的区别。

**维克托·法尔西奇**：我在与企业公司合作的经验告诉我，安全总是最后发言，但与此同时，大多数人并不真正理解。安全往往只是标记 Excel 表格中的一些字段，而没有真正帮助 IT 团队开发安全的应用程序。太常见了，安全部门的唯一目标似乎就是能够说：“这不是我们的错。”

**尼尔马尔·梅塔**：这就是我们所面临的不幸局面，我想即使在 Spectre 和 Meltdown 漏洞之前，我们就已经面临了这样的问题。这种大规模的安全漏洞并不会消失，但我们没有足够的头脑空间去理清安全问题有多严重。因此，我们作为一个文明和现代社会，在隐私和 IT 安全方面，通常选择埋头于沙中。我认为，除非行业中出现真正的后果，否则我们将继续这样做，甚至即使那样，我认为变革也不会发生，因为那基本上意味着要摧毁 IT。

想象一下，如果开发人员必须为他们编写的代码投保，就像医生必须购买医疗事故保险一样。如果有类似于计算机或开发者工程过失的保险，它会在一夜之间摧毁整个行业。有些开发者如果有钱可能会购买，但作为一个行业，我们已经在人才和资源上感到捉襟见肘，这最终会导致该领域 90%的开发者被淘汰。

此外，我们曾经承诺可以成为开发者的所有人，因为我们通过自动化摧毁了他们的工作，必须为他们切换职业时可能导致的初始代码问题投保。除非一切变得更贵，否则这个想法根本不切实际，安全也不会有所不同。

**Viktor Farcic**：我很惊讶之前没有听到过关于代码保险的这个想法。越想越觉得这有道理。为什么软件会与其他有保险的事物不同呢？我们都在使用它，我们都依赖它，故障可能导致严重的损害甚至死亡。它符合许多我们认为理所当然的、被投保的事物的描述。

但是，正如你所说，保证代码质量会在一夜之间摧毁整个行业的一大部分。我们已经习惯了软件并不总是有效，而黑客攻击也成了生活的一部分。没有太大的激励去确保我们所创造的东西真正安全——至少不是在每个地方。

**Nirmal Mehta**：这并不意味着公司不能在安全上与众不同。看到像苹果这样的公司，和其他公司不把我们当作产品来对待，感觉很好。

“我认为改变不会发生，因为这本质上意味着要杀死 IT。”

—Nirmal Mehta

现在，当你谈到商业对商业（B2B）安全，或者电子商务安全时，我认为答案是，事情将会转向更多基于 SaaS 的服务。

当你和组织谈论迁移到云时，你会开始看到它如何真正让一切变得更安全。为什么？因为组织必须面对现实：他们必须实际做他们说过的安全工作，但实际上并没有做到！当然，亚马逊云比许多自己运作的地方要安全得多，因为亚马逊有一个巨大的财务激励，而许多政府服务缺乏这个激励。

DevOps 有一个真正的机会，可以增加许多组织中缺失的安全激励。然而，良好的 IT 安全仍然需要强有力的领导。

**Viktor Farcic**：IT 中缺少什么需要这种强有力的领导？是更多的资金投入，更多的教育，还是更好的实践？今天我们在安全方面缺少什么？我问这个问题是因为在我访问的公司中，我不断遇到合作伙伴，他们会说：“看，你需要满足那 35,000 个要求，然后你就安全了。”我认识的任何人都没有成功完成他们的所有要求。

**Nirmal Mehta**：这里有几个不同的问题。第一个是，修复一个 bug 或安全问题没有荣耀，而部署一个新特性总是有荣耀的。

第二点是，修复漏洞、发现安全漏洞并以*正确*的方式做事情，通常需要更多的耐心、更多的思考、更多的工程时间、更多的时间和更多的成本。这些东西大多数组织一开始就没有。大多数组织甚至没有足够的资金或资源来完成他们最初的目标，尤其是在软件方面。那些东西通常排在清单的后面。

“修复一个漏洞或安全问题没有什么荣耀，而部署一个新功能却总是充满荣耀。”

—Nirmal Mehta

第三点是经验和理解。有多少人真正理解推测执行和处理器的工作原理？如果你去那些编程训练营，学习成为一个网页开发者，坐在那里导入了 15,000 个 npm JavaScript 库，他们有告诉你 CPU 是怎么工作的吗？没有。

**Viktor Farcic**：而且你根本不知道那些库做了什么。

**Nirmal Mehta**：没错，懂得这些的人是昂贵且稀缺的。现有的软件套件并未将他们的经验和知识进行编码。安全软件行业在适应更频繁的部署和整合关于常见漏洞和渗透测试的整体情况方面，远远落后。

当然，这一切都使得一个组织的开销比那些选择不做这些事情的竞争对手要大。也许失去一个客户会有后果，但并没有全球性的后果。

**Viktor Farcic**：直到它发生之前。

**Nirmal Mehta**：是的。我直觉上感觉很多地方的安全性没有我们想象的那么好，而保险模式只是在支付这个问题，而不是让他们去解决它。支付问题比支付每年 25 万美元雇一个安全人员要便宜。

支付问题带来了很多问题，其中之一就是，如果一个组织不是像谷歌、脸书或苹果这样的一流公司，那么那里的安全人员可能根本不是专家。他们很可能只是做过一些培训并获得了认证。是的，他们可能对 SQL 注入和网络钓鱼攻击非常了解，但他们很可能只是负责这些工作的一个小团队成员，而且他们更关心下班后能不能去吃饭。

当然，他们有这个秘密武器，其他 IT 组织的人都没有，那就是无条件地说“不”的能力。

**Viktor Farcic**：你不得通过！

**Nirmal Mehta**：这就像一种认知偏误，它像是一种虚假的权力……但它其实不是虚假的权力——它是真正的权力！而且与负面情绪作斗争要困难得多。

安全不是一个司法系统；你不是在证明你无罪之前就是无辜的。在安全领域，确实有充分的理由认为你在证明无辜之前就是有罪的，这也是我们有那些检查清单的原因。

“安全不是一个司法系统；你不是在被证明无罪之前就是无罪的。你被认为是有罪，直到被证明无罪，这就是我们有那些清单的原因。”

—Nirmal Mehta

但这也意味着，你的假阳性和假阴性都会飙升，因为在这种情况下不说“不”太难了。

**Viktor Farcic**：如果我在未被证明无罪之前就是有罪的，那么我无法证明自己是无罪的。

**Nirmal Mehta**：没错，根本不存在 100%无误、无漏洞的软件。我们面对的是非确定性复杂系统，而这就是挑战所在，因为每个人都希望得到 0/1、是/否的答案，但在非确定性复杂系统中并没有“是/否”，只有接受的概率和百分比。

问题在于，安全性往往把一切视作是有/无的决策，并附带一定的风险，而每个人都需要将安全性看作是一种概率。同时，没有人愿意处理困难的事情。

这里的难点在于，如何在不引入所有这些工具的情况下编写优质软件，并且实际审视所有代码，查看你正在使用的开源工具，验证你所做的事情，实现互相 TLS 验证，更新你的证书，并确保你的域名启用双重认证。

这些问题是安全的基础，跟“输出的热量大于输入”是同样的道理，但我们都在寻找捷径。而安全人员的捷径就是直接说：“不，这是一个症状清单。”

清单只是过去曾经出现过的症状。它不是解决办法，也不是对系统的诊断。它只是一个症状清单。你打喷嚏了吗？没有，好吧。你咳嗽吗？没有，好吧。你发烧了吗？没有，好吧。那么你就不是安全风险。

## 打击安全威胁

**Viktor Farcic**：如果我们能够应对的话，如何应对安全威胁？一个人通过利用我们的系统漏洞能够造成严重损害。如果我们能给出一个数字，我们需要多少人来防止那个人攻击我们？

**Nirmal Mehta**：到目前为止，我们想出的就是这些，不是吗？我们如何为这个问题买单？需要多少人？那是因为一切都是反应性的。

然而，这个问题不仅仅如此。IT 安全的核心利用了与现代技术公司能够在比以往更少的人手下完成令人惊叹的事情相同的力量。但问题在于：这种让技术能够大幅提升单个员工杠杆效应的能力，也同样作用于攻击你的人。

这与我们面临的恐怖主义问题相同。一个人成为自杀炸弹袭击者只需 500 美元，但防止这种自杀袭击发生却需要 1.5 万亿美元。那些攻击你基础设施的袭击者，拥有与你创造公司所用的相同，甚至是 1000 倍以上的优势。

“攻击你基础设施的攻击者拥有与你用来使公司存在的相同的 1000 倍或更多的优势。”

——尼尔马尔·梅塔

除非你将你的数据送到太空，否则要真正防止这种情况几乎是不可能的。那么，这一切意味着什么呢？这意味着你必须决定在 0% 到 100% 的安全失败概率谱上，自己最能接受的位置。

你仍然不会将等同比例的实际资金投入到安全风险中，因为这比你想象的要昂贵得多。必须有一个平衡——某种成本/效益评估，让我们在尽可能少的投资下获得最大的利益。

**维克托·法尔西奇**：接下来十年我们会面对什么？

## 未来技术

**尼尔马尔·梅塔**：我的工作的一部分是研究未来技术，现如今我正专注于云计算领域。某个时刻，我对云计算的理解有了深刻的领悟。

让我告诉你吧。那是在我看到 *AWS re:Invent* 上的一张幻灯片时；它只是一个柱状图，*x* 轴是 *2011*、*2012*、*2013* 和 *2014* ——这些年份；而 *y* 轴上不是新服务，而是 AWS 提供的功能年增长百分比。图表中的第一年是 50%。他们增加了另外 50%，所以下一年是 100%。接着是 500%。再之后是 1000%，然后是 4000%。

如果你是一个内部 IT 组织，正在构建服务，并且看到这张图表，而我正在推销云计算和利用云服务来组合并构建你自己的应用程序，你该如何抵制呢？

对我来说，亚马逊、Azure 和 Google 正在垂直发展是显而易见的。它们希望尽可能多地进行垂直整合，因为每当它们向上移动一层时，就能获得更高的价值，因此商品和价值都会提升。

“对我来说，亚马逊、Azure 和 Google 正在垂直发展是显而易见的……”

——尼尔马尔·梅塔

如果你每年以 4000% 或 5000% 的速度发展，最终你会耗尽所有可以开发的东西。你是告诉我，没有一个服务可以让你将三个东西拖放到屏幕上，然后得到一个完整的商业应用程序吗？当然有。这正是那张图表的必然结果。

如果这种趋势得以持续，即使它没有持续下去，即便他们回到 50%，他们只需要在各个方面增加一点点，做得更好地将现有的服务连接起来，那么你就没有理由再开发自己的软件。你只需有业务用例，选择语言和容器格式，选择 CICD 流水线，然后就完成了。

一年前，我参加了一些 Azure 培训，我们必须构建一个带认证的 Web API。它会接收一个 JSON 格式的字符串，将其转换为中文，进行情感分析，搜索 Twitter，然后提供一个关于下一词的机器学习预测。

如果五年前我遇到这个挑战，我就得建立一个架构，可能还得用一些机器学习。我甚至都不知道该如何启动一些 EC2 实例。那时候容器技术还没有普及，但也没有 Docker，所以我可能不得不将这些东西拼凑起来，花费 99%的时间去进行网页连接认证和运行 EC2 实例，仅仅是让这些东西启动并运行起来。

相比之下，我们在培训中用十五分钟就完成了所有这些工作。我们将一个框拖到窗口中；然后又拖了一个包含 Cortana 翻译服务的框，并画了一条箭头，所以情感分析由 Cortana 完成。我们将 API 密钥放进去，一切准备好后点击部署，它就变成了一个完全负载均衡的 API，自动创建，认证和证书都已经搞定。我们把 JSON 发过去，轰的一声。现在我们可以把它打包并放到市场上，在那里我们可以按每次 API 调用的 1% 来出售它。

**Viktor Farcic**: 我可能需要发出几亿次 API 调用，但归根结底，这些花费仍然只是我可能永远无法独立完成这项工作所需成本的一小部分。

**Nirmal Mehta**: 没错，因此在那次培训中我说过：“我们可能会继续做顾问，为这些项目构建这些东西，也许再有十五年，但未来总有一天，绿地开发将不复存在；那时我们将只是在亚马逊、Azure 或 Google Cloud 上构建商业智能应用程序。”

“我们可能会继续做顾问，为这些项目构建这些东西，也许再有十五年，但未来总有一天，绿地开发将不复存在。”

—Nirmal Mehta

未来可能会有其他服务将这些服务组合在一起，但在某个时刻，这一切将会完全垂直整合。事实上，你现在已经可以在亚马逊的视频编辑工具中看到这一点。他们发布了一堆 3D 网页 VR 工具，所以他们已经开始挑战这些行业，曾经让人难以想象这些东西能够在云端完成，但现在它已经做到了，因此在某个时刻，你就不再需要去构建你自己的服务了。

我的意思是，Lambda 允许按调用付费，因此如果你是一个初创公司，你甚至不需要再运行服务器，而且你的成本可以和客户获取的数量完全成正比。

**Viktor Farcic**: 对于初创公司而言，刚开始时成本基本为零，因为在最初的几个月里，你很不可能达到免费的使用限制。

**尼尔马尔·梅塔**：我预测这将是未来的趋势。业务负责人和内部 IT 团队之间将不再有对话。业务负责人将直接进入 Azure。然后，业务用户——不是开发人员，不是运维人员，也不是安全人员，而是业务用户——将拥有他们的 Azure 帐户。

业务用户将是一个精明的实习生，业务负责人可能会说类似于：“好吧，我需要一些东西来告诉我我们竞争对手的物流运输路线。”对此，业务负责人会说：“好，砰，这里有一个地理空间服务。”然后，业务负责人会添加一些机器学习模块，放入一个 API，点击部署，测试一下，就完成了。接着，他们会直接把账单交给业务负责人。

这让我感到害怕，但当这些东西真正起飞时，我们的 DevOps 职业生涯几乎就结束了。如果我现在开始我的职业生涯，我会选择做带有数据科学和机器学习的 DevOps，因为如果你能收集数据并从中学习，那就是今天和未来几年真正的价值所在。

“如果我现在开始我的职业生涯，我会选择做带有数据科学和机器学习的 DevOps。”

—尼尔马尔·梅塔

**维克托·法尔奇奇**：就像你说的，没问题，对吧？这就像气候变化一样；在我退休之前是不会发生的。你有什么最后的评论吗？

**尼尔马尔·梅塔**：我最后的评论是，我有时会高估转向新系统的动力，低估维持旧系统运作的惯性。我的意思是，人们在 IT 领域接受非常糟糕的系统，比你想象的要久得多。

这是我离开的思考。我们可以对容器、CICD 和 DevOps 本身感到兴奋，但无论如何，在未来的某个时刻，这些都将不再需要。
