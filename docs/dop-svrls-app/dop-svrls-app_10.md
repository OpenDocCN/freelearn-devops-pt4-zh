# 无服务器函数的 DevOps 趋势

最终，我们的旅程即将结束。在本书中，我们回顾了不同的无服务器提供商，以及多种构建、部署、监控和记录无服务器函数的方法，并且涉及了不同的服务提供商。那么，无服务器将如何改变 DevOps 的方向呢？正如我们所知，使用 IaaS 和 PaaS 时，我们需要构建基础设施，始终对其进行监控并进行扩展。我们需要使用配置管理工具不时地升级服务器，监控、记录并管理手动扩展，而当考虑到无服务器时，所有这些都不再需要。那么，当我们决定使用无服务器时，DevOps 将走向何方呢？曾经有一种看法认为如果我们采用无服务器，DevOps 就不再需要了，但这并不完全正确，正如我们通过各章所学到的，DevOps 并没有完全消失。我们仍然需要对代码进行版本控制、打包、部署，并进行监控和记录，但比 IaaS 和 PaaS 要更为简单。

本章将讨论两个小但非常重要的主题：

+   无服务器对操作的影响

+   无服务器的 DevOps 方向

# 无服务器对操作的影响

如我们所知，DevOps 实际上是开发人员和运维团队之间的合作，共同努力以更快地构建和生产应用程序。近年来，DevOps 变得非常强大，其价值随着加速和更好地支持应用程序部署而不断增长，并且它还促进了开发和选项过程的持续改进。

但开发人员其实并不太喜欢 Ops，因为他们总是不得不处理 Ops，以确保他们的代码在生产环境中按照业务需求正常运行和执行。操作的核心理念是提供基础设施，这在不同的环境（开发、QA、预生产和生产）中是相似的，从而让开发人员的工作更轻松，他们只需要专注于构建应用程序。

直到现在，操作员的工作一直是设置基础设施，最终通过脚本配置基础设施。操作员必须管理安全性、监控、记录以及许多其他日常工作，因此这需要大量工作，这也是推动我们向无服务器计算转型的原因。所以，开发人员重新专注于开发，创建新的功能和特性，减少了他们对代码是否能在提供的基础设施上运行，或是否会在代码中出现应用扩展问题的担忧。

基本上，无服务器架构从技术上来说是让开发者摆脱了运维的负担，这样开发团队和运维团队可以更加专注于自己的任务，而不必浪费时间处理基础设施问题。那么，无服务器架构是如何产生的呢？无服务器架构的诞生有很多因素和原因，其中一个关键因素就是容器的普及。容器早就存在，但随着 Docker 和 Kubernetes 的出现，容器变得更加流行。从概念上讲，无服务器架构基本上是将微服务拆分成更小的部分，这些部分可以被称为纳米服务（nanoservices）。这些纳米服务能够完美适应容器，从而实现纳米级的功能。同时，我们也知道，借助 Kubernetes 等服务，容器的管理变得非常简便。这可能是无服务器架构受欢迎的原因之一。

随着云服务提供商的引入，基础设施变得更加稳定且成本更低，但对于虚拟机，我们仍然需要进行配置和管理。然而，随着云服务商引入无服务器架构，运维团队不再需要担心配置和管理。实际上，运维团队的角色将逐渐消失，但并非完全消失。他们将不再负责基础设施的配置和管理，而是能全身心投入到监控、日志管理、服务部署和管理的编排、安全管理等方面。虽然虚拟机/容器的管理已不再是重点，但性能监控、安全监控等任务仍然存在，简而言之，运维团队需要提升技能，以适应云服务的需求。

# DevOps 在无服务器架构中的发展方向

当没有 DevOps 时，开发和运维是各自独立工作的，这导致了团队协作不畅和缺乏透明度。运维流程极其缓慢，且无法控制环境的整合。随着 DevOps 团队的整合，所有成员统一协作，共同参与应用生命周期的管理，通过技术栈和工具实现自动化。DevOps 成为组织的核心支柱，也成为市场响应速度的重要组成部分。

然而，DevOps 在实施过程中也面临自身的挑战。首先，DevOps 是一个庞大的专业领域，很难找到在每个方面都具备专长的专家。因此，组织在实施 DevOps 时常感到困难，也容易导致实施过程中的困惑。

DevOps 的工具选择是另一个独立的挑战。持续部署、持续测试和协作报告是 DevOps 成功的关键。然而，许多组织在工具选择上犯错，错误的工具选择最终会导致失败。

很多管理者对 DevOps 能否成功表示怀疑。他们担心 DevOps 是否能够为客户和组织提供所需的透明度。

公司越大，协作越困难，因为员工各不相同，团队也相对独立，这就造成了壁垒。但使团队理解如何打破这些壁垒、促进协作是至关重要的。

DevOps 团队主要花时间为开发团队提供支持，包括构建、设置和维护开发环境，以及解决部署问题，但他们最终会更多关注运营方面的工作。

但无服务器计算帮助克服了这些挑战。它为运营团队腾出了空间，使其能够更有效地分配时间，并为现有生态系统添加改进。无服务器计算使得商业敏捷性成为可能，因为你可以创建一个持续改进开发的环境。

不再需要担心基础设施，DevOps 团队可以在开发的其他方面进行改进，比如自动化部署、添加代码版本管理流程、自动化部署度量、为应用程序添加更多价值（例如引入不同的仪表盘），以及应用程序性能管理。

由于无服务器计算仍处于成长阶段，在语言或运行时支持、供应商锁定、安全性方面仍有许多待解决的问题，并且目前并非所有应用程序都支持无服务器架构。此外，市场上还涌现了许多开源无服务器架构，如 OpenWhisk、OpenFaaS、FN、Kubeless 和 Iron.io ([`www.iron.io/`](https://www.iron.io/))。在无服务器计算及其周围的 DevOps 工具领域，成熟的道路仍然漫长。

由于安全原因以及云技术 adoption 缓慢，很多银行客户和政府组织对云服务持谨慎态度。但像 Kubernetes 这样的技术正逐渐获得大量关注，它的性能、功能以及相关论坛的支持随着时间的推移不断提升。因此，政府组织和银行领域的客户可能会更多地倾向于采用 Kubernetes，因为微服务与 Kubernetes 可以结合起来，作为无服务器功能进行使用。所以 DevOps 在这里肯定会发挥重要作用。

因此，可能需要在本地部署 Kubernetes 等技术，配置和设置服务器，升级基础设施，进行监控和日志记录，并根据需要增加基础设施以支持扩展。

但是，如果某些公司选择使用云服务提供商来满足其无服务器需求，那么 DevOps 的工作轨迹将发生变化。在开发方面，云操作工程师和开发人员的角色将融合为一体，因为将不再需要处理底层基础设施。但我们仍然需要持续集成、持续部署、监控和日志记录等服务。

DevOps 将在部署管道、自动化指标通知、自动化日志记录和监控的设置中非常重要。但当一切都被自动化并流线化后，DevOps 的工作量将会减少，这对于任何类型的基础设施来说最终都是一样的。

但工作职责肯定会发生变化，许多角色也将改变。例如，我们将需要更少的网络和基础设施工程师。因此，在迁移到无服务器架构之前，建议我们评估 IT 运维。如果不这样做，采用无服务器架构可能会拖慢进程，甚至成为运营的瓶颈。

所以，总结来说，由于无服务器架构仍在不断完善，我们很难预测 DevOps 在无服务器采纳方面将如何发挥作用。方向可能会改变，但旅程仍将继续。

# 总结

这本书的旅程已经结束，但这只是对本书而言。就无服务器而言，这个旅程才刚刚开始，随着这个成熟过程的推进，我们将看到在服务、技术以及新供应商方面的许多改进。与此同时，我们还将看到无服务器应用程序的 DevOps 工具和流程的成熟。因此，在这里，我们结束了本书，期待无服务器和 DevOps 与无服务器一同成长。
