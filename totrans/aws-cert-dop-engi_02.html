<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer011">
			<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/>Chapter 1: Amazon Web Service Pillars</h1>
			<p>DevOps is, at its heart, a combination of the skills of development and operations and breaking down the walls between these two different teams. DevOps includes enabling developers to perform operational tasks easily. DevOps also involves empowering operational team members to create their Infrastructure as Code and use other coding techniques, such as continuous integration pipelines, to spin up the same infrastructure in multiple regions quickly.</p>
			<p>In this book, we will go through the services and concepts that are part of the DevOps professional exam so that you have a solid understanding from a practical standpoint, in terms of both explanations and hands-on exercises. </p>
			<p>Becoming Amazon Web Services (AWS) Certified not only gives you instant validation of the technical skills that you hold and maintain – it also strengthens you as a technical professional. The AWS DevOps Engineer Professional Certification is a cumulative test that incorporates the base knowledge of fundamental AWS services, including system operations capabilities for running, managing, and monitoring workloads in AWS. This is in addition to developing and deploying code to functions, containers, and instances. </p>
			<p>We go look at the test itself in more depth in <a href="B17405_23_Final_JM_ePub.xhtml#_idTextAnchor501"><em class="italic">Chapter 23</em></a>, <em class="italic">Overview of the DevOps Professional Certification Test</em>, as well as provide tips for taking the exam. </p>
			<p>The AWS pillars are the five guiding principles that guide architects and developers in generally accepted cloud architecture and design. They are subtly referenced in the DevOps Professional exam, but the pillars and their guidelines are tenets of best practices for working with any cloud service provider – especially Amazon Web Services. These are all guiding principles in DevOps practices and pipelines, and having a sound understanding of these five items will not only help you come exam time, but serve you throughout your DevOps career journey. </p>
			<p>In this chapter, we're going to cover the following main topics:</p>
			<ul>
				<li>Operational excellence</li>
				<li>Security </li>
				<li>Reliability </li>
				<li>Performance efficiency</li>
				<li>Cost optimization</li>
			</ul>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/>Service pillars overview</h1>
			<p>At first glance, you may be wondering why we aren't just jumping right into AWS, <strong class="bold">continuous integration/continuous delivery</strong> (<strong class="bold">CI/CD</strong>), and other <a id="_idIndexMarker000"/>DevOps topics. The main reason is that these five pillars <a id="_idIndexMarker001"/>are the foundational fabric of the exams. In addition, they will help you provide the most effective, dependable, and <a id="_idIndexMarker002"/>efficient environment for your company or clients. These design principles are not only important when architecting for success on Amazon Web Services, or any cloud provider for that matter, but in guiding the practices that you use throughout your day-to-day endeavors. </p>
			<p>Once you become familiar with these pillars, you will see them and their themes in the testing questions as you go down your path for certification. This is especially true when working to obtain the DevOps Professional Certification as there are specific sections for Operations, Security, and Reliability. </p>
			<p>The following are the five pillars of a well-architected framework:</p>
			<ul>
				<li>Operational excellence</li>
				<li>Security </li>
				<li>Reliability</li>
				<li>Performance efficiency</li>
				<li>Cost optimization</li>
			</ul>
			<p>Use these pillars as the guiding principles, not only for designing your workloads in AWS but <a id="_idIndexMarker003"/>also for improving and refactoring current workloads. Every organization should strive to achieve well-architected applications and systems. Therefore, improving any AWS applications you are working on will make you a valuable asset. Now, let's look at each of these pillars in detail.</p>
			<h1 id="_idParaDest-18"><a id="_idTextAnchor017"/>Operational excellence</h1>
			<p>As we look at the <em class="italic">operational excellence</em> pillar, especially in the context of DevOps, this <a id="_idIndexMarker004"/>is one – if not the most – important service pillar for your day-to-day responsibilities. We will start by thinking about how our teams are organized; after all, the DevOps movement came about from breaking down silos between Development and Operations teams. </p>
			<p class="callout-heading">Question – How does your team determine what its priorities are?</p>
			<p class="callout">* Does it talk to customers (whether they're internal or external)? </p>
			<p class="callout">* Does it get its direction from product owners who have drawn out a roadmap?</p>
			<p>Amazon outlines <a id="_idIndexMarker005"/>five design principles that incorporate operational excellence in the cloud:</p>
			<ul>
				<li>Performing Operations as Code</li>
				<li>Refining operations frequently</li>
				<li>Making small, frequent, and reversible changes </li>
				<li>Anticipating failure </li>
				<li>Learning from all operational failures </li>
			</ul>
			<p>Let's take a look at each of these operational design principals in detail to see how they relate to your world as a DevOps engineer. As you go through the design principles <a id="_idIndexMarker006"/>of not only this pillar but all the service pillars, you will find that the best practices are spelled out, along with different services, to help you complete the objective. </p>
			<h2 id="_idParaDest-19"><a id="_idTextAnchor018"/>Performing Operations as Code</h2>
			<p>With the contrivance of Infrastructure as Code, the cloud allows teams to create their <a id="_idIndexMarker007"/>applications using code alone, without the need to interact with a graphical interface. Moreover, it allows any the underlying networking, services, datastores, and more that's required to run your applications and workloads. Moving most, if not all, the operations to code does quite a few things for a team:</p>
			<ul>
				<li>Distributes knowledge quickly and prevents only one person on the team from being able to perform an operation</li>
				<li>Allows for a peer review of the environment to be conducted, along with quick iterations</li>
				<li>Allows changes and improvements to be tested quickly, without the production environment being disrupted</li>
			</ul>
			<p>In AWS, you <a id="_idIndexMarker008"/>can perform Operations as Code <a id="_idIndexMarker009"/>using a few different services, such as <strong class="bold">CloudFormation</strong>, the <strong class="bold">Cloud Development Kit</strong> (<strong class="bold">CDK</strong>), language-specific <strong class="bold">software development kits</strong> (<strong class="bold">SDK</strong>), or by <a id="_idIndexMarker010"/>using the <strong class="bold">command-line interface</strong> (<strong class="bold">CLI</strong>). </p>
			<h2 id="_idParaDest-20"><a id="_idTextAnchor019"/>Refining operations frequently </h2>
			<p>As you <a id="_idIndexMarker011"/>run your workload in the cloud, you should be in a continual improvement process for not only your application and infrastructure but also your methods of operation. Teams that run in an agile process are familiar with having a retrospective meeting after each sprint to ask three questions: what went well, what didn't go well, and what has room for improvement? </p>
			<p>Operating a workload in the cloud presents the same opportunities for retrospection and to ask those same three questions. It doesn't have to be after a sprint, but it should occur after events such as the following:</p>
			<ul>
				<li>Automated, manual, or hybrid deployments </li>
				<li>Automated, manual, or hybrid testing </li>
				<li>After a production issue</li>
				<li>Running a game day simulation</li>
			</ul>
			<p>After each <a id="_idIndexMarker012"/>of these situations, you should be able to look at your current operational setup and see what could be better. If you have step-by-step runbooks that have been created for incidents or deployments, ask yourself and your team whether there were any missing steps or steps that are no longer needed. If you had a production issue, did you have the correct monitoring in place to troubleshoot that issue?</p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor020"/>Making small, frequent, and reversible changes</h2>
			<p>As we build and move workloads into the cloud, instead of placing multiple systems <a id="_idIndexMarker013"/>on a single <a id="_idIndexMarker014"/>server, the best <a id="_idIndexMarker015"/>design practices are to break any large monolith designs into smaller, decoupled pieces. With the pieces being smaller, decoupled, and more manageable, you can work with smaller changes that are more reversible, should a problem arise. </p>
			<p>The ability to reverse changes can also come in the form of good coding practices. AWS CodeCommit allows Git tags in code repositories. By tagging each release once it has been deployed, you can quickly redeploy a previous version of your working code, should a problem arise in the code base. Lambda has a similar feature called versions. </p>
			<h2 id="_idParaDest-22"><a id="_idTextAnchor021"/>Anticipating failure </h2>
			<p>Don't expect that just because you are moving to the cloud and the service that your <a id="_idIndexMarker016"/>application is relying on is labeled as a managed service, that you no longer need to worry about failures. Failures happen, maybe not often; however, when running a business, any sort of downtime <a id="_idIndexMarker017"/>can translate into lost revenue. Having a plan to mitigate risks (and also test that plan) can genuinely mean the difference in keeping your <strong class="bold">service-level agreement</strong> (<strong class="bold">SLA</strong>) or having to apologize or, even worse, having to give customers credits or refunds. </p>
			<h2 id="_idParaDest-23"><a id="_idTextAnchor022"/>Learning from failure</h2>
			<p>Things fail from time to time, but when they do, it's important not to dwell on the failures. Instead, perform post-mortem analysis and find the lessons that can make the <a id="_idIndexMarker018"/>team and the workloads stronger and more resilient for the future. Sharing learning across teams helps bring everyone's perspective into focus. One of the main questions that should be asked and answered after failure is, <em class="italic">Could the issue be resolved with automatic remediation?</em></p>
			<p>One of the significant issues in larger organizations today is that in their quest of trying to be great, they stop being good. Sometimes, you need to be good at the things you do, especially on a daily basis. It can be a steppingstone to greatness. However, the eternal quest for excellence without the retrospective of what is preventing you from becoming good can sometimes be an exercise in spinning your wheels, and not gaining traction. </p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor023"/>Example – operational excellence</h2>
			<p>Let's take <a id="_idIndexMarker019"/>a look at the following relevant example, which shows the implementation of automated patching for the instances in an environment: </p>
			<div>
				<div id="_idContainer006" class="IMG---Figure">
					<img src="Images/Figure_1.1_B17405.jpg" alt="Figure 1.1 – Operational excellence – automated patching groups&#13;&#10;" width="942" height="1071"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.1 – Operational excellence – automated patching groups</p>
			<p>If you have instances in your environment that you are self-managing and need to be updated with patch updates, then you can use <strong class="bold">System Manager </strong>–<strong class="bold"> Patch Manager</strong> to <a id="_idIndexMarker020"/>help automate the task of keeping your operating systems up to date. This can be done on a regular basis using a Systems Manager Maintenance Task. </p>
			<p>The initial <a id="_idIndexMarker021"/>step would be to make sure that the <strong class="bold">SSM</strong> agent (formally known as <strong class="bold">Simple Systems Manager</strong>) is installed on the machines that you want to stay up to date with patching. </p>
			<p>Next, you would create a patching baseline, which includes rules for auto-approving patches within days of their release, as well as a list of both approved and rejected patches.</p>
			<p>After that, you may need to modify the IAM role on the instance to make sure that the SSM service has the correct permissions. </p>
			<p>Optionally, you can set up patch management groups. In the preceding diagram, we can see that we have two different types of servers, and they are both running on the same operating system. However, they are running different functions, so we would want to set up one patching group for the Linux servers and one group for the Database servers. The Database servers may only get critical patches, whereas <a id="_idIndexMarker022"/>the Linux servers may get the critical patches as well as the update patches. </p>
			<h1 id="_idParaDest-25"><a id="_idTextAnchor024"/>Security </h1>
			<p>Next is the Security pillar of the AWS Well-Architected Framework. Today, security is at <a id="_idIndexMarker023"/>the forefront of everyone's minds. Bad actors are consistently trying to find vulnerabilities in any code and infrastructure (both on-premises and in the cloud). When looking back at the lessons learned from the first 10 years of AWS, CTO Werner Vogels said <em class="italic">Protecting your customers should always be your number one priority… And it certainly has been for AWS.</em> (Vogels, 2016)</p>
			<p> It is everyone's job these days to have secure practices across all cloud systems. This (protection) includes the infrastructure and networking components that serve the application and using secure coding practices and data protection, ultimately ensuring that the customer has a secure experience. </p>
			<p>When you think about security, there are four main areas that the security pillar focuses on. They are shown in the following diagram: </p>
			<div>
				<div id="_idContainer007" class="IMG---Figure">
					<img src="Images/Figure_1.2_B17405.jpg" alt="Figure 1.2 – The four main areas of security in the security pillar&#13;&#10;" width="1192" height="899"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.2 – The four main areas of security in the security pillar</p>
			<p>The security pillar <a id="_idIndexMarker024"/>is constructed of seven principles:</p>
			<ul>
				<li>Implementing a strong identity foundation</li>
				<li>Enabling traceability </li>
				<li>Applying security at all layers </li>
				<li>Automating security best practices </li>
				<li>Protecting data in transit and at rest </li>
				<li>Keeping people away from data </li>
				<li>Preparing for security events </li>
			</ul>
			<p>As we move through this book, you will find practical answers and solutions to some of the <a id="_idIndexMarker025"/>security principles introduced here in the security pillar. This will help you develop the muscle memory needed to instill security in everything you build, rather than putting your piece out there and letting the <em class="italic">security team</em> worry about it. Remember, security is everyone's responsibility. Initially, we will look at these security principles in a bit more detail. </p>
			<h2 id="_idParaDest-26"><a id="_idTextAnchor025"/>Implementing a strong identity foundation</h2>
			<p>When building a strong identity foundation, it all starts with actualizing the principle <a id="_idIndexMarker026"/>of least privilege. No user or role should have more or less permissions than it actually needs to perform its job or duties. Taking this a step further, if you are using IAM to manage your users, then ensure that a password policy is in place to confirm that passwords are being rotated on a regular basis, and that they don't become too stale. It is also a good idea to check that the IAM password policy is in sync with your corporate password policy. </p>
			<p>Also, as your organization grows and managing users and permissions starts to become a more complex task, you should look to establish central identity management either with Amazon Single Sign-on or by connecting a corporate Active Directory server.</p>
			<h2 id="_idParaDest-27"><a id="_idTextAnchor026"/>Enabling traceability</h2>
			<p>Security events can leave you in a reactive state; however, your ability to react can rely <a id="_idIndexMarker027"/>on the amount of information you can gather about the event. Putting proper monitoring, logging, alerting, and the ability to audit your environments and systems in place before an event happens is crucial to being able to perform the correct assessments and steps, when the need arises.</p>
			<p>Capturing enough logs from a multitude of sources can be done with AWS services such as CloudWatch Logs, VPC Flow Logs, CloudTrail, and others. We will look at logging and monitoring extensively in Part 3 of this book as it is important to the DevOps Professional exam. </p>
			<p><strong class="bold">Think about the following scenario</strong>:</p>
			<p>Someone has gained access to a server via a weak password and compromised some data. You feel that you are currently capturing many logs; however, would you be able to figure out the following?</p>
			<ul>
				<li>The username used to access the system</li>
				<li>The IP address that was used where the access originated</li>
				<li>The time access was started</li>
				<li>The records that were changed, modified, or deleted</li>
				<li>How many systems were affected</li>
			</ul>
			<h2 id="_idParaDest-28"><a id="_idTextAnchor027"/>Applying security at all layers</h2>
			<p>Securing all the levels of your environment helps protect you by giving your actions an <a id="_idIndexMarker028"/>extra expansiveness throughout your environment. To address network-level security, different VPCs can be secured using simple techniques such as Security Groups and Network ACLs. Seasoned AWS professionals know that additional security layers add an expansive <a id="_idIndexMarker029"/>security footprint – for example, at the edge (network access points to the AWS cloud), at the operating system level, and even making a <em class="italic">shift left</em> to secure the application code itself. </p>
			<h2 id="_idParaDest-29"><a id="_idTextAnchor028"/>Automating security best practices</h2>
			<p>As you and your team get more educated about secure practices in the cloud, repetitive <a id="_idIndexMarker030"/>tasks should become automated. This allows you to react quicker to events that are happening and even react when you don't realize when things are happening. </p>
			<p>This should be a topic when you start to dive in headfirst. As a DevOps specialist, you are used to taking repetitive manual processes and making them more efficient with automation. Automation can take the form of automatically analyzing logs, removing or remediating resources that don't comply with your organization's security posture, and intelligently detecting threats. </p>
			<p>Amazon Web Services has come out with tools to help with this process, including GuardDuty, CloudWatch, EventHub, and AWS Config. </p>
			<h2 id="_idParaDest-30"><a id="_idTextAnchor029"/>Protecting data in transit and at rest </h2>
			<p>Bad actors are all around, constantly looking for exploitable data that is traveling across the <a id="_idIndexMarker031"/>internet unprotected. You definitely can't rely on end users to use best practices such as secure communications over VPN, so it is up to you and your team to put the best practices in place on the server side. Basic items such as implementing certificates on your load balancers, on your CloudFront distribution, or even at the server level allows transmissions to be encrypted while going from point to point. </p>
			<p>On the same token, figuratively speaking, making sure that you authenticate network <a id="_idIndexMarker032"/>communications either by enabling <strong class="bold">Transport Layer Security</strong> (<strong class="bold">TLS</strong>) or IPsec at the protocol layer helps ensure that network communications are authenticated.</p>
			<p>There are AWS services to help protect your data, both in transit and at rest, such as <a id="_idIndexMarker033"/>AWS Certificate Manager, AWS Shield, AWS <strong class="bold">Web Application Firewall</strong> (the other <strong class="bold">WAF</strong>), and Amazon CloudFront. The <strong class="bold">Key Management Service</strong> (<strong class="bold">KMS</strong>) can <a id="_idIndexMarker034"/>also help protect your data at rest by allowing you to create, use, and <a id="_idIndexMarker035"/>rotate cryptographic keys easily. </p>
			<p>For a deeper look at protecting data in transit and at rest, see <a href="B17405_19_Final_JM_ePub.xhtml#_idTextAnchor447"><em class="italic">Chapter 19</em></a>, <em class="italic">Protecting Data in Flight and at Rest</em>. </p>
			<h2 id="_idParaDest-31"><a id="_idTextAnchor030"/>Using mechanisms to keep people away from data </h2>
			<p>There are ways to automate how data is accessed, rather than allowing individuals <a id="_idIndexMarker036"/>to directly access the data. It is a better idea to have items that can be validated through a change control process. These would be items, such as System Manager runbooks or Lambda Functions, that would access the data. The opposite of this would be allowing direct access to data sources through either a bastion host or Elastic IP address/CNAME. </p>
			<p>Providing this direct access can either lead to human mistakes or having a username and password compromised, which will ultimately lead to data loss or leakage.</p>
			<h2 id="_idParaDest-32"><a id="_idTextAnchor031"/>Preparing for security events </h2>
			<p>Even if you enact all the security principles described previously, there is no guarantee <a id="_idIndexMarker037"/>that a security event won't be coming in the future. You are much better off practicing and having a prepared set of steps to enact quickly in case the need ever arises. </p>
			<p>You may need to create one or more runbooks or playbooks that outline the steps of how to do things such as snapshotting an AMI for forensic analysis and moving it to a secured account (if available). If the time comes when these steps are necessary, there will be questions coming from many different places. The answers will have a timeline aspect to them. If the team whose responsibility is to perform these duties has never even practiced any of these tasks, nor has a guide been established to help them through the process, then valuable cycles will be <a id="_idIndexMarker038"/>wasted, just trying to get organized. </p>
			<p>The following is the <em class="italic">Shared Responsibility Model</em> between AWS and you, the customer:</p>
			<div>
				<div id="_idContainer008" class="IMG---Figure">
					<img src="Images/Figure_1.3_B17405.jpg" alt="Figure 1.3 – The AWS shared responsibility model&#13;&#10;" width="1254" height="1047"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.3 – The AWS shared responsibility model</p>
			<p class="callout-heading">Questions to ask</p>
			<p class="callout">* How do <a id="_idIndexMarker039"/>you protect your root account?</p>
			<p class="callout"> - Is there a <strong class="bold">Multi-Factor Authentication</strong> (<strong class="bold">MFA</strong>) device on the root account?</p>
			<p class="callout"> - Is there no use of the root account? </p>
			<p class="callout">* How do you assign IAM users and groups? </p>
			<p class="callout">* How do you delegate API/CLI access?</p>
			<p>Next, let's learn about the five design principles for reliability in the cloud.</p>
			<h1 id="_idParaDest-33"><a id="_idTextAnchor032"/>Reliability</h1>
			<p>There are <a id="_idIndexMarker040"/>five design principles for reliability in the cloud: </p>
			<ul>
				<li>Automating recover from failure </li>
				<li>Testing recovery procedures </li>
				<li>Scaling horizontally to increase aggregate workload availability </li>
				<li>Stopping guessing capacity </li>
				<li>Managing changes in automation</li>
			</ul>
			<h2 id="_idParaDest-34"><a id="_idTextAnchor033"/>Automating recovery from failure</h2>
			<p>When you think of automating recovery from failure, the first thing most people think <a id="_idIndexMarker041"/>of is a technology solution. However, this is not necessarily the context that is being referred to in the <a id="_idIndexMarker042"/>reliability service pillar. These points of failure really should be based on <strong class="bold">Key Performance Indicators</strong> (<strong class="bold">KPIs</strong>) set by the business. </p>
			<p>As part of the recovery process, it's important to know both the <strong class="bold">Recovery Time Objective</strong> (<strong class="bold">RTO</strong>) and <strong class="bold">Recovery Point Objective</strong> (<strong class="bold">RPO</strong>) of the organization or workload: </p>
			<ul>
				<li><strong class="bold">RTO</strong> (<strong class="bold">Recovery Time Objective</strong>): The maximum acceptable delay between <a id="_idIndexMarker043"/>the service being interrupted and restored </li>
				<li><strong class="bold">RPO</strong> (<strong class="bold">Recovery Point Objective</strong>): The maximum acceptable amount of time <a id="_idIndexMarker044"/>since the last data recovery point (backup) (Amazon Web Services, 2021)</li>
			</ul>
			<h2 id="_idParaDest-35"><a id="_idTextAnchor034"/>Testing recovery procedures </h2>
			<p>In your cloud environment, you should not only test your workload functions properly, but also that they can recover from single or multiple component failures if they happen on a service, Availability Zone, or regional level.</p>
			<p>Using practices such as Infrastructure as Code, CD pipelines, and regional backups, you can quickly spin up an entirely new environment. This could include your application and infrastructure layers, which will give you the ability to test that things work the same as in the current production environment and that data is restored correctly. You can also time how long the restoration takes and work to improve it by automating the recovery time. </p>
			<p>Taking the proactive measure of documenting each of the necessary steps in a runbook or playbook allows for knowledge sharing, as well as fewer dependencies on specific team members who built the systems and processes. </p>
			<h2 id="_idParaDest-36"><a id="_idTextAnchor035"/>Scaling horizontally to increase workload availability</h2>
			<p>When coming from a data center environment, planning for peak capacity means <a id="_idIndexMarker045"/>finding a machine that can run all the different components of your application. Once you hit the maximum resources for that machine, you need to move to a bigger machine.</p>
			<p>As you move from development to production or as your product or service grows in popularity, you will need to scale out your resources. There are two main methods for achieving this: scaling vertically or scaling horizontally: </p>
			<div>
				<div id="_idContainer009" class="IMG---Figure">
					<img src="Images/Figure_1.4_B17405.jpg" alt="Figure 1.4 – Horizontal versus vertical scaling&#13;&#10;" width="1083" height="969"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.4 – Horizontal versus vertical scaling</p>
			<p>One of the main issues with scaling vertically is that you will hit the ceiling at some point in time, moving to larger and larger instances. At some point, you will find <a id="_idIndexMarker046"/>that there is no longer a bigger instance to move up to, or that the larger instance will be too cost-prohibitive to run. </p>
			<p>Scaling horizontally, on the other hand, allows you to gain the capacity that you need at the time in a cost-effective manner.</p>
			<p>Moving to a cloud mindset means decoupling your application components, placing multiple groupings of the same servers behind a load balancer, or pulling from a queue and optimally scaling up and down based on the current demand. </p>
			<h2 id="_idParaDest-37"><a id="_idTextAnchor036"/>Stop guessing capacity</h2>
			<p>If resources <a id="_idIndexMarker047"/>become overwhelmed, then they have a tendency to fail, especially on-premises, as demands spike and those resources don't have the ability to scale up or out to meet demand. </p>
			<p>There are service limits to be aware of, though many of them are called <em class="italic">soft limits</em>. These can <a id="_idIndexMarker048"/>be raised with a simple request or phone call to support. There are others <a id="_idIndexMarker049"/>called <em class="italic">hard limits</em>. They are set a specified <a id="_idIndexMarker050"/>number for every account, and there is no raising them. </p>
			<p class="callout-heading">Note</p>
			<p class="callout">Although there isn't a necessity to memorize all these limitations, it is a good idea to become familiar with them and know about some of them since they do show up in some of the test questions – not as pure questions, but as context for the scenarios. </p>
			<h2 id="_idParaDest-38"><a id="_idTextAnchor037"/>Managing changes in automation</h2>
			<p>Although it may seem easier and sometimes quicker to make a change to the infrastructure (or application) by hand, this can lead to infrastructure drift and is not a <a id="_idIndexMarker051"/>repeatable process. A best practice is to automate all changes using Infrastructure as Code, a code versioning system, and a deployment pipeline. This way, the changes can be tracked and reviewed. </p>
			<h1 id="_idParaDest-39"><a id="_idTextAnchor038"/>Performance efficiency </h1>
			<p>If you and your architectural design team are coming from a data center infrastructure <a id="_idIndexMarker052"/>and a provisioning process takes weeks or months to get the system you need, then the quickness and availability of cloud resources is certainly a breath of fresh air. There is a need to understand how to select either the correct instance type or compute option (that is, server-based, containerized, or function-based compute) based on the workload requirements. </p>
			<p>Once you have made an initial selection, a benchmarking process should be undertaken so that you can see if you are utilizing all the CPU and memory resources that you have allocated, as well as to confirm that the workload can handle the duty that it is required to handle. As you select your instance types, don't forget to factor in costs and make a note of the cost differences that could either save you money or cost you more as you perform your baseline testing. </p>
			<p>AWS provides native tools to create, deploy, and monitor <a id="_idTextAnchor039"/>benchmark tests, as shown in the following diagram:</p>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="Images/Figure_1.5_B17405.jpg" alt="Figure 1.5 – Baseline testing with AWS tooling&#13;&#10;" width="1629" height="613"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.5 – Baseline testing with AWS tooling</p>
			<p>Using the tools provided by AWS, you can quickly spin up an environment for right-sizing, benchmarking, and load testing the initial value that you chose for your compute instance. You can also easily swap out other instance types to see how performant <a id="_idIndexMarker053"/>they are with the same test. Using CloudFormation to build the infrastructure, you can, in a quick and repeated fashion, run the tests using CodeBuild, all while gathering the metrics with CloudWatch to compare the results to make sure that you have made the best decision – with data to back up that decision. We will go into much more detail on how to use CodeBuild in <a href="B17405_07_Final_JM_ePub.xhtml#_idTextAnchor188"><em class="italic">Chapter 7</em></a>, <em class="italic">Using CloudFormation Templates to Deploy Workloads</em>. </p>
			<p>The <em class="italic">performance efficiency</em> pillar includes five design principles to help you maintain <a id="_idIndexMarker054"/>efficient workloads in the cloud: </p>
			<ul>
				<li>Making advanced technologies easier for your team to implement</li>
				<li>Being able to go global in minutes </li>
				<li>Using serverless architectures </li>
				<li>Allowing your teams to experiment </li>
				<li>Using <a id="_idIndexMarker055"/>technology that aligns with your goals</li>
			</ul>
			<h2 id="_idParaDest-40"><a id="_idTextAnchor040"/>Making advanced technologies easier for your team to implement </h2>
			<p>Having the ability to use advanced technologies has become simplified in the cloud with <a id="_idIndexMarker056"/>the advent of managed services. No longer do you need full-time DBAs on staff who specialize in each different flavor of database, to test whether Postgres or MariaDB will perform in a more optimal fashion. In the same way, if you need replication for that database, you simply check a box, and you instantly have a Highly Available setup. </p>
			<p>Time that would otherwise be spent pouring over documentation, trying to figure out how to install and configure particular systems, is now spent on the things that matter the most to your customers and your business. </p>
			<h2 id="_idParaDest-41"><a id="_idTextAnchor041"/>Being able to go global in minutes</h2>
			<p>Depending on the application or service you are running, your customers may be centralized into one regional area, or they may be spread out globally. Once you have <a id="_idIndexMarker057"/>converted your infrastructure into code, there are built-in capabilities, either through constructs in CloudFormation templates or the CDK, that allow you to use regional parameters to quickly reuse a previously built pattern or architecture and deploy it to a new region of the world. </p>
			<p>Even without deploying your full set of applications and architecture, there are still <a id="_idIndexMarker058"/>capabilities that allow you to serve a global audience using the <strong class="bold">Content Delivery Network</strong> (<strong class="bold">CDN</strong>) known as CloudFront. Here, you <a id="_idIndexMarker059"/>can create a secure global presence using the application or deploy content in the primary region, which is the origin. </p>
			<h2 id="_idParaDest-42"><a id="_idTextAnchor042"/>Using serverless architectures</h2>
			<p>First and foremost, moving to serverless architectures means servers are off your to-do list. This <a id="_idIndexMarker060"/>means no more configuring servers with packages at startup, no more right-sizing servers, and no more patching servers. </p>
			<p>Serverless architectures also mean that you have decoupled your application. Whether you are using functions, events, or microservices, each of these should be doing a specific task. And with each component doing only their distinct task, it allows you to fine-tune memory and utilize CPU at the task level, as well as scale out at a particular task level. </p>
			<p>This is not the best option for every workload, but don't allow a workload to be disqualified just because it would need a little refactoring. When an application can be moved to a serverless architecture, it can make life easier, the application itself more efficient, and there are usually cost savings to reap as a result – especially in the long run. </p>
			<h2 id="_idParaDest-43"><a id="_idTextAnchor043"/>Allowing your teams to experiment</h2>
			<p>Once you move to the cloud, you can quickly and constantly refactor your workload <a id="_idIndexMarker061"/>to improve it for both performance and cost. If you have built your Infrastructure as Code, creating a new temporary environment just for testing can be a quick and cost-efficient way to try new modular pieces of your application, without having to worry about disrupting any customers or other parts of the organization. </p>
			<p>Many of the experiments may not work, but that is the nature of experimentation. Business is extremely competitive in this day and age, and finding an item that does work and makes your service faster, cheaper, and better can be a real game changer. </p>
			<h2 id="_idParaDest-44"><a id="_idTextAnchor044"/>Using technology that aligns with your workload's goals</h2>
			<p>List your <a id="_idIndexMarker062"/>business goals and let the product owner help drive some of the product and service selections based on those goals. If a development team has previous familiarity with certain technologies, they may be inclined to sway toward those technologies <a id="_idIndexMarker063"/>that they already feel confident using.</p>
			<p>On the other hand, there are other teams that strive to use the latest and greatest technologies – but not necessarily because the technology solves a problem that has been identified. Rather, they are interested in constantly resume-building and making sure that they have both exposure to and experience with cutting-edge services as soon as they become available. </p>
			<h1 id="_idParaDest-45"><a id="_idTextAnchor045"/>Cost optimization</h1>
			<p>Many have the misconception that moving to the cloud will become an instant cost saver <a id="_idIndexMarker064"/>for their company or organization. A stark reality is faced once more, and more teams find out that provisioning new resources is as easy as clicking a button. Once the bills start appearing from an environment that doesn't have strict guardrails or the ability to chargeback the workloads to the corresponding teams, most of the time, there comes a cost reduction movement from the top down.</p>
			<p>As you look to optimize your costs, understand that cloud services that have been proven to be managed services come at a high cost per minute; however, the human resources cost is much lower. There is no need to <em class="italic">care and feed</em> the underlying servers, nor worry about updating the underlying operating systems. Many of the services allow you to scale to user demands, and this is taken care of for you automatically. </p>
			<p>The ability to monitor cost and usage is also a key element in a cost optimization strategy. Having a sound strategy for resource tagging allows those who are responsible for financially managing the AWS account to perform chargebacks for the correct department. </p>
			<p>There are <a id="_idIndexMarker065"/>five design principles for cost optimization in the cloud:</p>
			<ul>
				<li>Implementing cloud financial management</li>
				<li>Adopting a consumption model </li>
				<li>Measuring <a id="_idIndexMarker066"/>overall efficiency </li>
				<li>Stop spending money on undifferentiated heavy lifting</li>
				<li>Analyzing and attributing expenditure</li>
			</ul>
			<h2 id="_idParaDest-46"><a id="_idTextAnchor046"/>Implementing cloud financial management</h2>
			<p>Cloud <a id="_idIndexMarker067"/>financial management is something that is starting to grow across organizations, both big and small, rapidly. It takes a dedicated team (or a group of team members that has been partially allocated this responsibility) to build out the ability to see where the cloud spend is going. This part of the organization will be looking at the cost usage reports, setting the budget alarms, tracking the spend, and hopefully enforcing a costing tag that can show the chargebacks for each department, cost center, or project. </p>
			<p class="callout-heading">What is a chargeback?</p>
			<p class="callout">An IT chargeback is <a id="_idIndexMarker068"/>a process that allows units to associate costs with specific departments, offices, or projects to try and accurately track the spend of IT. We are specifically referring to cloud spend in this example, but IT chargebacks are used in other areas of IT as well, such as for accounting purposes. </p>
			<h2 id="_idParaDest-47"><a id="_idTextAnchor047"/>Adopting a consumption model </h2>
			<p>Using <a id="_idIndexMarker069"/>the cloud doesn't require a sophisticated forecasting model to keep costs under control, especially when you have multiple environments. Development and testing environments should have the ability to spin down or be suspended when not in use, hence saving on charges when they would otherwise be sitting idle. This is the beauty of on-demand pricing in the cloud. If developers gripe over the loss of data, then educate them on the use of snapshotting database instances before shutting them down; then, they can start their development from where they left off. </p>
			<p>An even better strategy is to automate the process of shutting down the development and test environments when the workday is finished and require a specialized tag, which would prevent an instance from being shut down after hours <a id="_idIndexMarker070"/>or on the weekend. You can also automate the process of restarting instances 30 to 60 minutes before the workday begins so that there is ample time for operating systems to become functional, allowing the team to think that they had never been turned off in the first place. Just be sure to watch out for any EC2 instances running on the instance store that may lose data. </p>
			<h2 id="_idParaDest-48"><a id="_idTextAnchor048"/>Measuring overall efficiency </h2>
			<p>One of the most evident ways that organizations lose efficiency when it comes to their cloud <a id="_idIndexMarker071"/>budgets is neglecting to decommission unused assets. Although it is easier to spin up new services and create backups in the cloud, not having a plan to retire depreciated data, volume backups, machine images, log files, and other items adds to the bottom line of the monthly bill. This should be done with a scalpel and not a machete. Data, once deleted, is gone and irretrievable; however, there is no need to keep everything forever. Even with compliance, there is a fade-out period, and data can be stored in cold storage at a much more reasonable rate. </p>
			<p>A perfect example is EBS snapshots. A customer who is trying to be proactive about data protection may be both snapshotting volumes multiple times per day as well as copying those snapshots to a Disaster Recovery region. If there is no way to depreciate the old snapshots after 30, 60, or 90 days, then this cost center item can become an issue rather quickly. </p>
			<h2 id="_idParaDest-49"><a id="_idTextAnchor049"/>Stop spending money on undifferentiated heavy lifting</h2>
			<p>When we talk about heavy lifting, we're talking about racking, stacking, and cooling <a id="_idIndexMarker072"/>servers in a data center. Running a data center is a 24/7/365 endeavor, and you can't <a id="_idIndexMarker073"/>easily turn <a id="_idIndexMarker074"/>off machines and storage when you're not using them. Moving workloads to the cloud takes the onus of running those data centers off your team members and allows more time and effort to go into focusing on customer needs and features, rather than caring for and feeding servers and hardware. </p>
			<h2 id="_idParaDest-50"><a id="_idTextAnchor050"/>Analyzing and attributing expenditure </h2>
			<p>The cloud – and the AWS cloud, in particular – has tools available to help you analyze <a id="_idIndexMarker075"/>and reference where the charges for your account(s) are coming from. The first tool in your <a id="_idIndexMarker076"/>toolbox is tags and a tagging strategy. Once you have decided on a solid set of base tags, including things such as cost center, department, and application, then you have a foundation for the rest of the tools that are available to you. </p>
			<p>Breaking out from a single account structure into multiple accounts and organizational units using AWS Organizations can automatically categorize spend, even without the use of tags at the account level. </p>
			<p>AWS Cost Explorer allows your financial management team to dig into the services and regions where spend is occurring, as well as create automatic dashboards to visualize the spend quickly. Amazon Web Services also has pre-set service quotas in place, some of which are hard quotas that cannot be changed, but many of which are soft quotas that allow you to raise the number of particular services (in a region) in a simple request.</p>
			<h1 id="_idParaDest-51"><a id="_idTextAnchor051"/>Overarching service pillar principals</h1>
			<p>The Well-Architected Framework identifies a set of general design principles to facilitate <a id="_idIndexMarker077"/>good design in the cloud:</p>
			<ul>
				<li>Test systems at full production scale.</li>
				<li>Automate as many components as possible to make experimentation as easy as possible.</li>
				<li>Drive architectures using data.</li>
				<li>Stop guessing capacity needs.</li>
				<li>Allow architectures to evolve with new technologies and services.</li>
				<li>Use game days to drive team improvement.</li>
			</ul>
			<p>As you are thinking about these service principals and how to put them into practice, realize that sometimes, the principles can feel like they are contradicting each other. The most obvious case is with the <em class="italic">cost optimization</em> pillar. If this is the pillar that the organization you are working for is trying to give the most attention, the other pillars can get in the way of pure cost savings. Strengthening weaknesses that you have found in the <em class="italic">reliability</em> pillar, most times, means more assets, and assets mean money. However, you can still strive to make those assets as cost-effective as possible so that you comply with all the pillars.</p>
			<h1 id="_idParaDest-52"><a id="_idTextAnchor052"/>Summary</h1>
			<p>In this chapter, we learned about the five service principals that guide architects and developers to be well architected. We talked about how these are the underlying themes that run through the test questions in the DevOps pro exam, and how having this foundational knowledge can help when you're trying to determine the correct answer to a question. As we discussed each service pillar, we also talked about their underlying design principals. </p>
			<p>We briefly mentioned several different AWS services and which service pillar or design principals where specific services come into play. In the next chapter, we will learn about the fundamental AWS services that are used throughout the environments and accounts you will be working in. </p>
			<h1 id="_idParaDest-53"><a id="_idTextAnchor053"/>Review questions</h1>
			<ol>
				<li>What are the five pillars of the Well-Architected Framework?</li>
				<li>What are the five main areas that security in the cloud consists of?</li>
				<li>What are the four areas that the performance efficiency pillar consists of?</li>
				<li>What are the three areas that the reliability pillar consists of?</li>
				<li>What is the definition of RTO?</li>
				<li>What is the definition of RPO?</li>
			</ol>
			<h1 id="_idParaDest-54"><a id="_idTextAnchor054"/>Review answers </h1>
			<ol>
				<li value="1"><strong class="bold">C</strong>ost Optimization, <strong class="bold">R</strong>eliability, <strong class="bold">O</strong>perational Excellence, <strong class="bold">P</strong>erformance Efficiency, and <strong class="bold">S</strong>ecurity. (Use the Mnemonic <strong class="bold">CROPS</strong> to help remember the five pillars using the first letter of each pillar.)</li>
				<li>Data protection, infrastructure protection, privilege management, incident response, and detective controls.</li>
				<li>Compute, storage, database, and network. </li>
				<li>Foundations, change management, and failure management. </li>
				<li><strong class="bold">Recover Time Objective</strong> – The maximum acceptable delay between interrupting the service and restoring the service. </li>
				<li><strong class="bold">Recovery Point Objective</strong> – The maximum acceptable amount of time since the last data recovery point (backup). </li>
			</ol>
			<h1 id="_idParaDest-55"><a id="_idTextAnchor055"/>Further reading</h1>
			<p>The following is a list of recommended papers and resources for further reading:</p>
			<ul>
				<li>AWS Well-Architected Whitepaper: <a href="https://d1.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf">https://d1.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf</a> </li>
				<li>Cost Optimization Whitepaper: <a href="https://docs.aws.amazon.com/wellarchitected/latest/cost-optimization-pillar/wellarchitected-cost-optimization-pillar.pdf">https://docs.aws.amazon.com/wellarchitected/latest/cost-optimization-pillar/wellarchitected-cost-optimization-pillar.pdf</a></li>
				<li>Reliability Whitepaper: <a href="https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/wellarchitected-reliability-pillar.pdf#welcome">https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/wellarchitected-reliability-pillar.pdf#welcome</a></li>
				<li>Operational Excellence Whitepaper: <a href="https://docs.aws.amazon.com/wellarchitected/latest/operational-excellence-pillar/wellarchitected-operational-excellence-pillar.pdf">https://docs.aws.amazon.com/wellarchitected/latest/operational-excellence-pillar/wellarchitected-operational-excellence-pillar.pdf</a></li>
				<li>Performance Efficiency Whitepaper: <a href="https://docs.aws.amazon.com/wellarchitected/latest/performance-efficiency-pillar/wellarchitected-performance-efficiency-pillar.pdf#welcome">https://docs.aws.amazon.com/wellarchitected/latest/performance-efficiency-pillar/wellarchitected-performance-efficiency-pillar.pdf#welcome</a></li>
				<li>Security Whitepaper: <a href="https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/wellarchitected-security-pillar.pdf">https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/wellarchitected-security-pillar.pdf</a></li>
				<li>Calculating Total System Availability: <p><a href="https://www.delaat.net/rp/2013-2014/p17/report.pdf">https://www.delaat.net/rp/2013-2014/p17/report.pdf</a></p></li>
				<li>Well-Architected Labs: <p><a href="https://www.wellarchitectedlabs.com/">https://www.wellarchitectedlabs.com/</a></p></li>
				<li>AWS Well-Architected Framework pillars:<p><a href="https://wa.aws.amazon.com/wat.pillars.wa-pillars.en.html">https://wa.aws.amazon.com/wat.pillars.wa-pillars.en.html</a></p></li>
				<li>10 Lessons from 10 Years of AWS: <a href="https://www.allthingsdistributed.com/2016/03/10-lessons-from-10-years-of-aws.html">https://www.allthingsdistributed.com/2016/03/10-lessons-from-10-years-of-aws.html</a></li>
			</ul>
		</div>
	</div></body></html>