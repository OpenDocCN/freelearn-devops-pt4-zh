- en: 'Chapter 1: Amazon Web Service Pillars'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章：Amazon Web Services 支柱
- en: DevOps is, at its heart, a combination of the skills of development and operations
    and breaking down the walls between these two different teams. DevOps includes
    enabling developers to perform operational tasks easily. DevOps also involves
    empowering operational team members to create their Infrastructure as Code and
    use other coding techniques, such as continuous integration pipelines, to spin
    up the same infrastructure in multiple regions quickly.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: DevOps 本质上是开发与运维技能的结合，并打破这两个不同团队之间的壁垒。DevOps 使开发人员能够轻松执行运维任务。DevOps 还包括赋能运维团队成员创建自己的基础设施即代码，并使用其他编码技术，如持续集成流水线，以便在多个区域快速部署相同的基础设施。
- en: In this book, we will go through the services and concepts that are part of
    the DevOps professional exam so that you have a solid understanding from a practical
    standpoint, in terms of both explanations and hands-on exercises.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本书将介绍 DevOps 专业考试中涉及的服务和概念，以便你从实践角度，既通过讲解又通过动手练习，拥有扎实的理解。
- en: Becoming Amazon Web Services (AWS) Certified not only gives you instant validation
    of the technical skills that you hold and maintain – it also strengthens you as
    a technical professional. The AWS DevOps Engineer Professional Certification is
    a cumulative test that incorporates the base knowledge of fundamental AWS services,
    including system operations capabilities for running, managing, and monitoring
    workloads in AWS. This is in addition to developing and deploying code to functions,
    containers, and instances.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 成为 Amazon Web Services（AWS）认证工程师不仅能立即验证你所掌握和保持的技术技能，还能强化你作为技术专业人士的能力。AWS DevOps
    工程师专业认证是一个累积性的考试，涵盖了 AWS 基础服务的基本知识，包括在 AWS 上运行、管理和监控工作负载的系统操作能力。这些内容还包括将代码开发并部署到函数、容器和实例。
- en: We go look at the test itself in more depth in [*Chapter 23*](B17405_23_Final_JM_ePub.xhtml#_idTextAnchor501),
    *Overview of the DevOps Professional Certification Test*, as well as provide tips
    for taking the exam.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在 [*第23章*](B17405_23_Final_JM_ePub.xhtml#_idTextAnchor501) 中更深入地探讨考试本身，*DevOps
    专业认证考试概述*，并提供一些应试技巧。
- en: The AWS pillars are the five guiding principles that guide architects and developers
    in generally accepted cloud architecture and design. They are subtly referenced
    in the DevOps Professional exam, but the pillars and their guidelines are tenets
    of best practices for working with any cloud service provider – especially Amazon
    Web Services. These are all guiding principles in DevOps practices and pipelines,
    and having a sound understanding of these five items will not only help you come
    exam time, but serve you throughout your DevOps career journey.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 支柱是指导架构师和开发人员在通用云架构和设计中普遍接受的五个指导原则。在 DevOps 专业考试中，这些支柱被间接引用，但它们及其指导方针是与任何云服务提供商合作的最佳实践的基石——尤其是
    Amazon Web Services。这些原则是 DevOps 实践和流水线中的指导原则，深入理解这五个方面不仅能帮助你顺利通过考试，还能在你的 DevOps
    职业生涯中提供帮助。
- en: 'In this chapter, we''re going to cover the following main topics:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要主题：
- en: Operational excellence
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作卓越
- en: Security
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全性
- en: Reliability
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可靠性
- en: Performance efficiency
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 性能效率
- en: Cost optimization
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成本优化
- en: Service pillars overview
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务支柱概述
- en: At first glance, you may be wondering why we aren't just jumping right into
    AWS, **continuous integration/continuous delivery** (**CI/CD**), and other DevOps
    topics. The main reason is that these five pillars are the foundational fabric
    of the exams. In addition, they will help you provide the most effective, dependable,
    and efficient environment for your company or clients. These design principles
    are not only important when architecting for success on Amazon Web Services, or
    any cloud provider for that matter, but in guiding the practices that you use
    throughout your day-to-day endeavors.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 一开始，你可能会想，为什么我们不直接进入 AWS、**持续集成/持续交付**（**CI/CD**）以及其他 DevOps 相关主题。主要原因是这五个支柱是考试的基础框架。此外，它们将帮助你为公司或客户提供最有效、可靠和高效的环境。这些设计原则不仅在为成功架构
    Amazon Web Services 或任何云服务提供商时至关重要，而且在指导你日常工作的实践时同样适用。
- en: Once you become familiar with these pillars, you will see them and their themes
    in the testing questions as you go down your path for certification. This is especially
    true when working to obtain the DevOps Professional Certification as there are
    specific sections for Operations, Security, and Reliability.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您熟悉了这些支柱，您会在进行认证的过程中看到它们及其主题，尤其是在获得 DevOps 专业认证时，测试问题中会涉及到操作、安全性和可靠性等特定部分。
- en: 'The following are the five pillars of a well-architected framework:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是良好架构框架的五个支柱：
- en: Operational excellence
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运营卓越
- en: Security
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全性
- en: Reliability
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可靠性
- en: Performance efficiency
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 性能效率
- en: Cost optimization
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成本优化
- en: Use these pillars as the guiding principles, not only for designing your workloads
    in AWS but also for improving and refactoring current workloads. Every organization
    should strive to achieve well-architected applications and systems. Therefore,
    improving any AWS applications you are working on will make you a valuable asset.
    Now, let's look at each of these pillars in detail.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些支柱作为指导原则，不仅用于设计在 AWS 中的工作负载，还用于改进和重构当前的工作负载。每个组织都应努力实现良好架构的应用程序和系统。因此，改进您正在处理的任何
    AWS 应用程序将使您成为宝贵的资产。现在，让我们详细看看这些支柱。
- en: Operational excellence
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 运营卓越
- en: As we look at the *operational excellence* pillar, especially in the context
    of DevOps, this is one – if not the most – important service pillar for your day-to-day
    responsibilities. We will start by thinking about how our teams are organized;
    after all, the DevOps movement came about from breaking down silos between Development
    and Operations teams.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们查看*运营卓越*支柱时，特别是在 DevOps 的背景下，这是一个——如果不是最重要的话——对于您日常职责来说最为重要的服务支柱之一。我们将从思考团队如何组织开始；毕竟，DevOps
    运动的出现就是为了打破开发与运维团队之间的壁垒。
- en: Question – How does your team determine what its priorities are?
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 问题 – 您的团队如何确定其优先事项？
- en: '* Does it talk to customers (whether they''re internal or external)?'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '* 是否与客户沟通（无论是内部客户还是外部客户）？'
- en: '* Does it get its direction from product owners who have drawn out a roadmap?'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '* 是否从已绘制出路线图的产品负责人那里获得方向？'
- en: 'Amazon outlines five design principles that incorporate operational excellence
    in the cloud:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊概述了五个设计原则，将运营卓越融入云计算中：
- en: Performing Operations as Code
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将操作视为代码执行
- en: Refining operations frequently
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 经常精炼操作
- en: Making small, frequent, and reversible changes
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进行小规模、频繁且可逆的更改
- en: Anticipating failure
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预见失败
- en: Learning from all operational failures
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从所有操作失败中学习
- en: Let's take a look at each of these operational design principals in detail to
    see how they relate to your world as a DevOps engineer. As you go through the
    design principles of not only this pillar but all the service pillars, you will
    find that the best practices are spelled out, along with different services, to
    help you complete the objective.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们详细看看这些操作设计原则，看看它们如何与您作为 DevOps 工程师的工作相关。随着您逐步了解这些设计原则，不仅仅是这个支柱，而是所有服务支柱，您会发现最佳实践已明确列出，辅以不同的服务，帮助您完成目标。
- en: Performing Operations as Code
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将操作视为代码执行
- en: 'With the contrivance of Infrastructure as Code, the cloud allows teams to create
    their applications using code alone, without the need to interact with a graphical
    interface. Moreover, it allows any the underlying networking, services, datastores,
    and more that''s required to run your applications and workloads. Moving most,
    if not all, the operations to code does quite a few things for a team:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 借助基础设施即代码（Infrastructure as Code）的构想，云计算使团队能够仅通过代码创建应用程序，而无需与图形界面进行交互。此外，它还允许任何底层的网络、服务、数据存储等，这些都是运行您的应用程序和工作负载所必需的。将大部分（如果不是所有）操作转移到代码中，可以为团队带来以下好处：
- en: Distributes knowledge quickly and prevents only one person on the team from
    being able to perform an operation
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 快速分发知识，防止团队中只有一个人能够执行某个操作
- en: Allows for a peer review of the environment to be conducted, along with quick
    iterations
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许进行同行评审环境，并进行快速迭代
- en: Allows changes and improvements to be tested quickly, without the production
    environment being disrupted
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许快速测试更改和改进，而不会干扰生产环境
- en: In AWS, you can perform Operations as Code using a few different services, such
    as **CloudFormation**, the **Cloud Development Kit** (**CDK**), language-specific
    **software development kits** (**SDK**), or by using the **command-line interface**
    (**CLI**).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在 AWS 中，你可以通过几种不同的服务执行操作代码，例如**CloudFormation**、**Cloud Development Kit**（**CDK**）、特定语言的**软件开发工具包**（**SDK**），或者通过使用**命令行界面**（**CLI**）。
- en: Refining operations frequently
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 经常精炼操作
- en: 'As you run your workload in the cloud, you should be in a continual improvement
    process for not only your application and infrastructure but also your methods
    of operation. Teams that run in an agile process are familiar with having a retrospective
    meeting after each sprint to ask three questions: what went well, what didn''t
    go well, and what has room for improvement?'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在云端运行工作负载时，你应该处于一个持续改进的过程，不仅是应用程序和基础设施，也包括你的操作方法。采用敏捷流程的团队通常会在每个冲刺后进行回顾会议，提出三个问题：什么做得好，什么做得不好，哪些方面有改进空间？
- en: 'Operating a workload in the cloud presents the same opportunities for retrospection
    and to ask those same three questions. It doesn''t have to be after a sprint,
    but it should occur after events such as the following:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在云端运行工作负载同样为回顾提供了机会，可以提出那些相同的三个问题。回顾不必发生在冲刺之后，但应该在以下事件之后进行：
- en: Automated, manual, or hybrid deployments
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化、手动或混合部署
- en: Automated, manual, or hybrid testing
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化、手动或混合测试
- en: After a production issue
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在生产问题发生后
- en: Running a game day simulation
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进行游戏日模拟
- en: After each of these situations, you should be able to look at your current operational
    setup and see what could be better. If you have step-by-step runbooks that have
    been created for incidents or deployments, ask yourself and your team whether
    there were any missing steps or steps that are no longer needed. If you had a
    production issue, did you have the correct monitoring in place to troubleshoot
    that issue?
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在每种情况之后，你应该能够回顾当前的操作设置，并查看哪些方面可以改进。如果你为事故或部署创建了逐步执行手册，问问自己和团队，是否有遗漏的步骤或不再需要的步骤。如果发生了生产问题，是否配置了正确的监控来排查该问题？
- en: Making small, frequent, and reversible changes
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 做小而频繁且可逆的更改
- en: As we build and move workloads into the cloud, instead of placing multiple systems
    on a single server, the best design practices are to break any large monolith
    designs into smaller, decoupled pieces. With the pieces being smaller, decoupled,
    and more manageable, you can work with smaller changes that are more reversible,
    should a problem arise.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 随着我们将工作负载迁移到云端，最好遵循的设计实践是将大型的单体设计拆分成更小、更解耦的组件，而不是将多个系统放在同一台服务器上。通过将组件做得更小、解耦且更易管理，可以处理更小的、更可逆的变化，以应对可能出现的问题。
- en: The ability to reverse changes can also come in the form of good coding practices.
    AWS CodeCommit allows Git tags in code repositories. By tagging each release once
    it has been deployed, you can quickly redeploy a previous version of your working
    code, should a problem arise in the code base. Lambda has a similar feature called
    versions.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 逆转更改的能力也可以体现在良好的编码实践中。AWS CodeCommit 允许在代码仓库中使用 Git 标签。在每次发布部署后，通过为每个版本打标签，你可以快速重新部署以前的工作版本，以防代码库中出现问题。Lambda
    也有类似的功能，称为版本。
- en: Anticipating failure
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 预见故障
- en: Don't expect that just because you are moving to the cloud and the service that
    your application is relying on is labeled as a managed service, that you no longer
    need to worry about failures. Failures happen, maybe not often; however, when
    running a business, any sort of downtime can translate into lost revenue. Having
    a plan to mitigate risks (and also test that plan) can genuinely mean the difference
    in keeping your **service-level agreement** (**SLA**) or having to apologize or,
    even worse, having to give customers credits or refunds.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 不要认为仅仅因为你将应用程序迁移到云端，且所依赖的服务被标记为托管服务，就不再需要担心故障。故障会发生，虽然可能不常见；然而，在经营业务时，任何形式的停机都可能导致收入损失。拥有一个应对风险的计划（并且测试该计划）实际上可能意味着保持你的**服务级别协议**（**SLA**）与不得不道歉，甚至更糟的是不得不给客户补偿或退款之间的差异。
- en: Learning from failure
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从失败中学习
- en: Things fail from time to time, but when they do, it's important not to dwell
    on the failures. Instead, perform post-mortem analysis and find the lessons that
    can make the team and the workloads stronger and more resilient for the future.
    Sharing learning across teams helps bring everyone's perspective into focus. One
    of the main questions that should be asked and answered after failure is, *Could
    the issue be resolved with automatic remediation?*
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 事情偶尔会失败，但当它们失败时，重要的是不要纠缠在失败中。相反，进行事后分析，并找到可以使团队和工作负载更强大和更具弹性的教训。跨团队分享学习有助于集中每个人的视角。失败后应该问并回答的一个主要问题是，*问题是否可以通过自动修复来解决？*
- en: One of the significant issues in larger organizations today is that in their
    quest of trying to be great, they stop being good. Sometimes, you need to be good
    at the things you do, especially on a daily basis. It can be a steppingstone to
    greatness. However, the eternal quest for excellence without the retrospective
    of what is preventing you from becoming good can sometimes be an exercise in spinning
    your wheels, and not gaining traction.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 当今较大组织中的一个重要问题是，在追求伟大的过程中，它们停止了做好的努力。有时，您需要在日常事务中做好您所做的事情。这可能是通往伟大的垫脚石。然而，如果没有回顾阻碍您变得优秀的原因，永恒追求卓越有时可能只是在原地打转，而不是获得进展。
- en: Example – operational excellence
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 示例 – 运营卓越
- en: 'Let''s take a look at the following relevant example, which shows the implementation
    of automated patching for the instances in an environment:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看一个相关示例，展示了在环境中为实例实施自动化补丁的情况：
- en: '![Figure 1.1 – Operational excellence – automated patching groups'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.1 – 运营卓越 – 自动化补丁组'
- en: '](img/Figure_1.1_B17405.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.1_B17405.jpg)'
- en: Figure 1.1 – Operational excellence – automated patching groups
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.1 – 运营卓越 – 自动化补丁组
- en: If you have instances in your environment that you are self-managing and need
    to be updated with patch updates, then you can use **System Manager** – **Patch
    Manager** to help automate the task of keeping your operating systems up to date.
    This can be done on a regular basis using a Systems Manager Maintenance Task.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的环境中有需要自行管理并需要更新补丁的实例，那么您可以使用**系统管理器** – **补丁管理器**来帮助自动化保持操作系统的更新任务。这可以通过使用系统管理器维护任务定期完成。
- en: The initial step would be to make sure that the **SSM** agent (formally known
    as **Simple Systems Manager**) is installed on the machines that you want to stay
    up to date with patching.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 初始步骤是确保安装了**SSM**代理（以前称为**简易系统管理器**）在您希望通过补丁保持更新的机器上。
- en: Next, you would create a patching baseline, which includes rules for auto-approving
    patches within days of their release, as well as a list of both approved and rejected
    patches.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将创建一个补丁基线，其中包括在发布后几天内自动批准补丁的规则，以及已批准和已拒绝补丁的列表。
- en: After that, you may need to modify the IAM role on the instance to make sure
    that the SSM service has the correct permissions.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，您可能需要修改实例上的IAM角色，以确保SSM服务具有正确的权限。
- en: Optionally, you can set up patch management groups. In the preceding diagram,
    we can see that we have two different types of servers, and they are both running
    on the same operating system. However, they are running different functions, so
    we would want to set up one patching group for the Linux servers and one group
    for the Database servers. The Database servers may only get critical patches,
    whereas the Linux servers may get the critical patches as well as the update patches.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 可选地，您可以设置补丁管理组。在前面的图表中，我们可以看到我们有两种不同类型的服务器，它们都运行在相同的操作系统上。然而，它们运行不同的功能，因此我们希望为Linux服务器设置一个补丁组，为数据库服务器设置另一个组。数据库服务器可能只会获得关键补丁，而Linux服务器可能会获得关键补丁以及更新补丁。
- en: Security
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全
- en: Next is the Security pillar of the AWS Well-Architected Framework. Today, security
    is at the forefront of everyone's minds. Bad actors are consistently trying to
    find vulnerabilities in any code and infrastructure (both on-premises and in the
    cloud). When looking back at the lessons learned from the first 10 years of AWS,
    CTO Werner Vogels said *Protecting your customers should always be your number
    one priority… And it certainly has been for AWS.* (Vogels, 2016)
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个是AWS Well-Architected Framework的安全支柱。今天，安全问题是每个人头脑中的重要问题。恶意行为者始终试图找到任何代码和基础设施（无论是在本地还是在云中）的漏洞。回顾AWS前10年的经验教训时，CTO
    Werner Vogels表示*保护您的客户应始终是您的首要任务...对AWS来说绝对如此*。（Vogels，2016）
- en: It is everyone's job these days to have secure practices across all cloud systems.
    This (protection) includes the infrastructure and networking components that serve
    the application and using secure coding practices and data protection, ultimately
    ensuring that the customer has a secure experience.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如今，确保所有云系统具有安全实践是每个人的责任。这种（保护）包括为应用程序服务的基础设施和网络组件，使用安全编码实践和数据保护，最终确保客户拥有安全的体验。
- en: 'When you think about security, there are four main areas that the security
    pillar focuses on. They are shown in the following diagram:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 当你思考安全时，安全支柱关注四个主要领域。它们在下图中展示：
- en: '![Figure 1.2 – The four main areas of security in the security pillar'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.2 – 安全支柱中的四个主要安全领域'
- en: '](img/Figure_1.2_B17405.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.2_B17405.jpg)'
- en: Figure 1.2 – The four main areas of security in the security pillar
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – 安全支柱中的四个主要安全领域
- en: 'The security pillar is constructed of seven principles:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 安全支柱由七个原则构成：
- en: Implementing a strong identity foundation
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实施强大的身份基础
- en: Enabling traceability
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用可追溯性
- en: Applying security at all layers
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在所有层面应用安全性
- en: Automating security best practices
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化安全最佳实践
- en: Protecting data in transit and at rest
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保护传输中和静态数据的安全
- en: Keeping people away from data
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将人员远离数据
- en: Preparing for security events
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备应对安全事件
- en: As we move through this book, you will find practical answers and solutions
    to some of the security principles introduced here in the security pillar. This
    will help you develop the muscle memory needed to instill security in everything
    you build, rather than putting your piece out there and letting the *security
    team* worry about it. Remember, security is everyone's responsibility. Initially,
    we will look at these security principles in a bit more detail.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的过程中，你将找到一些针对安全支柱中介绍的安全原则的实际答案和解决方案。这将帮助你养成将安全性融入到所构建的每个部分中的肌肉记忆，而不是将自己的部分交给*安全团队*去担心。记住，安全是每个人的责任。最初，我们将更详细地了解这些安全原则。
- en: Implementing a strong identity foundation
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实施强大的身份基础
- en: When building a strong identity foundation, it all starts with actualizing the
    principle of least privilege. No user or role should have more or less permissions
    than it actually needs to perform its job or duties. Taking this a step further,
    if you are using IAM to manage your users, then ensure that a password policy
    is in place to confirm that passwords are being rotated on a regular basis, and
    that they don't become too stale. It is also a good idea to check that the IAM
    password policy is in sync with your corporate password policy.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在建立强大的身份基础时，一切从实现最小权限原则开始。任何用户或角色的权限都不应多于或少于执行其工作或职责所需的权限。如果进一步深化这个概念，如果你使用IAM来管理用户，那么请确保密码策略到位，以确认密码定期轮换，避免密码变得过时。检查IAM密码策略与公司密码策略是否一致也是一个好主意。
- en: Also, as your organization grows and managing users and permissions starts to
    become a more complex task, you should look to establish central identity management
    either with Amazon Single Sign-on or by connecting a corporate Active Directory
    server.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，随着组织的成长和用户与权限管理变得更加复杂，你应考虑建立集中身份管理，使用Amazon单点登录或连接公司Active Directory服务器。
- en: Enabling traceability
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启用可追溯性
- en: Security events can leave you in a reactive state; however, your ability to
    react can rely on the amount of information you can gather about the event. Putting
    proper monitoring, logging, alerting, and the ability to audit your environments
    and systems in place before an event happens is crucial to being able to perform
    the correct assessments and steps, when the need arises.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 安全事件可能会让你处于被动应对的状态；然而，你的反应能力取决于你能够收集到多少关于该事件的信息。在事件发生之前，建立适当的监控、日志记录、警报以及审计环境和系统的能力，对于在需要时能够执行正确的评估和步骤至关重要。
- en: Capturing enough logs from a multitude of sources can be done with AWS services
    such as CloudWatch Logs, VPC Flow Logs, CloudTrail, and others. We will look at
    logging and monitoring extensively in Part 3 of this book as it is important to
    the DevOps Professional exam.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 从多个来源捕获足够的日志可以通过AWS服务来实现，例如CloudWatch Logs、VPC Flow Logs、CloudTrail等。在本书的第3部分，我们将详细探讨日志记录和监控，因为它们对于DevOps专业认证考试非常重要。
- en: '**Think about the following scenario**:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**考虑以下场景**：'
- en: Someone has gained access to a server via a weak password and compromised some
    data. You feel that you are currently capturing many logs; however, would you
    be able to figure out the following?
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 有人通过弱密码获得了服务器访问权限并且破坏了一些数据。你认为你当前收集了很多日志；然而，你能弄清楚以下问题吗？
- en: The username used to access the system
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于访问系统的用户名
- en: The IP address that was used where the access originated
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于访问源的IP地址
- en: The time access was started
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问开始的时间
- en: The records that were changed, modified, or deleted
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 被更改、修改或删除的记录
- en: How many systems were affected
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 受影响的系统数量
- en: Applying security at all layers
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在所有层级应用安全措施
- en: Securing all the levels of your environment helps protect you by giving your
    actions an extra expansiveness throughout your environment. To address network-level
    security, different VPCs can be secured using simple techniques such as Security
    Groups and Network ACLs. Seasoned AWS professionals know that additional security
    layers add an expansive security footprint – for example, at the edge (network
    access points to the AWS cloud), at the operating system level, and even making
    a *shift left* to secure the application code itself.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 保护环境中的所有层级有助于通过为你的行为提供更广泛的覆盖来提高安全性。为了应对网络级别的安全，可以使用简单的技术，如安全组和网络ACL来保护不同的VPC。经验丰富的AWS专业人士知道，额外的安全层会扩展安全防护的范围——例如，在边缘（AWS云的网络接入点）、操作系统级别，甚至通过*向左偏移*来保护应用程序代码本身。
- en: Automating security best practices
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自动化安全最佳实践
- en: As you and your team get more educated about secure practices in the cloud,
    repetitive tasks should become automated. This allows you to react quicker to
    events that are happening and even react when you don't realize when things are
    happening.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 随着你和你的团队在云端安全实践方面的教育不断深入，重复性的任务应该被自动化。这可以让你更快速地响应正在发生的事件，甚至在你没有意识到事件发生时也能作出反应。
- en: This should be a topic when you start to dive in headfirst. As a DevOps specialist,
    you are used to taking repetitive manual processes and making them more efficient
    with automation. Automation can take the form of automatically analyzing logs,
    removing or remediating resources that don't comply with your organization's security
    posture, and intelligently detecting threats.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这是你开始深入学习时需要关注的话题。作为一名DevOps专家，你习惯于将重复的手动流程通过自动化来提高效率。自动化可以表现为自动分析日志、删除或修复不符合组织安全政策的资源，或智能地检测威胁。
- en: Amazon Web Services has come out with tools to help with this process, including
    GuardDuty, CloudWatch, EventHub, and AWS Config.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊Web服务推出了一些工具来帮助这一过程，包括GuardDuty、CloudWatch、EventHub和AWS Config。
- en: Protecting data in transit and at rest
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保护传输中和静态存储的数据
- en: Bad actors are all around, constantly looking for exploitable data that is traveling
    across the internet unprotected. You definitely can't rely on end users to use
    best practices such as secure communications over VPN, so it is up to you and
    your team to put the best practices in place on the server side. Basic items such
    as implementing certificates on your load balancers, on your CloudFront distribution,
    or even at the server level allows transmissions to be encrypted while going from
    point to point.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 坏意图的攻击者无处不在，他们不断寻找可以被利用的、在互联网上未加保护的数据。你绝对不能依赖最终用户使用最佳实践，如通过VPN进行安全通信，因此，这项工作需要由你和你的团队在服务器端实施最佳实践。诸如在负载均衡器、CloudFront分发上，甚至在服务器层面实施证书等基本操作，可以确保数据在传输过程中进行加密，从而实现端到端的安全传输。
- en: On the same token, figuratively speaking, making sure that you authenticate
    network communications either by enabling **Transport Layer Security** (**TLS**)
    or IPsec at the protocol layer helps ensure that network communications are authenticated.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 同理，打个比方，确保通过启用**传输层安全协议**（**TLS**）或IPsec协议来验证网络通信，有助于确保网络通信的认证。
- en: There are AWS services to help protect your data, both in transit and at rest,
    such as AWS Certificate Manager, AWS Shield, AWS **Web Application Firewall**
    (the other **WAF**), and Amazon CloudFront. The **Key Management Service** (**KMS**)
    can also help protect your data at rest by allowing you to create, use, and rotate
    cryptographic keys easily.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: AWS提供了一些服务来帮助保护你的数据，无论是在传输中还是静态存储中，例如AWS证书管理器、AWS Shield、AWS **Web应用防火墙**（即另一个**WAF**）以及Amazon
    CloudFront。**密钥管理服务**（**KMS**）也可以帮助保护静态存储的数据，允许你轻松创建、使用和轮换加密密钥。
- en: For a deeper look at protecting data in transit and at rest, see [*Chapter 19*](B17405_19_Final_JM_ePub.xhtml#_idTextAnchor447),
    *Protecting Data in Flight and at Rest*.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 要深入了解如何保护传输中和静态数据，请参阅[*第19章*](B17405_19_Final_JM_ePub.xhtml#_idTextAnchor447)，*保护传输和静态数据*。
- en: Using mechanisms to keep people away from data
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用机制将人员与数据隔离
- en: There are ways to automate how data is accessed, rather than allowing individuals
    to directly access the data. It is a better idea to have items that can be validated
    through a change control process. These would be items, such as System Manager
    runbooks or Lambda Functions, that would access the data. The opposite of this
    would be allowing direct access to data sources through either a bastion host
    or Elastic IP address/CNAME.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方法可以自动化数据访问，而不是允许个人直接访问数据。通过变更控制过程验证的项目通常是一个更好的选择。这些项目可以是系统管理运行手册或Lambda函数，负责访问数据。与此相对的是允许通过堡垒主机或弹性IP地址/CNAME直接访问数据源。
- en: Providing this direct access can either lead to human mistakes or having a username
    and password compromised, which will ultimately lead to data loss or leakage.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 提供这种直接访问可能导致人为错误或用户名和密码被泄露，最终导致数据丢失或泄露。
- en: Preparing for security events
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为安全事件做准备
- en: Even if you enact all the security principles described previously, there is
    no guarantee that a security event won't be coming in the future. You are much
    better off practicing and having a prepared set of steps to enact quickly in case
    the need ever arises.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 即使您执行了前面描述的所有安全原则，也不能保证未来不会发生安全事件。您最好通过练习并准备一套快速执行的步骤，以防万一。
- en: You may need to create one or more runbooks or playbooks that outline the steps
    of how to do things such as snapshotting an AMI for forensic analysis and moving
    it to a secured account (if available). If the time comes when these steps are
    necessary, there will be questions coming from many different places. The answers
    will have a timeline aspect to them. If the team whose responsibility is to perform
    these duties has never even practiced any of these tasks, nor has a guide been
    established to help them through the process, then valuable cycles will be wasted,
    just trying to get organized.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能需要创建一个或多个运行手册或操作手册，列出如何执行任务的步骤，例如拍摄AMI快照进行取证分析并将其转移到安全账户（如果有的话）。当这些步骤变得必要时，会有来自不同地方的问题。这些答案将有时间方面的要求。如果负责执行这些任务的团队从未进行过这些任务的练习，也没有为他们制定指南，那么宝贵的时间将被浪费，仅仅是为了组织和安排。
- en: 'The following is the *Shared Responsibility Model* between AWS and you, the
    customer:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是AWS与您（客户）之间的*共享责任模型*：
- en: '![Figure 1.3 – The AWS shared responsibility model'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.3 – AWS共享责任模型'
- en: '](img/Figure_1.3_B17405.jpg)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.3_B17405.jpg)'
- en: Figure 1.3 – The AWS shared responsibility model
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3 – AWS共享责任模型
- en: Questions to ask
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 提问问题
- en: '* How do you protect your root account?'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '* 如何保护您的根账户？'
- en: '- Is there a **Multi-Factor Authentication** (**MFA**) device on the root account?'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '- 根账户上是否有**多因素认证**（**MFA**）设备？'
- en: '- Is there no use of the root account?'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '- 根账户是否未被使用？'
- en: '* How do you assign IAM users and groups?'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '* 如何分配IAM用户和组？'
- en: '* How do you delegate API/CLI access?'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '* 如何委派API/CLI访问权限？'
- en: Next, let's learn about the five design principles for reliability in the cloud.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们了解云端可靠性的五个设计原则。
- en: Reliability
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可靠性
- en: 'There are five design principles for reliability in the cloud:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 云端可靠性设计有五个原则：
- en: Automating recover from failure
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化故障恢复
- en: Testing recovery procedures
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试恢复程序
- en: Scaling horizontally to increase aggregate workload availability
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 横向扩展以提高整体工作负载的可用性
- en: Stopping guessing capacity
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 停止猜测容量
- en: Managing changes in automation
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理自动化中的变更
- en: Automating recovery from failure
  id: totrans-130
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自动化从故障中恢复
- en: When you think of automating recovery from failure, the first thing most people
    think of is a technology solution. However, this is not necessarily the context
    that is being referred to in the reliability service pillar. These points of failure
    really should be based on **Key Performance Indicators** (**KPIs**) set by the
    business.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 当你想到自动化故障恢复时，大多数人首先想到的是技术解决方案。然而，这不一定是可靠性服务支柱中所指的上下文。这些故障点应该是基于业务设定的**关键绩效指标**（**KPIs**）。
- en: 'As part of the recovery process, it''s important to know both the **Recovery
    Time Objective** (**RTO**) and **Recovery Point Objective** (**RPO**) of the organization
    or workload:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 作为恢复过程的一部分，了解组织或工作负载的**恢复时间目标**（**RTO**）和**恢复点目标**（**RPO**）非常重要。
- en: '**RTO** (**Recovery Time Objective**): The maximum acceptable delay between
    the service being interrupted and restored'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**RTO**（**恢复时间目标**）：服务中断和恢复之间可以接受的最大延迟时间'
- en: '**RPO** (**Recovery Point Objective**): The maximum acceptable amount of time
    since the last data recovery point (backup) (Amazon Web Services, 2021)'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**RPO**（**恢复点目标**）：自上次数据恢复点（备份）以来可接受的最大时间（亚马逊网络服务，2021年）'
- en: Testing recovery procedures
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 测试恢复程序
- en: In your cloud environment, you should not only test your workload functions
    properly, but also that they can recover from single or multiple component failures
    if they happen on a service, Availability Zone, or regional level.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的云环境中，你不仅应该测试工作负载是否能正常运行，还应测试它们是否能够从单个或多个组件故障中恢复，特别是在服务、可用区或区域层面发生故障时。
- en: Using practices such as Infrastructure as Code, CD pipelines, and regional backups,
    you can quickly spin up an entirely new environment. This could include your application
    and infrastructure layers, which will give you the ability to test that things
    work the same as in the current production environment and that data is restored
    correctly. You can also time how long the restoration takes and work to improve
    it by automating the recovery time.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用基础设施即代码、持续集成（CD）流水线和区域备份等实践，你可以快速启动一个全新的环境。这可以包括你的应用程序和基础设施层，能够让你测试其是否与当前生产环境中的工作方式相同，并且数据是否正确恢复。你还可以记录恢复所需的时间，并通过自动化恢复时间来改进它。
- en: Taking the proactive measure of documenting each of the necessary steps in a
    runbook or playbook allows for knowledge sharing, as well as fewer dependencies
    on specific team members who built the systems and processes.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 主动记录运行手册或操作手册中每一个必要步骤，可以促进知识共享，并减少对构建系统和流程的特定团队成员的依赖。
- en: Scaling horizontally to increase workload availability
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 水平扩展以提高工作负载可用性
- en: When coming from a data center environment, planning for peak capacity means
    finding a machine that can run all the different components of your application.
    Once you hit the maximum resources for that machine, you need to move to a bigger
    machine.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 从数据中心环境过渡时，规划峰值容量意味着找到一台可以运行应用程序所有不同组件的机器。一旦达到该机器的最大资源，就需要迁移到更大的机器。
- en: 'As you move from development to production or as your product or service grows
    in popularity, you will need to scale out your resources. There are two main methods
    for achieving this: scaling vertically or scaling horizontally:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 当你从开发环境迁移到生产环境，或者当你的产品或服务的受欢迎程度增长时，你需要扩展资源。实现这一点的主要方法有两种：垂直扩展或水平扩展：
- en: '![Figure 1.4 – Horizontal versus vertical scaling'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.4 – 水平扩展与垂直扩展'
- en: '](img/Figure_1.4_B17405.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.4_B17405.jpg)'
- en: Figure 1.4 – Horizontal versus vertical scaling
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – 水平扩展与垂直扩展
- en: One of the main issues with scaling vertically is that you will hit the ceiling
    at some point in time, moving to larger and larger instances. At some point, you
    will find that there is no longer a bigger instance to move up to, or that the
    larger instance will be too cost-prohibitive to run.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 垂直扩展的主要问题之一是你会在某个时刻碰到瓶颈，必须不断迁移到更大的实例。最终，你会发现没有更大的实例可以迁移，或者更大的实例运行成本太高，无法负担。
- en: Scaling horizontally, on the other hand, allows you to gain the capacity that
    you need at the time in a cost-effective manner.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，水平扩展使你能够以成本效益的方式，在需要时获得所需的容量。
- en: Moving to a cloud mindset means decoupling your application components, placing
    multiple groupings of the same servers behind a load balancer, or pulling from
    a queue and optimally scaling up and down based on the current demand.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 采用云思维意味着将应用程序组件解耦，将多个相同的服务器组放在负载均衡器后面，或从队列中拉取并根据当前需求进行最优的上下扩展。
- en: Stop guessing capacity
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 停止猜测容量
- en: If resources become overwhelmed, then they have a tendency to fail, especially
    on-premises, as demands spike and those resources don't have the ability to scale
    up or out to meet demand.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 如果资源被压垮，它们往往会发生故障，尤其是在本地部署时，当需求激增，而这些资源没有能力向上或向外扩展以满足需求时。
- en: There are service limits to be aware of, though many of them are called *soft
    limits*. These can be raised with a simple request or phone call to support. There
    are others called *hard limits*. They are set a specified number for every account,
    and there is no raising them.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些服务限制需要注意，尽管它们中的许多被称为*软限制*。这些限制可以通过简单的请求或打电话给支持团队来提高。还有一些被称为*硬限制*。它们是为每个账户设置的固定数字，无法提高。
- en: Note
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Although there isn't a necessity to memorize all these limitations, it is a
    good idea to become familiar with them and know about some of them since they
    do show up in some of the test questions – not as pure questions, but as context
    for the scenarios.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然没有必要记住所有这些限制，但熟悉它们并了解其中的一些限制是个好主意，因为它们有时会出现在一些测试问题中——并不是作为直接问题，而是作为情景的背景。
- en: Managing changes in automation
  id: totrans-153
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自动化中的变更管理
- en: Although it may seem easier and sometimes quicker to make a change to the infrastructure
    (or application) by hand, this can lead to infrastructure drift and is not a repeatable
    process. A best practice is to automate all changes using Infrastructure as Code,
    a code versioning system, and a deployment pipeline. This way, the changes can
    be tracked and reviewed.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然手动更改基础设施（或应用程序）似乎更容易且有时更快捷，但这可能导致基础设施漂移，并且无法重复操作。最佳实践是通过基础设施即代码、代码版本控制系统和部署管道自动化所有更改。这样，所有更改都可以被追踪和审查。
- en: Performance efficiency
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 性能效率
- en: If you and your architectural design team are coming from a data center infrastructure
    and a provisioning process takes weeks or months to get the system you need, then
    the quickness and availability of cloud resources is certainly a breath of fresh
    air. There is a need to understand how to select either the correct instance type
    or compute option (that is, server-based, containerized, or function-based compute)
    based on the workload requirements.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你和你的架构设计团队来自数据中心基础设施，并且配置过程需要几周或几个月才能获得所需的系统，那么云资源的快速性和可用性无疑是一次清新的体验。需要了解如何根据工作负载需求选择正确的实例类型或计算选项（即基于服务器、容器化或基于函数的计算）。
- en: Once you have made an initial selection, a benchmarking process should be undertaken
    so that you can see if you are utilizing all the CPU and memory resources that
    you have allocated, as well as to confirm that the workload can handle the duty
    that it is required to handle. As you select your instance types, don't forget
    to factor in costs and make a note of the cost differences that could either save
    you money or cost you more as you perform your baseline testing.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你做出了初步选择，就应该进行基准测试，以查看你是否充分利用了分配的所有 CPU 和内存资源，并确认工作负载是否能处理它所需执行的任务。在选择实例类型时，不要忘记考虑成本，并记录那些可能节省你资金或在基准测试过程中让你花费更多的成本差异。
- en: 'AWS provides native tools to create, deploy, and monitor benchmark tests, as
    shown in the following diagram:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 提供了本地工具来创建、部署和监控基准测试，如下图所示：
- en: '![Figure 1.5 – Baseline testing with AWS tooling'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.5 – 使用 AWS 工具进行基准测试'
- en: '](img/Figure_1.5_B17405.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.5_B17405.jpg)'
- en: Figure 1.5 – Baseline testing with AWS tooling
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5 – 使用 AWS 工具进行基准测试
- en: Using the tools provided by AWS, you can quickly spin up an environment for
    right-sizing, benchmarking, and load testing the initial value that you chose
    for your compute instance. You can also easily swap out other instance types to
    see how performant they are with the same test. Using CloudFormation to build
    the infrastructure, you can, in a quick and repeated fashion, run the tests using
    CodeBuild, all while gathering the metrics with CloudWatch to compare the results
    to make sure that you have made the best decision – with data to back up that
    decision. We will go into much more detail on how to use CodeBuild in [*Chapter
    7*](B17405_07_Final_JM_ePub.xhtml#_idTextAnchor188), *Using CloudFormation Templates
    to Deploy Workloads*.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 AWS 提供的工具，你可以快速启动一个环境来进行资源适配、基准测试和负载测试，检查你为计算实例选择的初始值是否合适。你还可以轻松地更换其他实例类型，查看它们在相同测试下的性能表现。通过使用
    CloudFormation 构建基础设施，你可以以快速且重复的方式运行测试，使用 CodeBuild 进行测试，同时通过 CloudWatch 收集度量数据，比较结果，确保你做出了最佳决策，并有数据支持这一决策。在
    [*第 7 章*](B17405_07_Final_JM_ePub.xhtml#_idTextAnchor188)中，我们将更详细地讨论如何使用 CodeBuild，[*使用
    CloudFormation 模板部署工作负载*]。
- en: 'The *performance efficiency* pillar includes five design principles to help
    you maintain efficient workloads in the cloud:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '*性能效率* 支柱包括五个设计原则，帮助你在云中保持高效的工作负载：'
- en: Making advanced technologies easier for your team to implement
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让先进技术更易于为你的团队实现
- en: Being able to go global in minutes
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 能够在几分钟内实现全球化
- en: Using serverless architectures
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用无服务器架构
- en: Allowing your teams to experiment
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许你的团队进行实验
- en: Using technology that aligns with your goals
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用与你目标一致的技术
- en: Making advanced technologies easier for your team to implement
  id: totrans-169
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 让先进技术更易于为你的团队实现
- en: Having the ability to use advanced technologies has become simplified in the
    cloud with the advent of managed services. No longer do you need full-time DBAs
    on staff who specialize in each different flavor of database, to test whether
    Postgres or MariaDB will perform in a more optimal fashion. In the same way, if
    you need replication for that database, you simply check a box, and you instantly
    have a Highly Available setup.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 随着托管服务的出现，云计算简化了使用先进技术的过程。你不再需要聘请全职数据库管理员来专门处理不同类型的数据库，以测试 Postgres 或 MariaDB
    哪个更优化地运行。类似地，如果你需要该数据库的复制，只需勾选一个框，你就能立即获得高可用的设置。
- en: Time that would otherwise be spent pouring over documentation, trying to figure
    out how to install and configure particular systems, is now spent on the things
    that matter the most to your customers and your business.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 过去需要花费时间在文档上，努力搞清楚如何安装和配置特定系统，现在这些时间可以用来专注于最重要的事情——为你的客户和业务提供价值。
- en: Being able to go global in minutes
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 能够在几分钟内实现全球化
- en: Depending on the application or service you are running, your customers may
    be centralized into one regional area, or they may be spread out globally. Once
    you have converted your infrastructure into code, there are built-in capabilities,
    either through constructs in CloudFormation templates or the CDK, that allow you
    to use regional parameters to quickly reuse a previously built pattern or architecture
    and deploy it to a new region of the world.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你运行的应用程序或服务，客户可能会集中在一个地区，或者分布在全球各地。一旦你将基础设施转化为代码，通过 CloudFormation 模板或 CDK
    中的构造，你可以利用区域参数快速重用之前构建的模式或架构，并将其部署到世界的其他地区。
- en: Even without deploying your full set of applications and architecture, there
    are still capabilities that allow you to serve a global audience using the **Content
    Delivery Network** (**CDN**) known as CloudFront. Here, you can create a secure
    global presence using the application or deploy content in the primary region,
    which is the origin.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 即使没有部署完整的应用程序和架构，依然有能力利用**内容分发网络**（**CDN**）CloudFront 来服务全球用户。在这里，你可以使用应用程序创建安全的全球存在，或者在主要区域（即原始区域）部署内容。
- en: Using serverless architectures
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用无服务器架构
- en: First and foremost, moving to serverless architectures means servers are off
    your to-do list. This means no more configuring servers with packages at startup,
    no more right-sizing servers, and no more patching servers.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，迁移到无服务器架构意味着不再需要管理服务器。这意味着不再需要在启动时配置带有软件包的服务器，不再需要调整服务器大小，也不再需要修补服务器。
- en: Serverless architectures also mean that you have decoupled your application.
    Whether you are using functions, events, or microservices, each of these should
    be doing a specific task. And with each component doing only their distinct task,
    it allows you to fine-tune memory and utilize CPU at the task level, as well as
    scale out at a particular task level.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 无服务器架构意味着你已经解耦了应用程序。无论是使用函数、事件还是微服务，每个组件都应该执行特定的任务。每个组件只处理其独特任务时，你可以在任务级别微调内存和使用
    CPU，并在特定任务级别进行扩展。
- en: This is not the best option for every workload, but don't allow a workload to
    be disqualified just because it would need a little refactoring. When an application
    can be moved to a serverless architecture, it can make life easier, the application
    itself more efficient, and there are usually cost savings to reap as a result
    – especially in the long run.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不是每个工作负载的最佳选择，但不要仅仅因为某个工作负载需要进行少量重构就将其排除。当应用程序可以迁移到无服务器架构时，它可以让生活更轻松，使应用程序本身更加高效，通常还会带来成本节省——特别是在长期看来。
- en: Allowing your teams to experiment
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 允许你的团队进行实验
- en: Once you move to the cloud, you can quickly and constantly refactor your workload
    to improve it for both performance and cost. If you have built your Infrastructure
    as Code, creating a new temporary environment just for testing can be a quick
    and cost-efficient way to try new modular pieces of your application, without
    having to worry about disrupting any customers or other parts of the organization.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你迁移到云端，你可以迅速且持续地重构你的工作负载，以提高性能和降低成本。如果你已经将基础设施构建为代码，那么为测试创建一个新的临时环境可以是一个快速且成本高效的方式，尝试你应用程序中的新模块，而无需担心会影响到任何客户或组织的其他部分。
- en: Many of the experiments may not work, but that is the nature of experimentation.
    Business is extremely competitive in this day and age, and finding an item that
    does work and makes your service faster, cheaper, and better can be a real game
    changer.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 许多实验可能不会成功，但这就是实验的本质。如今的商业竞争异常激烈，找到一个有效的解决方案，使你的服务更快、更便宜、更好，可能会成为真正的游戏规则改变者。
- en: Using technology that aligns with your workload's goals
  id: totrans-182
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用与工作负载目标对齐的技术
- en: List your business goals and let the product owner help drive some of the product
    and service selections based on those goals. If a development team has previous
    familiarity with certain technologies, they may be inclined to sway toward those
    technologies that they already feel confident using.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 列出你的业务目标，并让产品负责人根据这些目标帮助推动产品和服务的选择。如果开发团队对某些技术已有一定了解，他们可能会倾向于使用那些他们已经自信的技术。
- en: On the other hand, there are other teams that strive to use the latest and greatest
    technologies – but not necessarily because the technology solves a problem that
    has been identified. Rather, they are interested in constantly resume-building
    and making sure that they have both exposure to and experience with cutting-edge
    services as soon as they become available.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，还有一些团队力求使用最新的技术，但这并不一定是因为这些技术解决了已识别的问题。相反，他们的兴趣在于不断丰富简历，确保能够尽早接触并体验到最前沿的服务。
- en: Cost optimization
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 成本优化
- en: Many have the misconception that moving to the cloud will become an instant
    cost saver for their company or organization. A stark reality is faced once more,
    and more teams find out that provisioning new resources is as easy as clicking
    a button. Once the bills start appearing from an environment that doesn't have
    strict guardrails or the ability to chargeback the workloads to the corresponding
    teams, most of the time, there comes a cost reduction movement from the top down.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 许多人误以为迁移到云端会立即为他们的公司或组织带来成本节约。一旦没有严格的控制措施或无法将工作负载分摊给相关团队时，现实就显现了出来，越来越多的团队发现，配置新资源就像按一个按钮一样简单。一旦账单开始出现，大部分情况下，来自高层的成本削减运动就会随之而来。
- en: As you look to optimize your costs, understand that cloud services that have
    been proven to be managed services come at a high cost per minute; however, the
    human resources cost is much lower. There is no need to *care and feed* the underlying
    servers, nor worry about updating the underlying operating systems. Many of the
    services allow you to scale to user demands, and this is taken care of for you
    automatically.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在你着手优化成本时，要理解那些已被证明是托管服务的云服务，每分钟的费用较高；然而，人力资源成本却要低得多。你无需*关心和维护*底层服务器，也不需要担心更新底层操作系统。许多服务允许你根据用户需求进行扩展，这些都会自动为你处理。
- en: The ability to monitor cost and usage is also a key element in a cost optimization
    strategy. Having a sound strategy for resource tagging allows those who are responsible
    for financially managing the AWS account to perform chargebacks for the correct
    department.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 监控成本和使用情况的能力也是成本优化策略的关键要素之一。拥有一个合理的资源标签策略，可以使负责财务管理AWS账户的人进行正确部门的费用分摊。
- en: 'There are five design principles for cost optimization in the cloud:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 云中的成本优化有五项设计原则：
- en: Implementing cloud financial management
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实施云财务管理
- en: Adopting a consumption model
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 采用消费模型
- en: Measuring overall efficiency
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 衡量整体效率
- en: Stop spending money on undifferentiated heavy lifting
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 停止为无差异的大量基础设施工作付费
- en: Analyzing and attributing expenditure
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析和归因支出
- en: Implementing cloud financial management
  id: totrans-195
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实施云财务管理
- en: Cloud financial management is something that is starting to grow across organizations,
    both big and small, rapidly. It takes a dedicated team (or a group of team members
    that has been partially allocated this responsibility) to build out the ability
    to see where the cloud spend is going. This part of the organization will be looking
    at the cost usage reports, setting the budget alarms, tracking the spend, and
    hopefully enforcing a costing tag that can show the chargebacks for each department,
    cost center, or project.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 云财务管理正在各大组织中迅速发展，无论大小。它需要一个专门的团队（或者一组部分负责此任务的团队成员）来建立一个系统，能够看到云支出的去向。该团队会查看费用使用报告，设置预算警报，跟踪开支，并希望能够执行一个计费标签，以展示每个部门、成本中心或项目的费用分摊。
- en: What is a chargeback?
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 什么是费用分摊？
- en: An IT chargeback is a process that allows units to associate costs with specific
    departments, offices, or projects to try and accurately track the spend of IT.
    We are specifically referring to cloud spend in this example, but IT chargebacks
    are used in other areas of IT as well, such as for accounting purposes.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: IT费用分摊是一种流程，允许各个部门将费用与特定的部门、办公室或项目关联，从而准确跟踪IT支出。我们在此示例中具体指的是云支出，但IT费用分摊也应用于IT的其他领域，例如会计目的。
- en: Adopting a consumption model
  id: totrans-199
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 采用消费模型
- en: Using the cloud doesn't require a sophisticated forecasting model to keep costs
    under control, especially when you have multiple environments. Development and
    testing environments should have the ability to spin down or be suspended when
    not in use, hence saving on charges when they would otherwise be sitting idle.
    This is the beauty of on-demand pricing in the cloud. If developers gripe over
    the loss of data, then educate them on the use of snapshotting database instances
    before shutting them down; then, they can start their development from where they
    left off.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 使用云并不需要复杂的预测模型来控制成本，尤其是在有多个环境的情况下。开发和测试环境应该能够在不使用时关闭或暂停，从而节省空闲时的费用。这就是云端按需定价的魅力。如果开发人员因数据丢失而抱怨，那么可以教他们在关闭之前使用快照功能备份数据库实例；这样，他们就可以从中断的地方继续开发。
- en: An even better strategy is to automate the process of shutting down the development
    and test environments when the workday is finished and require a specialized tag,
    which would prevent an instance from being shut down after hours or on the weekend.
    You can also automate the process of restarting instances 30 to 60 minutes before
    the workday begins so that there is ample time for operating systems to become
    functional, allowing the team to think that they had never been turned off in
    the first place. Just be sure to watch out for any EC2 instances running on the
    instance store that may lose data.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更好的策略是自动化在工作日结束时关闭开发和测试环境的过程，并要求使用专门的标签，这样可以防止实例在下班后或周末被关闭。你还可以自动化在工作日开始前30到60分钟重启实例的过程，以便操作系统有足够的时间启动，确保团队认为它们根本没有被关闭过。只需要注意，任何运行在实例存储上的EC2实例可能会丢失数据。
- en: Measuring overall efficiency
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 衡量整体效率
- en: One of the most evident ways that organizations lose efficiency when it comes
    to their cloud budgets is neglecting to decommission unused assets. Although it
    is easier to spin up new services and create backups in the cloud, not having
    a plan to retire depreciated data, volume backups, machine images, log files,
    and other items adds to the bottom line of the monthly bill. This should be done
    with a scalpel and not a machete. Data, once deleted, is gone and irretrievable;
    however, there is no need to keep everything forever. Even with compliance, there
    is a fade-out period, and data can be stored in cold storage at a much more reasonable
    rate.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 组织在云预算方面失去效率的最明显方式之一就是忽视停用未使用的资产。虽然在云中启动新服务和创建备份较为容易，但如果没有计划将折旧的数据、卷备份、机器镜像、日志文件和其他物品进行退役，这将增加每月账单的底线。这应该用手术刀而非砍刀进行。数据一旦删除，就无法恢复；然而，并不需要将所有东西永远保存。即使是合规要求，也有一个渐退期，数据可以以更合理的价格存储在冷存储中。
- en: A perfect example is EBS snapshots. A customer who is trying to be proactive
    about data protection may be both snapshotting volumes multiple times per day
    as well as copying those snapshots to a Disaster Recovery region. If there is
    no way to depreciate the old snapshots after 30, 60, or 90 days, then this cost
    center item can become an issue rather quickly.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 一个完美的例子是EBS快照。试图主动保护数据的客户可能每天多次对卷进行快照，并将这些快照复制到灾难恢复区域。如果在30天、60天或90天后没有办法使旧的快照失效，那么这个成本中心项可能很快就会成为一个问题。
- en: Stop spending money on undifferentiated heavy lifting
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 停止在无差异的重型工作上花费资金。
- en: When we talk about heavy lifting, we're talking about racking, stacking, and
    cooling servers in a data center. Running a data center is a 24/7/365 endeavor,
    and you can't easily turn off machines and storage when you're not using them.
    Moving workloads to the cloud takes the onus of running those data centers off
    your team members and allows more time and effort to go into focusing on customer
    needs and features, rather than caring for and feeding servers and hardware.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们谈论重型工作时，我们指的是在数据中心中架设、堆叠和冷却服务器。运营数据中心是一项24小时全天候、365天的工作，而当你不使用这些机器和存储时，不能轻易关闭它们。将工作负载迁移到云端，减轻了团队成员对数据中心运营的负担，使他们可以将更多时间和精力投入到关注客户需求和功能上，而不是照料和管理服务器及硬件。
- en: Analyzing and attributing expenditure
  id: totrans-207
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分析和归因支出
- en: The cloud – and the AWS cloud, in particular – has tools available to help you
    analyze and reference where the charges for your account(s) are coming from. The
    first tool in your toolbox is tags and a tagging strategy. Once you have decided
    on a solid set of base tags, including things such as cost center, department,
    and application, then you have a foundation for the rest of the tools that are
    available to you.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算——尤其是AWS云——提供了帮助你分析和参考账户费用来源的工具。工具箱中的第一个工具是标签和标签策略。一旦你决定了一个稳定的基础标签集，包括成本中心、部门和应用等内容，你就为其余可用工具奠定了基础。
- en: Breaking out from a single account structure into multiple accounts and organizational
    units using AWS Organizations can automatically categorize spend, even without
    the use of tags at the account level.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用AWS Organizations从单一账户结构扩展到多个账户和组织单元，可以在不使用账户级别标签的情况下自动分类支出。
- en: AWS Cost Explorer allows your financial management team to dig into the services
    and regions where spend is occurring, as well as create automatic dashboards to
    visualize the spend quickly. Amazon Web Services also has pre-set service quotas
    in place, some of which are hard quotas that cannot be changed, but many of which
    are soft quotas that allow you to raise the number of particular services (in
    a region) in a simple request.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: AWS成本探索器允许你的财务管理团队深入分析费用发生的服务和区域，并能够创建自动化仪表板，快速可视化支出。亚马逊网络服务还设定了预设的服务配额，其中一些是不可更改的硬性配额，但许多则是允许你通过简单请求增加特定服务数量（在某个区域内）的软性配额。
- en: Overarching service pillar principals
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总体服务支柱原则
- en: 'The Well-Architected Framework identifies a set of general design principles
    to facilitate good design in the cloud:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 《良好架构框架》识别了一套通用设计原则，旨在促进云端的良好设计：
- en: Test systems at full production scale.
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在完整生产规模下测试系统。
- en: Automate as many components as possible to make experimentation as easy as possible.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化尽可能多的组件，使实验尽可能简单。
- en: Drive architectures using data.
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用数据驱动架构设计。
- en: Stop guessing capacity needs.
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 停止猜测容量需求。
- en: Allow architectures to evolve with new technologies and services.
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许架构随着新技术和服务的出现而不断演进。
- en: Use game days to drive team improvement.
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用游戏日推动团队改进。
- en: As you are thinking about these service principals and how to put them into
    practice, realize that sometimes, the principles can feel like they are contradicting
    each other. The most obvious case is with the *cost optimization* pillar. If this
    is the pillar that the organization you are working for is trying to give the
    most attention, the other pillars can get in the way of pure cost savings. Strengthening
    weaknesses that you have found in the *reliability* pillar, most times, means
    more assets, and assets mean money. However, you can still strive to make those
    assets as cost-effective as possible so that you comply with all the pillars.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 在你思考这些服务原则并如何将它们付诸实践时，要意识到有时候这些原则可能会感觉相互矛盾。最明显的例子是*成本优化*支柱。如果这是你所在的组织最关注的支柱，其他支柱可能会影响纯粹的成本节约。加强你在*可靠性*支柱中发现的弱点，通常意味着更多的资产，而资产意味着更多的资金。然而，你仍然可以努力使这些资产尽可能具有成本效益，从而符合所有支柱的要求。
- en: Summary
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we learned about the five service principals that guide architects
    and developers to be well architected. We talked about how these are the underlying
    themes that run through the test questions in the DevOps pro exam, and how having
    this foundational knowledge can help when you're trying to determine the correct
    answer to a question. As we discussed each service pillar, we also talked about
    their underlying design principals.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了指导架构师和开发人员设计良好的五个服务原则。我们讨论了这些原则是如何成为DevOps专业考试中的测试问题的基础主题，以及掌握这些基础知识在你确定正确答案时如何帮助你。我们在讨论每个服务支柱时，也讨论了它们的基础设计原则。
- en: We briefly mentioned several different AWS services and which service pillar
    or design principals where specific services come into play. In the next chapter,
    we will learn about the fundamental AWS services that are used throughout the
    environments and accounts you will be working in.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 我们简要提到了一些不同的AWS服务，以及哪些服务支柱或设计原则在特定服务中发挥作用。在下一章中，我们将学习贯穿于你将要工作中的环境和账户的基本AWS服务。
- en: Review questions
  id: totrans-223
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 复习题
- en: What are the five pillars of the Well-Architected Framework?
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Well-Architected 框架的五个支柱是什么？
- en: What are the five main areas that security in the cloud consists of?
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安全在云中的五个主要领域是什么？
- en: What are the four areas that the performance efficiency pillar consists of?
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 性能效率支柱包含的四个领域是什么？
- en: What are the three areas that the reliability pillar consists of?
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可靠性支柱包含的三个领域是什么？
- en: What is the definition of RTO?
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: RTO的定义是什么？
- en: What is the definition of RPO?
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: RPO的定义是什么？
- en: Review answers
  id: totrans-230
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 复习答案
- en: '**C**ost Optimization, **R**eliability, **O**perational Excellence, **P**erformance
    Efficiency, and **S**ecurity. (Use the Mnemonic **CROPS** to help remember the
    five pillars using the first letter of each pillar.)'
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**C**ost Optimization, **R**eliability, **O**perational Excellence, **P**erformance
    Efficiency, 和 **S**ecurity。（使用助记符**CROPS**帮助记住这五个支柱，每个支柱的首字母分别是C、R、O、P、S。）'
- en: Data protection, infrastructure protection, privilege management, incident response,
    and detective controls.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据保护、基础设施保护、权限管理、事件响应和侦测控制。
- en: Compute, storage, database, and network.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算、存储、数据库和网络。
- en: Foundations, change management, and failure management.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基础、变更管理和故障管理。
- en: '**Recover Time Objective** – The maximum acceptable delay between interrupting
    the service and restoring the service.'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**恢复时间目标** – 中断服务和恢复服务之间可接受的最大延迟。'
- en: '**Recovery Point Objective** – The maximum acceptable amount of time since
    the last data recovery point (backup).'
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**恢复点目标** – 自上次数据恢复点（备份）以来可接受的最大时间间隔。'
- en: Further reading
  id: totrans-237
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入阅读
- en: 'The following is a list of recommended papers and resources for further reading:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是推荐的论文和资源列表，供进一步阅读：
- en: 'AWS Well-Architected Whitepaper: [https://d1.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf](https://d1.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf)'
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'AWS Well-Architected 白皮书: [https://d1.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf](https://d1.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf)'
- en: 'Cost Optimization Whitepaper: [https://docs.aws.amazon.com/wellarchitected/latest/cost-optimization-pillar/wellarchitected-cost-optimization-pillar.pdf](https://docs.aws.amazon.com/wellarchitected/latest/cost-optimization-pillar/wellarchitected-cost-optimization-pillar.pdf)'
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '成本优化白皮书: [https://docs.aws.amazon.com/wellarchitected/latest/cost-optimization-pillar/wellarchitected-cost-optimization-pillar.pdf](https://docs.aws.amazon.com/wellarchitected/latest/cost-optimization-pillar/wellarchitected-cost-optimization-pillar.pdf)'
- en: 'Reliability Whitepaper: [https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/wellarchitected-reliability-pillar.pdf#welcome](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/wellarchitected-reliability-pillar.pdf#welcome)'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可靠性白皮书：[https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/wellarchitected-reliability-pillar.pdf#welcome](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/wellarchitected-reliability-pillar.pdf#welcome)
- en: 'Operational Excellence Whitepaper: [https://docs.aws.amazon.com/wellarchitected/latest/operational-excellence-pillar/wellarchitected-operational-excellence-pillar.pdf](https://docs.aws.amazon.com/wellarchitected/latest/operational-excellence-pillar/wellarchitected-operational-excellence-pillar.pdf)'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作卓越白皮书：[https://docs.aws.amazon.com/wellarchitected/latest/operational-excellence-pillar/wellarchitected-operational-excellence-pillar.pdf](https://docs.aws.amazon.com/wellarchitected/latest/operational-excellence-pillar/wellarchitected-operational-excellence-pillar.pdf)
- en: 'Performance Efficiency Whitepaper: [https://docs.aws.amazon.com/wellarchitected/latest/performance-efficiency-pillar/wellarchitected-performance-efficiency-pillar.pdf#welcome](https://docs.aws.amazon.com/wellarchitected/latest/performance-efficiency-pillar/wellarchitected-performance-efficiency-pillar.pdf#welcome)'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 性能效率白皮书：[https://docs.aws.amazon.com/wellarchitected/latest/performance-efficiency-pillar/wellarchitected-performance-efficiency-pillar.pdf#welcome](https://docs.aws.amazon.com/wellarchitected/latest/performance-efficiency-pillar/wellarchitected-performance-efficiency-pillar.pdf#welcome)
- en: 'Security Whitepaper: [https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/wellarchitected-security-pillar.pdf](https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/wellarchitected-security-pillar.pdf)'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全白皮书：[https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/wellarchitected-security-pillar.pdf](https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/wellarchitected-security-pillar.pdf)
- en: 'Calculating Total System Availability:'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算系统总可用性：
- en: '[https://www.delaat.net/rp/2013-2014/p17/report.pdf](https://www.delaat.net/rp/2013-2014/p17/report.pdf)'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://www.delaat.net/rp/2013-2014/p17/report.pdf](https://www.delaat.net/rp/2013-2014/p17/report.pdf)'
- en: 'Well-Architected Labs:'
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Well-Architected实验室：
- en: '[https://www.wellarchitectedlabs.com/](https://www.wellarchitectedlabs.com/)'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://www.wellarchitectedlabs.com/](https://www.wellarchitectedlabs.com/)'
- en: 'AWS Well-Architected Framework pillars:'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AWS Well-Architected框架支柱：
- en: '[https://wa.aws.amazon.com/wat.pillars.wa-pillars.en.html](https://wa.aws.amazon.com/wat.pillars.wa-pillars.en.html)'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://wa.aws.amazon.com/wat.pillars.wa-pillars.en.html](https://wa.aws.amazon.com/wat.pillars.wa-pillars.en.html)'
- en: '10 Lessons from 10 Years of AWS: [https://www.allthingsdistributed.com/2016/03/10-lessons-from-10-years-of-aws.html](https://www.allthingsdistributed.com/2016/03/10-lessons-from-10-years-of-aws.html)'
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 10年AWS经验的10个教训：[https://www.allthingsdistributed.com/2016/03/10-lessons-from-10-years-of-aws.html](https://www.allthingsdistributed.com/2016/03/10-lessons-from-10-years-of-aws.html)
