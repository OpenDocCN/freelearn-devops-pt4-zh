<html><head></head><body>
        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Command Line-Interface - Vagrant Commands</h1>
                
            
            <article>
                
<p class="calibre2">In this chapter, we will learn how to control Vagrant through its various commands and sub-commands. Vagrant has no graphical user interface so we will be running the commands through a Terminal/Command Prompt. By the end of this chapter, you will have a strong fundamental knowledge of the Vagrant commands and their uses. We will cover the following topics:</p>
<ul class="calibre10">
<li class="calibre11">Vagrant commands, sub-commands, and flags</li>
<li class="calibre11">Formatting commands</li>
<li class="calibre11">General Vagrant commands and sub-commands</li>
<li class="calibre11">Vagrant's configuration commands and sub-commands</li>
<li class="calibre11">Day-to-day Vagrant commands and sub-commands</li>
<li class="calibre11">Application-specific Vagrant commands and sub-commands</li>
<li class="calibre11">Troubleshooting</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Vagrant command overview</h1>
                
            
            <article>
                
<p class="calibre2">Vagrant is primarily a command-line only tool. By default, there is no graphical user interface, although it is possible to find a few third-party ones online. Vagrant offers a simple and powerful collection of over 25 commands and sub-commands.</p>
<p class="calibre2">To get started with Vagrant commands, open up your Command Prompt / Terminal and run the <kbd class="calibre12">vagrant --help</kbd> command. You should now see a list of common commands, these include  <kbd class="calibre12">box</kbd>, <kbd class="calibre12">destroy</kbd>, and <kbd class="calibre12">status</kbd>.</p>
<p class="calibre2">To view the fill list of available and less-commonly-used commands, run  <kbd class="calibre12">vagrant list-commands</kbd>. You will now see a larger list of commands with a brief explanation about each one.</p>
<p class="calibre2">To get more information on a specific command and to view its sub-commands, add the <kbd class="calibre12">--help</kbd> flag at the end of the command you want to learn more about. An example is <kbd class="calibre12">vagrant box --help</kbd>, which would return the following:</p>
<div class="cdpaligncenter"><img class="alignnone3" src="../images/00010.jpeg"/></div>
<p class="calibre2">When a command has sub-commands available, you can also add the <kbd class="calibre12">--help</kbd> flag to that sub-command to learn more. In this case, our command would be <kbd class="calibre12">vagrant box add --help</kbd>, which would return:</p>
<div class="cdpaligncenter"><img class="alignnone4" src="../images/00011.jpeg"/></div>
<p class="calibre2">As you can see in the screenshot, there is a wealth of information available about this sub-command. Vagrant is very well-documented and anything that you cannot find via the command-line/Terminal, you should be able to find on the Vagrant website:<a href="https://www.vagrantup.com/" class="calibre9"> https://www.vagrantup.com/</a>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Vagrant commands in depth</h1>
                
            
            <article>
                
<p class="calibre2">In this section, you will learn about all of the available Vagrant commands and sub-commands. We will explore the most common commands and what each one does. We will look at errors with regards to commands and how to overcome them.</p>
<p class="calibre2">We will split the commands and sub-commands into the following four categories:</p>
<ul class="calibre10">
<li class="calibre11">General</li>
<li class="calibre11">Configuration</li>
<li class="calibre11">Day-to-day</li>
<li class="calibre11">Application-specific</li>
</ul>
<p class="calibre2">By the end of this section, you will have a good understanding of which commands and sub-commands are available, what they do, and how you can use them on a daily basis.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">A brief note on formatting commands</h1>
                
            
            <article>
                
<p class="calibre2">In this chapter, I will use certain keywords as placeholders. These placeholders are for you to enter values into the commands and sub-commands. A typical placeholder will look like this: <kbd class="calibre12">[INSERT VALUE]</kbd>. An example would be <kbd class="calibre12">vagrant login --user [INSERT VALUE]</kbd>, where <kbd class="calibre12">[INSERT VALUE]</kbd> would be something such as <kbd class="calibre12">myusername</kbd> and the final command that you input would be <kbd class="calibre12">vagrant login --user myusername</kbd>. There is no need for capital letters or square brackets.</p>
<p class="calibre2">When you see the <kbd class="calibre12">[VMNAME]</kbd> placeholder, this refers to a specific Vagrant machine name that you want to run the command against on your system. The default Vagrant machine is called <kbd class="calibre12">default</kbd>, so an example command would be <kbd class="calibre12">vagrant resume default</kbd>, which would resume the machine from a suspended state.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">General Vagrant commands and sub-commands</h1>
                
            
            <article>
                
<p class="calibre2">The general commands and sub-commands in Vagrant are not category-specific. They may only get used once or serve an incredibly specific purpose.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The list-commands command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">list-commands</kbd> command will list all available commands within the main <kbd class="calibre12">vagrant</kbd> command scope. It will alphabetically list each command and give a brief description.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is only one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>, which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant list-commands --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The help command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">help</kbd> command will show you the correct syntax for a command and list a selection of the most popular Vagrant commands.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The version command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">version</kbd> command will return the version of Vagrant that is currently installed on your system, the latest version available online, and supply a website URL to the downloads page of the Vagrant website.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is only one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd><span class="calibre6">,</span> which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant version --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The global-status command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">global-status</kbd> command will return information about all of the Vagrant environments associated with the current user. It will return the Vagrant environment ID, name, provider, state, and directory. This command can be useful for giving you an overview into what is happening on your system with the Vagrant environments.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are two flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command</li>
<li class="calibre11"><kbd class="calibre12">--prune</kbd>: Prunes any invalid entries</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant global-status --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Vagrant's configuration commands and sub-commands</h1>
                
            
            <article>
                
<p class="calibre2">In this section, we will look at Vagrant's configuration commands and sub-commands. These are often used to configure Vagrant, such as installing a package or taking a snapshot of an environment.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The login command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">login</kbd> command is used to log into your HashiCorp Vagrant Cloud account. Logging into the Vagrant Cloud will allow you to access and download protected boxes and the Vagrant Share service, which allows you to share your Vagrant environment with anyone.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are six flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">-c</kbd>/<kbd class="calibre12">--check</kbd>: Checks to see whether you are already logged in</li>
<li class="calibre11"><kbd class="calibre12">-d</kbd>/<kbd class="calibre12">--description [INSERT VALUE]</kbd>: Takes a parameter to set a description of the token</li>
<li class="calibre11"><kbd class="calibre12">-k</kbd>/<kbd class="calibre12">--logout</kbd>: Logs you out if you are already logged in</li>
<li class="calibre11"><kbd class="calibre12">-t</kbd>/<kbd class="calibre12">--token [INSERT VALUE]</kbd>: Takes a parameter to set the Vagrant Cloud token</li>
<li class="calibre11"><kbd class="calibre12">-u</kbd>/<kbd class="calibre12">--username [INSERT VALUE]</kbd>: Takes a parameter to specify your Vagrant Cloud email or username</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant login --check</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The package command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">package</kbd> commands allow you to create a Vagrant box out of a running Vagrant environment.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are five flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--base [INSERT VALUE]</kbd>: Takes a parameter of the name of a virtual machine in VirtualBox to package as a base box. This flag only works if you are using the VirtualBox provisioner.</li>
<li class="calibre11"><kbd class="calibre12">--output [INSERT VALUE]</kbd>: Takes a parameter to name the output file.</li>
<li class="calibre11"><kbd class="calibre12">--include [INSERT VALUE, INSERT VALUE]</kbd>: Takes comma-separated parameters to include additional files in this packaging process.</li>
<li class="calibre11"><kbd class="calibre12">--vagrantfile [INSERT VALUE]</kbd>: Takes a parameter of the Vagrantfile you wish to package into this box.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant package --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The snapshot command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">snapshot</kbd> command allows you to manage snapshots of Vagrant environments. You can save, delete, and restore snapshots. Only certain providers support snapshotting If your provider does not, Vagrant will return a warning when this command is run.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">sub-commands</h1>
                
            
            <article>
                
<p class="calibre2">There are six sub-commands available for the <kbd class="calibre12">snapshot</kbd> command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">vagrant snapshot delete [INSERT VALUE] [INSERT VALUE]</kbd>: The first parameter is the virtual machine name and the second parameter is the name of the snapshot you wish to delete.</li>
<li class="calibre11"><kbd class="calibre12">vagrant snapshot list [INSERT VALUE]</kbd>: The parameter can optionally be the Vagrant machine name. This command will list all available snapshots on your system or all snapshots for a certain Vagrant machine if the parameter is specified.</li>
</ul>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">vagrant snapshot push</kbd>: This can be used to create a new snapshot of a running Vagrant environment. It will add this onto the Snapshot stack.</li>
<li class="calibre11"><kbd class="calibre12">vagrant snapshot pop</kbd>: This can be used as an opposite to the <kbd class="calibre12">push</kbd> command to reverse a snapshot that has been pushed.</li>
<li class="calibre11"><kbd class="calibre12">vagrant snapshot save [INSERT VALUE] [INSERT VALUE]</kbd>: This saves a snapshot of the current machine. It's similar to the <kbd class="calibre12">push</kbd> command, but it is recommended that you do not mix this command with <kbd class="calibre12">push</kbd> or <kbd class="calibre12">pop</kbd> as it is unsafe. The first parameter is the virtual machine name and the second parameter is the snapshot name.</li>
<li class="calibre11"><kbd class="calibre12">vagrant snapshot restore [INSERT VALUE] [INSERT VALUE]</kbd>: This restores a supplied snapshot. The first parameter is the virtual machine name and the second is the name of the snapshot you wish to restore to.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The provider command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">provider</kbd> command will return the provider for the current running machine, or it can accept an environment ID.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are three flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--install</kbd>: Attempts to install the provider</li>
<li class="calibre11"><kbd class="calibre12">--usable</kbd>: Checks whether the provider is usable</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant provider --install</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The plugin command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">plugin</kbd> command allows you to manage Vagrant plugins. You can install, list, repair, uninstall, and update plugins.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">sub-commands</h1>
                
            
            <article>
                
<p class="calibre2">There are seven sub-commands available for the <kbd class="calibre12">plugin</kbd> command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">vagrant plugin expunge</kbd>: Removes all user-installed plugins. This will remove any data and dependencies associated with them. This is a useful command if you wish to delete them all in one go.</li>
<li class="calibre11"><kbd class="calibre12">vagrant plugin install [INSERT VALUE]</kbd>: Installs a plugin by supplying its name as the command's parameter. You can install a plugin from a known Gem or from a local Gem file on your system.</li>
<li class="calibre11"><kbd class="calibre12">vagrant plugin license [INSERT VALUE] [INSERT VALUE]</kbd>: Installs a proprietary Vagrant plugin license. The first parameter is the plugin name and the second is the licence file.</li>
<li class="calibre11"><kbd class="calibre12">vagrant plugin list</kbd>: Lists all installed plugins on your system. It will list plugin information, such as its version. This command is useful for finding out which plugins and versions you have installed.</li>
<li class="calibre11"><kbd class="calibre12">vagrant plugin repair</kbd>: Attempts to repair any plugins where there has been an issue and it is not working correctly. The issue could be during the installation of a custom plugin or an error with the <kbd class="calibre12">plugins.json</kbd> file.</li>
<li class="calibre11"><kbd class="calibre12">vagrant plugin uninstall [INSERT VALUE]</kbd>: Deletes a plugin using a supplied plugin name as the first parameter. This command supports multiple parameters, with each one being a plugin name. You can delete one or multiple plugins using this command.</li>
<li class="calibre11"><kbd class="calibre12">vagrant plugin update [INSERT VALUE]</kbd>: Updates a specific plugin if the first parameter is supplied as the plugin's name. If no parameter is supplied, this command will update all installed plugins.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The cap command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">cap</kbd> command allows you to run or check the capabilities of a guest machine. These capabilities are often guest-specific and are configured specifically, for example, in Vagrant plugin development.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are two flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--check <span>[INSERT VALUE] [INSERT VALUE]</span></kbd>: Checks for a certain capability. The first parameter is the capability name and the second parameter is the capability arguments. This command will not run the capability.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant cap --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Day-to-day Vagrant commands and sub-commands</h1>
                
            
            <article>
                
<p class="calibre2">Day-to-day Vagrant commands and sub-commands are the ones you will use the most. These commands are generally used to manage your Vagrant boxes, such as creating, starting, and stopping them.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The box command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">box</kbd> command allows you to manage Vagrant boxes on your system. You can install, update, remove, and prune boxes.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">sub-commands</h1>
                
            
            <article>
                
<p class="calibre2">There are seven sub-commands available for the <kbd class="calibre12">box</kbd> command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">vagrant box add [INSERT VALUE]</kbd>: Adds and downloads a Vagrant box to your system. This box can then be used in your Vagrantfile to create a Vagrant machine.</li>
<li class="calibre11"><kbd class="calibre12">vagrant box list</kbd>: Lists all installed boxes installed on your system.</li>
<li class="calibre11"><kbd class="calibre12">vagrant box outdated</kbd>: Checks whether the current Vagrant box is outdated. You can add the <kbd class="calibre12">--global</kbd> flag, which will check all installed Vagrant boxes.</li>
<li class="calibre11"><kbd class="calibre12">vagrant box prune</kbd>: Removes old versions of installed boxes. It will ask for confirmation if you are currently using an old version of a box it wants to delete.</li>
<li class="calibre11"><kbd class="calibre12">vagrant box remove [INSERT VALUE]</kbd>: Removes a Vagrant box by name as the first parameter supplied.</li>
</ul>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">vagrant box repackage [INSERT VALUE] [INSERT VALUE] [INSERT VALUE]</kbd>: Repackages a Vagrant box into a <kbd class="calibre12">.box</kbd> file using the name as the first parameter, the provider as the second parameter, and the version as the third parameter. You can get the parameter values using the <kbd class="calibre12">vagrant box list</kbd> command. The box can then be distributed.</li>
<li class="calibre11"><kbd class="calibre12">vagrant box update</kbd>: Checks and updates the current box you are using. You can supply the <kbd class="calibre12">--box [INSERT VALUE]</kbd> flag where the first parameter is the box name that you wish to specifically update.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The destroy command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">destroy</kbd> command will stop and delete a Vagrant machine.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are three flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">-f</kbd>/<kbd class="calibre12">--force</kbd><span>: Destroys the Vagrant machine without asking you for confirmation.</span></li>
<li class="calibre11"><kbd class="calibre12">--parallel</kbd><span>/</span><kbd class="calibre12">--no-parallel</kbd><span>: Enables or disables parallelism only if the provider supports it. We are using VirtualBox as the provider in this book, and at the time of writing it does not support parallel execution. Running this flag will enable the <kbd class="calibre12">force</kbd> flag too.</span></li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant destroy --force</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The halt command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">halt</kbd> command will stop/halt a running Vagrant machine.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are two flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--force <span>[INSERT VALUE]</span></kbd>: Forces the running machine to shut down. If your machine has not saved, you may lose data when running this command it is like switching off the computer's power source. You can specify a machine name or ID using the optional parameter.</li>
</ul>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant halt --force</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The init command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">init</kbd> command generates a new Vagrantfile, which is used to configure new Vagrant environments.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are six flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--box-version [INSERT VALUE]</kbd>: Adds a version of the box supplied as the first parameter into the Vagrantfile</li>
<li class="calibre11"><kbd class="calibre12">-f</kbd>/<kbd class="calibre12">--force</kbd>: Overwrite an existing Vagrantfile if there is already one in the same directory</li>
<li class="calibre11"><kbd class="calibre12">-m</kbd>/<kbd class="calibre12">--minimal</kbd>: Generates a minimal Vagrantfile that will remove anything not required, such as comments</li>
<li class="calibre11"><kbd class="calibre12">--output [INSERT VALUE]</kbd>: Uses an output path specified by the first parameter</li>
<li class="calibre11"><kbd class="calibre12">--template [INSERT VALUE]</kbd>: Uses a custom Vagrantfile template when its path is supplied as the first parameter</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant init --force</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The port command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">port</kbd> command returns port-mapping from the guest machine to the Vagrant environment.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are three flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--guest <span>[INSERT VALUE]</span></kbd><span>: Outputs specific port information when the first parameter supplied is the port available on the guest machine. It will return the host-mapped port. This command can be useful for certain network-level debugging or testing.</span></li>
</ul>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--machine-readable</kbd>: Returns/displays a more machine-readable output.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant port --machine-readable</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The provision command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">provision</kbd> command will provision a Vagrant machine from an available Vagrantfile. If successful, you will have a running and fully-provisioned Vagrant environment.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are two flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--provision-with [INSERT VALUE]</kbd>: Provisions the Vagrant machine with a specified provisioner. You can use multiple provisioner types by suppling the parameter as a comma-separated list.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant provision --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The push command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">push</kbd> command will deploy code using a method that you have configured in the Vagrantfile. You can use FTP/SFTP and Heroku as the deployment methods.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is only one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd><span class="calibre6">,</span> which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant push --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The reload command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">reload</kbd> command is used when you make a change to the Vagrantfile and wish to apply that to the running machine. This command will stop, apply the new Vagrantfile, and start up the environment.</p>
<p class="calibre2"/>
<p class="calibre2"/>
<p class="calibre2"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are <span class="calibre6">three</span> flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--provision</kbd>/<kbd class="calibre12">--no-provision</kbd>: Enables or disables provisioning during the reload process.</li>
<li class="calibre11"><kbd class="calibre12">--provision-with [INSERT VALUE]</kbd>: Provisions the Vagrant machine with a specified provisioner. You can use multiple provisioner types by suppling the parameter as a comma-separated list.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant reload --no-provision</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The resume command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">resume</kbd> command will start up a paused Vagrant environment. It can be used after the <kbd class="calibre12">vagrant halt</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are three flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--provision</kbd>/<kbd class="calibre12">--no-provision</kbd>: Enables or disables provisioning as the machine resumes.</li>
<li class="calibre11"><kbd class="calibre12">--provision-with [INSERT VALUE]</kbd><span>: Only uses certain provisioners specified in the first parameter. To use multiple, you can supply a comma-separated list. The supplied value can be a provisioner by name or by type.</span></li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant resume --no-provision</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The status command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">status</kbd> command will return the status of a Vagrant machine. It will return information such as <kbd class="calibre12">stopped</kbd> or <kbd class="calibre12">running</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is only one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd><span class="calibre6">,</span> which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant status --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The suspend command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">suspend</kbd> command is similar to the <kbd class="calibre12">vagrant halt</kbd> command, but instead of completely stopping and shutting down the machine, it will save the state this uses extra disk space on your guest machine, but when you start the machine back up again, it will start quickly and from that exact point. There will be no lengthy boot-up process as if you were starting it from cold.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is only one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd><span class="calibre6">,</span> which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant suspend --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The up command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">up</kbd> command will start up a Vagrant environment. During the start process, it will also provision the machine, similarly to the <kbd class="calibre12">vagrant provision</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are seven flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--provision</kbd>/<kbd class="calibre12">--no-provision</kbd>: Enables or disables provisioning when the Vagrant machine is starting up.</li>
<li class="calibre11"><kbd class="calibre12">--provision-with [INSERT VALUE]</kbd>: Only uses certain provisioners specified in the first parameter. To use multiple, you can use a comma-separated list. The supplied value can be a provisioner by name or by type.</li>
<li class="calibre11"><kbd class="calibre12">--destroy-on-error</kbd>/<kbd class="calibre12">--no-destroy-on-error</kbd>: Destroys a machine if there is a fatal error. This is the default behavior unless you use the <kbd class="calibre12">--no-destroy-on-error</kbd> flag.</li>
</ul>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--parallel</kbd>/<kbd class="calibre12">--no-parallel</kbd>: Enables or disables parallelism only if the provider supports it. We are using VirtualBox as the provider in this book, and at the time of writing it does not support parallel execution. If you run the command, nothing will happen.</li>
<li class="calibre11"><kbd class="calibre12">--provider [INSERT VALUE]</kbd>: Uses a provider supplied as the first parameter.</li>
<li class="calibre11"><kbd class="calibre12">--install-provider</kbd>/<kbd class="calibre12">--no-install-provider</kbd>: Attempts to install the provider if possible and it isn't installed.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant up --no-parallel</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The validate command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">validate</kbd> command will validate a Vagrantfile and return any errors. It checks for issues within the Vagrantfile, such as incorrect syntax.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is only one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd><span class="calibre6">,</span> which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant validate --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Application-specific Vagrant commands and sub-commands</h1>
                
            
            <article>
                
<p class="calibre2">Application-specific Vagrant commands and sub-commands that focus on an external application or piece of software not directly related to Vagrant or VirtualBox. In this section, we'll cover the Docker, RDP, RSync, SSH, and PowerShell commands and sub-commands.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The docker-exec command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">docker-exec</kbd> command is used to run commands directly into a running <kbd class="calibre12">docker</kbd> container. This is done when using Docker as Vagrant's provider.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options / flags</h1>
                
            
            <article>
                
<p class="calibre2">There are <span class="calibre6">eight</span> flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--no-detach</kbd>/<kbd class="calibre12">--detach</kbd>: Enables or disables the command running in the background.</li>
<li class="calibre11"><kbd class="calibre12">-i</kbd>/<kbd class="calibre12">--interactive</kbd>: Keeps the standard input (STDIN) open even if not attached.</li>
<li class="calibre11"><kbd class="calibre12">--no-interactive</kbd><span>: Doesn't keep the standard input (STDIN) open even if not attached.</span></li>
<li class="calibre11"><kbd class="calibre12">-t</kbd>/<kbd class="calibre12">--tty</kbd>: Enables a pseudo-tty, called a pty.</li>
<li class="calibre11"><kbd class="calibre12">--no-tty</kbd><span>: Disables</span> <span>a pseudo-tty, called a pty.</span></li>
<li class="calibre11"><kbd class="calibre12">-u [INSERT VALUE]</kbd>/<kbd class="calibre12">--user [INSERT VALUE]</kbd>: Sends a user or UID as the first parameter with the command.</li>
<li class="calibre11"><kbd class="calibre12">--prefix</kbd>/<kbd class="calibre12">--no-prefix</kbd><span>: Enables or disables a prefix output with the machine name. This can be useful for differentiating between machines/containers.</span></li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant docker-exec --no-tty</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The docker-logs command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">docker-logs</kbd> command will return the logs from a running container. This is done when using Docker as Vagrant's provider.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are <span class="calibre6">three</span> flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--no-follow</kbd>/<kbd class="calibre12">--follow</kbd>: Enables or disables streaming Docker log data into the output.</li>
<li class="calibre11"><kbd class="calibre12">--no-prefix</kbd>/<kbd class="calibre12">--prefix</kbd>: Enables or disables a prefix output with the machine name. This can be useful for differentiating between machines/containers.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant docker-logs --no-follow</kbd> command.</p>
<p class="calibre2"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The docker-run command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">docker-run</kbd> command is very similar to the vagrant <kbd class="calibre12">docker-exec</kbd> command in that it allows you to run a command on a Docker container. It has fewer options and less configurability compared to the <kbd class="calibre12">docker-exec</kbd> command. Again, this command is used when using Docker as Vagrant's provider.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are six flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--no-detach</kbd>/<kbd class="calibre12">--detach</kbd>: Enables or disables the command to run in the background</li>
<li class="calibre11"><kbd class="calibre12">-t</kbd>/<kbd class="calibre12">--tty</kbd>: Enables a <kbd class="calibre12">pseudo-tty</kbd>, called a <kbd class="calibre12">pty</kbd>.</li>
<li class="calibre11"><kbd class="calibre12">--no-tty</kbd>: Disables <span>a <kbd class="calibre12">pseudo-tty</kbd>, called a <kbd class="calibre12">pty</kbd></span></li>
<li class="calibre11"><kbd class="calibre12">-r</kbd>/<kbd class="calibre12">--rm</kbd>: Removes the container after execution</li>
<li class="calibre11"><kbd class="calibre12">--no-rm</kbd>: Doesn't remove the container after execution</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant docker-run --no-detach</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The rdp command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">rdp</kbd> command is used to create a client for a remote desktop with the Vagrant environment. This can only be used with Vagrant environments that support the remote-desktop protocol.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd><span class="calibre6">,</span> which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant rdp --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The rsync command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">rsync</kbd> command will force a sync between any folders that have been configured to use RSync as the sync option, to the remote machine. A sync will often only happen when you manually start up or reload a Vagrant environment.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There is one flag for this command, <kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd><span class="calibre6">,</span> which will print the help screen for this command.</p>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant rsync --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The rsync-auto command</h1>
                
            
            <article>
                
<p class="calibre2">How to run <kbd class="calibre12">vagrant rsync-auto</kbd>: The <kbd class="calibre12">rsync-auto</kbd> command is similar to the <kbd class="calibre12">vagrant rsync</kbd> command in that is forces a sync between any configured RSync folders, but it will now listen to all configured directories for any changes to files and RSync them automatically.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are three flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--poll</kbd>: Forces polling of the filesystem. This option does not have great performance and can be slow.</li>
<li class="calibre11"><kbd class="calibre12">--no-poll</kbd>: Disables polling of the filesystem.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant rsync-auto --no-poll</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The ssh command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">ssh</kbd> command will connect you to a remote Vagrant machine using the SSH protocol/connection. This command gives you access to the machine's shell, which allows you to run commands directly on the machine.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are five flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">-c [INSERT VALUE]</kbd>/<kbd class="calibre12">--command [INSERT VALUE]</kbd>: Runs a command directly via SSH using the first parameter supplied.</li>
<li class="calibre11"><kbd class="calibre12">-p</kbd>/<kbd class="calibre12">--plain</kbd>: Connects in plain mode, leaving you to choose the authentication.</li>
<li class="calibre11"><kbd class="calibre12">-t</kbd>/<kbd class="calibre12">--tty</kbd>: Enables <kbd class="calibre12">tty</kbd> when you run an SSH command. This is the default value.</li>
</ul>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--no-tty</kbd>: Disables <kbd class="calibre12">tty</kbd> when you run an SSH command.</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command.</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant ssh --plain</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The ssh-config command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">ssh-config</kbd> command will generate a configuration that can be used in an SSH configuration file, which can then be used to SSH into the Vagrant machine.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options/flags</h1>
                
            
            <article>
                
<p class="calibre2">There are two flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--host [INSERT VALUE]</kbd>: Names the host used for the config when the first parameter is supplied</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command</li>
</ul>
<p class="calibre2">An example would be the <kbd class="calibre12">vagrant ssh-config --host testname</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The powershell command</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">powershell</kbd> command will open a PowerShell connection to a Vagrant machine. The <kbd class="calibre12">powershell</kbd> command will only work with guest machines and Vagrant machines that support it. For example, when trying to run this command on a guest machine, such a Mac, the following error will be returned:</p>
<pre class="calibre17"><strong class="calibre1">Your host does not support PowerShell. A remote PowerShell connection can only be made from a windows host.</strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Options /flags</h1>
                
            
            <article>
                
<p class="calibre2">There are two flags for this command:</p>
<ul class="calibre10">
<li class="calibre11"><kbd class="calibre12">--c [INSERT VALUE]</kbd> /<kbd class="calibre12">--command [INSERT VALUE]</kbd>: Runs a PowerShell command supplied as the first parameter</li>
<li class="calibre11"><kbd class="calibre12">-h</kbd>/<kbd class="calibre12">--help</kbd>: Prints the help screen for this command</li>
</ul>
<p class="calibre2">An example is the <kbd class="calibre12">vagrant powershell --help</kbd> command.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">A typical Vagrant workflow using commands</h1>
                
            
            <article>
                
<p class="calibre2">In this section, you will see how a few Vagrant commands and sub-commands can create a basic workflow:</p>
<ol class="calibre13">
<li value="1" class="calibre11">Make sure you are in a new empty directory (this isn't necessary but helps keep the project separate from your other files).</li>
<li value="2" class="calibre11">Run <kbd class="calibre12">vagrant init ubuntu/xenial64 https://vagrantcloud.com/ubunutu/xenial64.box</kbd>. This will create a default Vagrantfile, but the box will be set as Ubuntu 16.04.4 64-bit version. The first parameter is the official box name and the second is the download URL for it.</li>
<li value="3" class="calibre11">Run the <kbd class="calibre12">vagrant validate</kbd> command to make sure the Vagrantfile is error-free and ready to go. There should not be any errors here as we are just using the basic default Vagrantfile. You should see the <kbd class="calibre12">Vagrantfile validated successfully</kbd> message returned.</li>
<li value="4" class="calibre11">Start up the Vagrant machine. To do this, run the <kbd class="calibre12">vagrant up</kbd> command. If you do not have that Ubuntu box installed, Vagrant will download it during the provisioning process. It may take some time depending on your internet speed.</li>
<li value="5" class="calibre11">During the boot process, you will see many things happen. Vagrant will configure network connections, import the box, configure and start SSH services, forward any ports between your machine and the guest Vagrant machine, and mount any shared folders.</li>
<li value="6" class="calibre11">When the box is finished booting and Vagrant has finished configuring, you will be able to log in via SSH and run commands directly in the Vagrant environment. To do this, run the <kbd class="calibre12">vagrant ssh</kbd> command.</li>
<li value="7" class="calibre11">After a few seconds, you should see the Ubuntu Terminal and the message of the day. The first line should say something similar to <kbd class="calibre12">Welcome to Ubuntu 16.04.04 LTS</kbd>. You can now run commands inside the Vagrant environment such as installing Ubuntu packages.</li>
<li value="8" class="calibre11">Exit out of here and stop the Vagrant machine. Run the <kbd class="calibre12">exit</kbd> command inside the Ubuntu Terminal.</li>
<li value="9" class="calibre11">You can check on the status of the Vagrant environment by running the <kbd class="calibre12">vagrant status</kbd> command. This will return a list of Vagrant machines on your system. You should see your machine still running, the name will likely be <kbd class="calibre12">Default</kbd> and the status will be <kbd class="calibre12">running (virtualbox)</kbd>, where VirtualBox is the provider we have used to power the Vagrant machine.</li>
</ol>
<ol start="10" class="calibre13">
<li value="10" class="calibre11">Let's save a snapshot of the environment's current state. We can run the <kbd class="calibre12">vagrant snapshot save default first_snapshot</kbd> command, which tells Vagrant to save a snapshot using the machine with the name of default and it to call the snapshot <kbd class="calibre12">first_snapshot</kbd>.</li>
<li value="11" class="calibre11">To confirm the snapshot has been saved, run the <kbd class="calibre12">vagrant snapshot list</kbd> command, which should return <kbd class="calibre12">first_snapshot</kbd>. The command will only return one snapshot at first as that is all we have saved, but eventually you will see a list as you save more. You can then use a snapshot to restore the environment to that save.</li>
<li value="12" class="calibre11">Stop the Vagrant machine by running the <kbd class="calibre12">vagrant suspend</kbd> command. This will take a few minutes.</li>
</ol>
<p class="calibre2">Congratulations! You have successfully created a Vagrant machine, installed Ubuntu, used SSH, saved a snapshot of the Vagrant machine, and suspended it.</p>
<p class="calibre2">This is a fairly simple workflow as we have not done any work on the machine or installed any additional features. In later chapters, we will look at how to customize the Vagrantfile and change the provision process. We will also look at provisioning a Vagrant machine using configuration-management tools, such as Chef and Ansible.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Troubleshooting</h1>
                
            
            <article>
                
<p class="calibre2">With such a large selection of Vagrant commands, sub-commands, parameters, and flags, it is very easy to enter the command and get an error message.</p>
<p class="calibre2">Vagrant is very good at returning an error if you enter the wrong command. There can be a few reasons a command might return an error:</p>
<ul class="calibre10">
<li class="calibre11">You are trying to run a command when no Vagrant machines are running</li>
<li class="calibre11">You are trying to run a command against a Vagrant machine with a non-existent or incorrect name/ID, or one that has been deleted</li>
<li class="calibre11">There is a typo in your command</li>
<li class="calibre11">You have the parameters in the wrong order</li>
<li class="calibre11">You have not specified any parameters when they are required</li>
<li class="calibre11">You have the flags in the wrong order</li>
<li class="calibre11">You have not specified any flags when they are required</li>
</ul>
<ul class="calibre10">
<li class="calibre11">You are running a provider-specific command when you are not actually using that provider</li>
<li class="calibre11">You are running an OS-specific command when you are not actually using that OS</li>
</ul>
<p class="calibre2">Here are a few troubleshooting tips:</p>
<ul class="calibre10">
<li class="calibre11">Read the error message slowly to see what you may have missed.</li>
<li class="calibre11">Run the <kbd class="calibre12">vagrant [INSERT VALUE] --help</kbd> command where <kbd class="calibre12">[INSERT VALUE]</kbd> is the command you are trying to run. This will give you the syntax, order, parameters, and flags for that command.</li>
<li class="calibre11">Make sure you haven't got any typos in your command string.</li>
<li class="calibre11">It can also be worth checking the Vagrantfile in case that is causing any issues or interfering in some way. You can run the <kbd class="calibre12">vagrant validate</kbd> command to make sure it's OK.</li>
<li class="calibre11">You can always visit the official Vagrant website to make sure that the version of Vagrant you have has the command available/supports the command that you are trying to run.</li>
<li class="calibre11">If you are completely stuck and cannot troubleshoot the issue, searching for the specific error message can be incredibly useful. You will likely come across someone who has the same problem, normally on a website such as Stack Overflow or the GitHub issues section of the Vagrant project.</li>
<li class="calibre11">In the most extreme cases, you may need to uninstall Vagrant (and sometimes VirtualBox) and then restart your machine. You will then need to reinstall Vagrant (and possibly VirtualBox). A fresh install can sometimes be last option but the right answer!</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Summary</h1>
                
            
            <article>
                
<p class="calibre2">In this chapter, we covered Vagrant's commands and sub-commands. You should now have a good understanding as to what each command does and in what scenarios to use it. Feel free to flick back and use this chapter as a reference.</p>
<p class="calibre2">In <a target="_blank" href="part0135.html#40NRU0-d86fec2f29de42f086efd11bc5538d9c" class="calibre9">Chapter 4</a>, <em class="calibre16">Discovering Vagrant Boxes - Vagrant Cloud</em>, we will learn about Vagrant boxes and the Vagrant Cloud. You will learn how to install a Vagrant box, manage it, create your own Vagrant box, and search for other community- and company-created boxes on the Vagrant Cloud platform.</p>


            </article>

            
        </section>
    </body></html>