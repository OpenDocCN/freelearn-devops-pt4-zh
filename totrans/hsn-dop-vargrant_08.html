<html><head></head><body>
        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Exploring Vagrant Plugins and Syncing Files</h1>
                
            
            <article>
                
<p class="calibre2">In this chapter, we will cover powerful, additional functionality in Vagrant. We will learn about Vagrant plugins and syncing files between the host machine and guest machine. By the end of this chapter, you will have a good understanding of the following:</p>
<ul class="calibre10">
<li class="calibre11">Understanding Vagrant plugins</li>
<li class="calibre11">Managing Vagrant plugins</li>
<li class="calibre11">Vagrant plugin commands and subcommands</li>
<li class="calibre11">Finding, installing, and using a Vagrant plugin</li>
<li class="calibre11">Vagrant file syncing</li>
<li class="calibre11">Syncing files <span>–</span> shared folders, Rsync, and NFS</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Understanding Vagrant plugins</h1>
                
            
            <article>
                
<p class="calibre2">Vagrant provides many options and features, but when you require something that isn't available, you can extend this functionality in the form of a plugin. Vagrant provides a powerful and robust internal API that is easy to use and flexible to develop with. Vagrant actually uses its own API for many core features.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The anatomy of a Vagrant plugin</h1>
                
            
            <article>
                
<p class="calibre2">There are multiple parts of a Vagrant plugin. Some parts are for development and others are for the general use of the plugin. We'll focus on two core elements: <strong class="calibre4">gem</strong> and <strong class="calibre4">bundler</strong>.</p>
<p class="calibre2"/>
<p class="calibre2"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Gem</h1>
                
            
            <article>
                
<p class="calibre2">A gem is a specific file written in Ruby that uses the <kbd class="calibre12">.gem</kbd> file extension. A gem is made up of three parts: the code that includes the logic, tests, and utilities; documentation; and a gemspec that includes information about the author and other metadata. The gem file is the core part of the Vagrant plugin and is the code that is run when you use the plugin in your Vagrant machine.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">bundler</h1>
                
            
            <article>
                
<p class="calibre2">bundler is an application that Vagrant uses and interfaces with to manage the plugin and plugin dependencies. It is often used in Ruby projects to manage gems and gem versioning. You will often see bundler's output in the console when an installation of a vagrant plugin fails. Because Vagrant plugins are written in Ruby and saved as a gem file, using bundler is a great choice.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Managing Vagrant plugins</h1>
                
            
            <article>
                
<p class="calibre2">In this section, we will cover general plugin management, including installation and uninstallation. The most useful command when managing a Vagrant plugin is the <kbd class="calibre12">list</kbd> command. Run the following command to view what plugins you have installed on your system:</p>
<pre class="calibre17"><strong class="calibre1">vagrant plugin list</strong></pre>
<p class="calibre2">There is a chance that you do not have any plugins installed and you will see a <kbd class="calibre12">No plugins installed</kbd> message. If you do have a plugin installed, then you will see a list similar to the following:</p>
<p class="cdpaligncenter1"><img class="alignnone16" src="../images/00076.jpeg"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Vagrant plugin installation methods</h1>
                
            
            <article>
                
<p class="calibre2">To start using a plugin with Vagrant, you must first install it on your system. There are currently two ways to install a plugin: you can use a local file or a gem source. Let's explore both options.</p>
<p class="calibre2"/>
<p class="calibre2"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Installing a Vagrant plugin from a local file</h1>
                
            
            <article>
                
<p class="calibre2">Installing a plugin from a local source is fairly quick and easy. You may have a local file because you have developed the plugin yourself or have been given this plugin code privately by a friend or from your company.</p>
<p class="calibre2">The local file will use the <kbd class="calibre12">.gem</kbd> extension. To install the plugin, you must know the location relative to the folder that you want it to be installed/used in. I'm going to install the plugin, which is called <kbd class="calibre12">testplugin.gem</kbd> and can be found in my <kbd class="calibre12">test-plugin</kbd> folder within my current Vagrant project directory. Here is an example of the command:</p>
<pre class="calibre17"><strong class="calibre1">vagrant plugin install /test-plugin/testplugin.gem</strong></pre>
<p class="calibre2">Vagrant and the bundler will now attempt to locate and install the plugin. If it cannot be found, you will receive the following error message:</p>
<p class="cdpaligncenter1"><img class="alignnone17" src="../images/00077.gif"/></p>
<p class="calibre2">If there is a problem with the plugin, such as a syntax error in the gem file, you will see a message similar to this:</p>
<p class="cdpaligncenter1"><img class="alignnone18" src="../images/00078.jpeg"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Installing a Vagrant plugin from a known gem source</h1>
                
            
            <article>
                
<p class="calibre2">The second way to install a plugin is from a known gem source. A known gem source is a remote repository that the bundler system will attempt to locate and install a gem from. The most popular gem source is RubyGems, which is a ruby gem-hosting service.</p>
<p class="calibre2"/>
<p class="calibre2"/>
<p class="calibre2">Let's install a new plugin via this method. Here is an example command to run:</p>
<pre class="calibre17"><strong class="calibre1">vagrant plugin install vagrant-hostsupdater</strong></pre>
<p class="calibre2">You will learn more about installing plugins and managing plugins in the coming sections.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Vagrant plugin commands and subcommands</h1>
                
            
            <article>
                
<p class="calibre2">The <kbd class="calibre12">plugin</kbd> command within Vagrant offers a number of commands and subcommands. We have covered these in <a target="_blank" href="part0183.html#5EGMU0-d86fec2f29de42f086efd11bc5538d9c" class="calibre9">Chapter 7</a>, <span class="calibre6"><em class="calibre16">Multi-Machine</em>, </span>but we'll use this as a basic reference and reminder.</p>
<p class="calibre2">You can view a list of plugin commands by running the <kbd class="calibre12">vagrant plugin help</kbd> command. Let's dive a little deeper into each available plugin subcommand:</p>
<ul class="calibre10">
<li class="calibre11">To remove all user-installed plugins and plugin data, run the <kbd class="calibre12">vagrant plugin expunge</kbd> command.</li>
<li class="calibre11">To install a plugin, run the <kbd class="calibre12">vagrant plugin install</kbd> command. Additional parameters are required and can be seen by running the <kbd class="calibre12">vagrant plugin install -h</kbd> command.</li>
<li class="calibre11">To install a license for a  proprietary vagrant plugin, run the <kbd class="calibre12">vagrant plugin license</kbd> command. Additional parameters are required and can be seen by running the <kbd class="calibre12">vagrant plugin license -h</kbd> command.</li>
<li class="calibre11">To view a list of vagrant plugins installed, run the <kbd class="calibre12">vagrant plugin list</kbd> command.</li>
<li class="calibre11">To try to repair a broken plugin/issue during installation, run the <kbd class="calibre12">vagrant plugin repair</kbd> command.</li>
<li class="calibre11">To uninstall a vagrant plugin, run the <kbd class="calibre12">vagrant plugin uninstall</kbd> command. Additional parameters are required and can be seen by running the <kbd class="calibre12">vagrant plugin uninstall -h</kbd> command.</li>
<li class="calibre11">To update a vagrant plugin, run the <kbd class="calibre12">vagrant plugin update</kbd> command. Additional parameters are required and can be seen by running the <kbd class="calibre12">vagrant plugin update -h</kbd> command.</li>
</ul>
<p class="calibre2">In further sections, we will use these commands in more real-world scenarios and learn how to interact with vagrant plugins.</p>
<p class="calibre2"/>
<p class="calibre2"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Finding, installing, and using a Vagrant plugin</h1>
                
            
            <article>
                
<p class="calibre2">In this section, we will learn how to find, instal, and use a Vagrant plugin. This will give you a good understanding of the Vagrant plugin ecosystem and some tips to find a good plugin.</p>
<p class="calibre2">There is no official repository or website for listing Vagrant plugins (such as the Vagrant cloud for Vagrant boxes), but there are a few websites you can use to help you find that perfect plugin:</p>
<ul class="calibre10">
<li class="calibre11">RubyGems (<a href="https://rubygems.org/" class="calibre9">https://rubygems.org/</a>)</li>
<li class="calibre11">GitHub (<a href="https://github.com/" class="calibre9">https://github.com/</a>)</li>
<li class="calibre11">Search engines</li>
<li class="calibre11">Community-updated GitHub that lists popular plugins (<a href="https://github.com/hashicorp/vagrant/wiki/Available-Vagrant-Plugins" class="calibre9">https://github.com/hashicorp/vagrant/wiki/Available-Vagrant-Plugins</a>)</li>
</ul>
<p class="calibre2">RubyGems and GitHub are both code-hosting-based websites and offer powerful search facilities. I've found Google to be very useful when searching for plugins. Try using different search terms to find a plugin that matches your requirements. An example would be <kbd class="calibre12">vagrant plugin dns</kbd> or <kbd class="calibre12">vagrant dns plugins</kbd> if I were looking for a plugin to manage or interact with DNS in Vagrant.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Installing a Vagrant plugin</h1>
                
            
            <article>
                
<p class="calibre2">Let's install a plugin from the RubyGems website. I've searched for <kbd class="calibre12">vagrant</kbd> and found one called <span class="calibre6">vagrant-hostsupdater</span>, which is currently version <kbd class="calibre12">1.1.1.160</kbd> and has just over 500,000 downloads. Here is a screenshot of the plugin in the RubyGems search results:</p>
<p class="cdpaligncenter1"><img class="alignnone19" src="../images/00079.jpeg"/></p>
<p class="calibre2">This plugin will attempt to edit your <kbd class="calibre12">/etc/hosts</kbd> file by adding and removing hosts when Vagrant machines are created and destroyed, respectively. This means that you can access the Vagrant machine by a domain name such as <kbd class="calibre12">machine.dev</kbd> instead of <kbd class="calibre12">192.168.10.10</kbd>.</p>
<p class="calibre2">We can install this plugin by running the following command:</p>
<pre class="calibre17">vagrant plugin install vagrant-hostsupdater</pre>
<p class="calibre2"/>
<p class="calibre2"/>
<p class="calibre2">You should see an output similar to this:</p>
<p class="cdpaligncenter1"><img class="alignnone20" src="../images/00080.jpeg"/></p>
<p class="calibre2">We can verify that this has been installed by running the <kbd class="calibre12">vagrant plugin list</kbd> command as shown here:</p>
<p class="cdpaligncenter1"><img class="alignnone16" src="../images/00081.jpeg"/></p>
<p class="calibre2">Let's now use and test our Vagrant plugin. This specific plugin is configured in the Vagrantfile, so let's create a basic one to get started:</p>
<ol class="calibre13">
<li value="1" class="calibre11">Run the <kbd class="calibre12">vagrant init -m</kbd> command.</li>
<li value="2" class="calibre11">Edit your Vagrantfile to include the following code:</li>
</ol>
<pre class="calibre59">Vagrant.configure("2") do |config|<br class="title-page-name"/>  config.vm.box = "ubuntu/xenial64"<br class="title-page-name"/>  config.vm.network :private_network, ip: "192.168.100.23"<br class="title-page-name"/>  config.vm.hostname = "vagrant.dev"<br class="title-page-name"/>  config.vm.provision "shell", inline: &lt;&lt;-SHELL<br class="title-page-name"/>    sudo apt-get update<br class="title-page-name"/>    sudo apt-get install -y nginx<br class="title-page-name"/>  SHELL<br class="title-page-name"/>end</pre>
<p class="calibre56">We create a basic Vagrant machine to test our plugin. The main lines we are concerned with are the <kbd class="calibre12">config.vm.network</kbd> and <kbd class="calibre12">config.vm.hostname</kbd> lines as they are required by our plugin.</p>
<p class="calibre56">We have created a Ubuntu machine that uses a private static IP address, the hostname of <kbd class="calibre12">vagrant.dev</kbd>, and a basic shell provisioner to update the system and then install the nginx web server. This will allow us to quickly and easily see that everything has worked as nginx has a default page available on port 80 once it's been installed and is running.</p>
<ol start="3" class="calibre13">
<li value="3" class="calibre11">Run the <kbd class="calibre12">vagrant up --provision</kbd> command to get the box up and running. </li>
</ol>
<p class="calibre2"/>
<p class="calibre56">You should now see a message from the <kbd class="calibre12">[vagrant-hostsupdater]</kbd> plugin, which will attempt to enter the machine's IP address and host name into the <kbd class="calibre12">/etc/hosts</kbd> file. <span class="calibre6">The hosts file is an important system file and requires root permission to edit</span>. You will be asked for the root password for your host machine:</p>
<p class="cdpaligncenter1"><img class="alignnone21" src="../images/00082.jpeg"/></p>
<ol start="4" class="calibre13">
<li value="4" class="calibre11">To test that the plugin works, we can check the <kbd class="calibre12">/etc/hosts</kbd> file before we start up the vagrant machine. Here is a basic example. If you have edited yours before, you may see more entries:</li>
</ol>
<p class="cdpaligncenter1"><img class="alignnone22" src="../images/00083.jpeg"/></p>
<ol start="5" class="calibre13">
<li value="5" class="calibre11">Once you have entered your root password and the plugin successfully writes to the <kbd class="calibre12">/etc/hosts</kbd> file, you should see this message as part of the <kbd class="calibre12">vagrant up</kbd> process:</li>
</ol>
<p class="cdpaligncenter1"><img class="alignnone23" src="../images/00084.jpeg"/></p>
<p class="calibre2"/>
<ol start="6" class="calibre13">
<li value="6" class="calibre11">Once the machine is up and running, check out the <kbd class="calibre12">/etc/hosts</kbd> file again to see whether a new entry has been added. All new entries are added at the bottom of the file. In the following screenshot,  we can see that our entry is there, the IP address is <kbd class="calibre12">192.168.100.23</kbd> and the hostname is <kbd class="calibre12">vagrant.dev</kbd>. The plugin has also added in a comment using the <kbd class="calibre12">#</kbd> character:</li>
</ol>
<p class="cdpaligncenter1"><img class="alignnone24" src="../images/00085.jpeg"/></p>
<ol start="7" class="calibre13">
<li value="7" class="calibre11">Great! Let's now test the hostname and see what we get. While we are in the terminal, we can run the <kbd class="calibre12">curl vagrant.dev</kbd> command, which will attempt to load that URL and return the contents. We can see that the default nginx page has been returned:</li>
</ol>
<p class="cdpaligncenter1"><img class="alignnone25" src="../images/00086.jpeg"/></p>
<p class="calibre2"/>
<ol start="8" class="calibre13">
<li value="8" class="calibre11">Ping the hostname to see whether there is a live connection, packet loss, and what sort of connection times we get. As the machine is local, the speed will be very quick (less than 1 ms) and we will see the IP address returned, which in this case is <kbd class="calibre12">192.168.100.23</kbd>:</li>
</ol>
<p class="cdpaligncenter1"><img class="alignnone26" src="../images/00087.jpeg"/></p>
<ol start="9" class="calibre13">
<li value="9" class="calibre11"><kbd class="calibre12">vagrant halt</kbd> the machine. You'll see in the terminal that the plugin will now kick into action and remove that entry from the <kbd class="calibre12">/etc/hosts</kbd> file. You'll need to enter the root password again:</li>
</ol>
<p class="cdpaligncenter1"><img class="alignnone27" src="../images/00088.jpeg"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Uninstalling a Vagrant plugin</h1>
                
            
            <article>
                
<p class="calibre2">Let's now uninstall our <kbd class="calibre12">vagrant-hostsupdater</kbd> plugin. We can do this by running the <kbd class="calibre12">vagrant plugin uninstall vagrant-hostsupdater</kbd> command. If you are unsure what the plugin is called, you can run the <kbd class="calibre12">vagrant plugin list</kbd> command to view a list of available plugins on your system. The plugin should now be removed, you should see the <kbd class="calibre12">Successfully uninstalled</kbd> message:</p>
<p class="cdpaligncenter1"><img class="alignnone28" src="../images/00089.jpeg"/></p>
<p class="calibre2"/>
<p class="calibre2">We can also verify the plugin has been removed by running the <kbd class="calibre12">vagrant plugin list</kbd> command. We should see the <kbd class="calibre12">No plugins installed</kbd> message (as long as you do not have any other plugins installed on your system):</p>
<p class="cdpaligncenter1"><img class="alignnone29" src="../images/00090.jpeg"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Vagrant file-syncing</h1>
                
            
            <article>
                
<p class="calibre2">Syncing files is the way of sharing files between your host machine and the guest machine running within Vagrant. It allows you to edit files on your host machine and see the changes in your guest machine or vice versa.</p>
<p class="calibre2">Vagrant calls this <strong class="calibre4">synced folders</strong> and offers five ways to do this:</p>
<ul class="calibre10">
<li class="calibre11">Basic syncing</li>
<li class="calibre11">SMB</li>
<li class="calibre11">VirtualBox</li>
<li class="calibre11">RSync</li>
<li class="calibre11">NFS</li>
</ul>
<p class="calibre2">In this section, we will cover basic usage, RSync, and NFS.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Setting up synced folders</h1>
                
            
            <article>
                
<p class="calibre2">To get started, let's create a Vagrantfile by running the <kbd class="calibre12">vagrant init -m</kbd> command.  We'll start with basic usage-syncing, then look at RSync, and then finish with NFS.</p>
<p class="calibre2">We'll create a file on our host system, make some changes to the contents, and then view that file within our Vagrant machine. We'll then edit the file on the Vagrant machine and view its changes on the host machine. This will prove that the file can be edited both ways via the host and the Vagrant machine.</p>
<p class="calibre2">We'll need to create and edit the <kbd class="calibre12">config.vm.synced_folder</kbd> setting within our Vagrantfile.</p>
<p class="calibre2"/>
<p class="calibre2"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Synced folders with basic usage</h1>
                
            
            <article>
                
<p class="calibre2">The basic usage of synced folders in Vagrant is easy to get set up. We can get started with just a basic Vagrantfile:</p>
<pre class="calibre17">Vagrant.configure("2") do |config|<br class="title-page-name"/>    config.vm.box = "ubuntu/xenial64"<br class="title-page-name"/>    config.vm.synced_folder ".", "/home/vagrant/files"<br class="title-page-name"/>end</pre>
<p class="calibre2">Let's focus on line 3. The <kbd class="calibre12">synced_folder</kbd> config takes two parameters. The first parameter is the folder on your host machine and the second parameter is the folder within the Vagrant machine. </p>
<p class="calibre2">In this example, we are setting the first parameter to <kbd class="calibre12">"."</kbd>, which is the immediate directory that the Vagrantfile is in on our host machine. In the second parameter, we are setting the folder to <kbd class="calibre12">"/home/vagrant/files"</kbd> on the Vagrant machine.</p>
<div class="packt_infobox">The default folder on the Vagrant machine is <kbd class="calibre62">"/home/vagrant"</kbd>, but if we try and set this as the second parameter, we will be unable to access the Vagrant machine via SSH as an error will occur when that folder is mounted on <kbd class="calibre62">"/home/vagrant/.ssh/authorized_keys"</kbd> as the SSH keys cannot be uploaded and checked.</div>
<p class="calibre2">Let's now test our new folder-syncing configuration:</p>
<p class="calibre2">Run the <kbd class="calibre12">vagrant up --provision</kbd> command. You should see a similar output from the Vagrant machine:</p>
<p class="cdpaligncenter1"><img class="alignnone30" src="../images/00091.jpeg"/></p>
<p class="calibre2">We can now SSH into the machine to see whether the <kbd class="calibre12">files</kbd> folder has been created (if not already available). You can run the <kbd class="calibre12">ls</kbd> command to list files and folders within your current directory. You should now see the <kbd class="calibre12">files</kbd> folder:</p>
<p class="cdpaligncenter1"><img class="alignnone31" src="../images/00092.jpeg"/></p>
<p class="calibre2"/>
<p class="calibre2"/>
<p class="calibre2">Let's now create a file within the <kbd class="calibre12">files</kbd> folder:</p>
<ol class="calibre13">
<li value="1" class="calibre11">Move into the folder by running the <kbd class="calibre12">cd files</kbd> command</li>
<li value="2" class="calibre11">Create a text file by running the touch <kbd class="calibre12">test-file.txt</kbd> command</li>
</ol>
<ol start="3" class="calibre13">
<li value="3" class="calibre11">Add some content by running the <kbd class="calibre12">echo "Hello from Vagrant!" &gt; test-file.txt</kbd> command</li>
</ol>
<p class="calibre2">We can now exit out of the Vagrant machine by running the <kbd class="calibre12">exit</kbd> command. You can now search for the file within the host machine's directory. You can do this by using the terminal or a text editor. I will be using the Atom text editor.</p>
<p class="calibre2">In the following screenshot, we can see the file that we created in the directory and its contents:</p>
<p class="cdpaligncenter1"><img class="alignnone32" src="../images/00093.jpeg"/></p>
<p class="calibre2">Congratulations! You have successfully configured synced folders and synced a file between your host machine and vagrant machine.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Synced folders with RSync</h1>
                
            
            <article>
                
<p class="calibre2">When using RSync as a <em class="calibre16">synced folder</em> option in Vagrant, it's a slightly more complex setup. RSync can be used when other options for file-syncing are not available, such as the other option we have looked at, basic usage, or in the next section, which is the NFS option.</p>
<p class="calibre2">To start using RSync, our Vagrant file just needs an extra parameter on the <kbd class="calibre12">config.vm.synced_folders</kbd> option:</p>
<pre class="calibre17">config.vm.synced_folder ".", "/home/vagrant/files", type: "rsync"</pre>
<div class="packt_infobox">To use this option, both the host machine and Vagrant machine must have <kbd class="calibre62">rsync</kbd> installed. Vagrant will attempt to install <kbd class="calibre62">rsync</kbd> on the Vagrant machine if possible, if not, it will display an error.</div>
<p class="calibre2">There are additional parameters available to use with the RSync option. Please view the official documentation for the most up-to-date list. These include the ability to exclude certain files.</p>
<p class="calibre2">RSync traditionally does a one-time sync from the host to guest machine unless the <kbd class="calibre12">rsync_auto</kbd> option is set to <kbd class="calibre12">true</kbd> in the Vagrantfile. This is the default value in Vagrant, but can be changed by setting the <kbd class="calibre12">rsync_auto</kbd> option to <kbd class="calibre12">false</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Synced folders with NFS</h1>
                
            
            <article>
                
<p class="calibre2">Using NFS as a solution to syncing folders between the host and Vagrant machine can often offer performance benefits or better suit the environment you need.</p>
<p class="calibre2">Using NFS is very similar to the <kbd class="calibre12">basic usage</kbd> version of synced folders in Vagrant. Our Vagrant file just needs an extra parameter on the <kbd class="calibre12">config.vm.synced_folders</kbd> option:</p>
<pre class="calibre17">config.vm.synced_folder ".", "/home/vagrant/files", type: "nfs"</pre>
<p class="calibre2">We have added the <kbd class="calibre12">type</kbd> option with the value of <kbd class="calibre12">nfs</kbd>. For this to work, the OS within the Vagrant machine must support NFS. </p>
<p class="calibre2">The host machine must also support NFS by running the NFS server daemon, which is the <kbd class="calibre12">nfsd</kbd> package. This comes pre-installed on macOS X, but you may be required to install it if your host machine is running Linux.</p>
<div class="packt_infobox">Vagrant NFS-synced folders do not work on Windows hosts. If you attempt to configure this in the Vagrantfile, Vagrant will just ignore it. If you're using VirtualBox as a provider, you will also need to configure private networking when using NFS. If you are using VMWare, you don't need to worry.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Summary</h1>
                
            
            <article>
                
<p class="calibre2">In this section, we learned about two of Vagrant's main features. We looked at plugins in Vagrant and learned about what they are, how they work, and how to install/uninstall and use them. We also looked at file-syncing within Vagrant to understand how we can sync files between the host system and Vagrant machine using a number of different methods.</p>
<p class="calibre2">In <a target="_blank" href="part0215.html#6D18U0-d86fec2f29de42f086efd11bc5538d9c" class="calibre9">Chapter 9</a>, <em class="calibre16">Shell Scripts - Provisioning</em>, we will start part one of our provisioning series of chapters. We will learn about provisioning within Vagrant and how to provision a Vagrant machine using shell scripting. This will lead us into later chapters that focus on provisioning with configuration-management tools such as Chef.</p>


            </article>

            
        </section>
    </body></html>