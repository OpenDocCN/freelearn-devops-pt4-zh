["```\n.\n├── Makefile\n├── README.md\n├── cache/\n├── chapter03/\n├── ...\n├── chapter14/\n└── utils/\n```", "```\n.\n├── ...\n└── utils/\n    ├── defaults.sh\n    ├── helpers.sh\n    └── vagrant_defaults.rb\n```", "```\n.\n├── ...\n├── chapter03/\n│   ├── Vagrantfile\n│   ├── configs/\n│   └── provision/\n└── ...\n```", "```\n.\n├── ...\n├── chapter03/\n│   ├── Vagrantfile\n│   ├── configs/\n│   │   ├── alertmanager/\n│   │   ├── grafana/\n│   │   ├── node_exporter/\n│   │   └── prometheus/\n│   └── provision/\n│       ├── alertmanager.sh*\n│       ├── grafana.sh*\n│       ├── hosts.sh*\n│       ├── node_exporter.sh*\n│       └── prometheus.sh*\n└── ...\n```", "```\ngit clone https://github.com/PacktPublishing/Hands-On-Infrastructure-Monitoring-with-Prometheus.git\n```", "```\ncd Hands-On-Infrastructure-Monitoring-with-Prometheus/chapter03\n```", "```\nvagrant up\n```", "```\nCurrent machine states:\n\nprometheus running (virtualbox)\ngrafana running (virtualbox)\nalertmanager running (virtualbox)\n\nThis environment represents multiple VMs. The VMs are all listed\nabove with their current state. For more information about a specific\nVM, run `vagrant status NAME`.\n```", "```\nvagrant destroy -f\n```", "```\ngit clone https://github.com/PacktPublishing/Hands-On-Infrastructure-Monitoring-with-Prometheus.git\n```", "```\ncd Hands-On-Infrastructure-Monitoring-with-Prometheus/chapter03\nvagrant up --no-provision\n```", "```\nvagrant ssh prometheus\n```", "```\nsudo -i\n```", "```\ncat <<EOF >/etc/hosts\n127.0.0.1       localhost\n192.168.42.10   prometheus.prom.inet    prometheus\n192.168.42.11   grafana.prom.inet       grafana\n192.168.42.12   alertmanager.prom.inet  alertmanager\n\n# The following lines are desirable for IPv6 capable hosts\n::1     localhost ip6-localhost ip6-loopback\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nEOF\n```", "```\nuseradd --system prometheus\n```", "```\ncd /tmp\ncurl -sLO \"https://github.com/prometheus/prometheus/releases/download/v2.9.2/prometheus-2.9.2.linux-amd64.tar.gz\"\n```", "```\ntar zxvf prometheus-2.9.2.linux-amd64.tar.gz\n```", "```\ninstall -m 0644 -D -t /usr/share/prometheus/consoles prometheus-2.9.2.linux-amd64/consoles/*\n\ninstall -m 0644 -D -t /usr/share/prometheus/console_libraries prometheus-2.9.2.linux-amd64/console_libraries/*\n\ninstall -m 0755 prometheus-2.9.2.linux-amd64/prometheus prometheus-2.9.2.linux-amd64/promtool /usr/bin/\n\ninstall -d -o prometheus -g prometheus /var/lib/prometheus \n\ninstall -m 0644 -D /vagrant/chapter03/configs/prometheus/prometheus.yml /etc/prometheus/prometheus.yml\n\ninstall -m 0644 -D /vagrant/chapter03/configs/prometheus/first_rules.yml /etc/prometheus/first_rules.yml\n```", "```\ninstall -m 0644 /vagrant/chapter03/configs/prometheus/prometheus.service /etc/systemd/system/\n\nsystemctl daemon-reload\n```", "```\nsystemctl enable prometheus\nsystemctl start prometheus\n```", "```\nexit\n\nexit\n```", "```\nvagrant ssh grafana\n```", "```\nsudo -i\n```", "```\ncat <<EOF >/etc/hosts\n127.0.0.1       localhost\n192.168.42.10   prometheus.prom.inet    prometheus\n192.168.42.11   grafana.prom.inet       grafana\n192.168.42.12   alertmanager.prom.inet  alertmanager\n\n# The following lines are desirable for IPv6 capable hosts\n::1     localhost ip6-localhost ip6-loopback\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nEOF\n```", "```\ncd /tmp\ncurl -sLO \"https://dl.grafana.com/oss/release/grafana_6.1.6_amd64.deb\"\n```", "```\nDEBIAN_FRONTEND=noninteractive apt-get install -y libfontconfig\n\ndpkg -i \"grafana_6.1.6_amd64.deb\"\n```", "```\nrsync -ru /vagrant/chapter03/configs/grafana/{dashboards,provisioning} /etc/grafana/\n```", "```\nsystemctl daemon-reload\nsystemctl enable grafana-server\nsystemctl start grafana-server\n```", "```\nexit\n\nexit\n```", "```\nvagrant ssh alertmanager\n```", "```\nsudo -i\n```", "```\ncat <<EOF >/etc/hosts\n127.0.0.1       localhost\n192.168.42.10   prometheus.prom.inet    prometheus\n192.168.42.11   grafana.prom.inet       grafana\n192.168.42.12   alertmanager.prom.inet  alertmanager\n\n# The following lines are desirable for IPv6 capable hosts\n::1     localhost ip6-localhost ip6-loopback\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nEOF\n```", "```\nuseradd --system alertmanager\n```", "```\ncd /tmp\ncurl -sLO \"https://github.com/prometheus/alertmanager/releases/download/v0.17.0/alertmanager-0.17.0.linux-amd64.tar.gz\"\n```", "```\ntar zxvf alertmanager-0.17.0.linux-amd64.tar.gz\n```", "```\ninstall -m 0755 alertmanager-0.17.0.linux-amd64/{alertmanager,amtool} /vagrant/chapter03/configs/alertmanager/alertdump /usr/bin/\n\ninstall -d -o alertmanager -g alertmanager /var/lib/alertmanager\n\ninstall -m 0644 -D /vagrant/chapter03/configs/alertmanager/alertmanager.yml /etc/alertmanager/alertmanager.yml\n```", "```\ninstall -m 0644 /vagrant/chapter03/configs/alertmanager/alertmanager.service /etc/systemd/system/\n\nsystemctl daemon-reload\n```", "```\nsystemctl enable alertmanager\nsystemctl start alertmanager\n```", "```\nexit\n\nexit\n```", "```\nsudo -i\n```", "```\nuseradd --system node_exporter\n```", "```\ncd /tmp\ncurl -sLO \"https://github.com/prometheus/node_exporter/releases/download/v0.17.0/node_exporter-0.17.0.linux-amd64.tar.gz\"\n```", "```\ntar zxvf \"node_exporter-0.17.0.linux-amd64.tar.gz\" -C /usr/bin --strip-components=1 --wildcards */node_exporter\n```", "```\ninstall -m 0644 /vagrant/chapter03/configs/node_exporter/node-exporter.service /etc/systemd/system/\n\nsystemctl daemon-reload\n```", "```\nsystemctl enable node-exporter\nsystemctl start node-exporter\n```", "```\nexit\n\nexit\n```"]