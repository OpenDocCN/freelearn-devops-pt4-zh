- en: Configuring GitLab Using the Web UI
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Web UI 配置 GitLab
- en: After installing GitLab in the previous chapter, you probably have a running
    instance. But how can you manage it? You need to know how to configure the software.
    This chapter will explain how this is achieved for the different kinds of GitLab
    installations that are available.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章安装 GitLab 后，你可能已经有了一个运行中的实例。那么，如何管理它呢？你需要了解如何配置软件。本章将解释如何在不同类型的 GitLab 安装中进行配置。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Configuring GitLab settings at the instance level
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置 GitLab 实例级别的设置
- en: Configuring GitLab settings at the group level
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置 GitLab 组级别的设置
- en: Configuring GitLab settings at the project level
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置 GitLab 项目级别的设置
- en: Technical requirements
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To manage omnibus installs, you need to use a central configuration file called
    `gitlab.rb`. You need to create it yourself or copy an example of one. A template
    of this configuration file is available at [https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template](https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template).
    Please note that it isn't updated after upgrades. We will quote and discuss parts
    of this file in this chapter.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 若要管理 omnibus 安装，你需要使用一个名为 `gitlab.rb` 的中央配置文件。你需要自己创建该文件或复制一个示例配置文件。此配置文件的模板可以在[https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template](https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template)找到。请注意，它在升级后不会自动更新。我们将在本章引用并讨论该文件的部分内容。
- en: To follow along with the instructions in this chapter, please download this
    book's GitHub repository, along with the examples that are available, at [https://github.com/PacktPublishing/Mastering-GitLab-12/tree/master/Chapter03](https://github.com/PacktPublishing/Mastering-GitLab-12/tree/master/Chapter03).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 为了跟随本章的说明，请下载本书的 GitHub 仓库，并获取其中的示例，下载链接：[https://github.com/PacktPublishing/Mastering-GitLab-12/tree/master/Chapter03](https://github.com/PacktPublishing/Mastering-GitLab-12/tree/master/Chapter03)。
- en: Configuring GitLab settings at the instance level
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置 GitLab 实例级别的设置
- en: 'When you log on to GitLab as an administrator, you will notice a tool icon
    in the top right of the menu:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 当你以管理员身份登录 GitLab 时，你会在菜单的右上方看到一个工具图标：
- en: '![](img/2ccf761b-fefa-477e-987b-a5a08950436d.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2ccf761b-fefa-477e-987b-a5a08950436d.png)'
- en: 'When you click on that, the administrator page will load, which you can use
    to access instance-level settings. The base page provides an overview of active
    projects, users, and groups:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 当你点击时，管理员页面将加载，你可以在此访问实例级别的设置。基本页面提供了活动项目、用户和组的概览：
- en: '![](img/7d888b66-8dd0-49fc-b6d2-78a41cfa2bc6.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7d888b66-8dd0-49fc-b6d2-78a41cfa2bc6.png)'
- en: On the left-hand side, there are several global administration options. Let's
    go through them.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在左侧，有几个全局管理选项。我们来逐一了解它们。
- en: Menu options
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 菜单选项
- en: 'The options are grouped, and some items can even be expanded:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 选项是分组的，有些项目甚至可以展开：
- en: '**Dashboard**: Dashboard gives you some insight into the number of projects,
    users, and groups that are in your GitLab instance. You can create new ones from
    this screen. There is also other interesting information in the form of statistics,
    where you can get an overview of active features and installed components. If
    you enabled exposing instance information to GitLab, it will also mention whether
    you should upgrade your instance to a newer version of GitLab.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**仪表盘**：仪表盘可以让你了解 GitLab 实例中的项目、用户和组的数量。你还可以在此界面创建新的项目、用户或组。仪表盘还显示了其他有趣的统计信息，让你概览当前活动的功能和已安装的组件。如果你启用了
    GitLab 实例信息的暴露，它还会提示你是否需要将实例升级到 GitLab 的新版本。'
- en: '**Projects**: In the Projects pane, you can search for projects and create
    new ones. For the search option, there are some filters available.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**项目**：在项目面板中，你可以搜索项目并创建新项目。对于搜索选项，提供了一些可用的过滤器。'
- en: '**Users**: The Users pane offers the same functionality as the Projects pane,
    that is, searching for users with advanced filtering and being able to create
    new users.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户**：用户面板提供与项目面板相同的功能，即可以通过高级筛选搜索用户并创建新用户。'
- en: '**Groups**: The Groups pane is identical to the previous panes in terms of
    its features, but without fancy filters.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**组**：组面板在功能上与之前的面板相同，但没有复杂的过滤器。'
- en: '**Jobs**: The Jobs pane offers you insight into **continuous integration/continuous
    deployment** (**CI/CD**) jobs that are pending, running, or finished.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**作业**：作业面板提供了有关**持续集成/持续部署**（**CI/CD**）作业的信息，这些作业可能是待处理的、正在运行的或已完成的。'
- en: '**Runners**: In this section of the administration page, options and views
    on CI/CD GitLab runners are available.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**运行器**：在此管理页面的这一部分，可以查看有关 CI/CD GitLab 运行器的选项和视图。'
- en: '**Gitaly servers**: By default, there is only one Gitaly server, and it is
    shown here. However, there could be more, depending on your setup.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Gitaly 服务器**：默认情况下，只有一个 Gitaly 服务器，并且会在此显示。然而，根据你的设置，可能会有更多服务器。'
- en: Monitoring
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 监控
- en: 'The monitoring section offers interesting bits of information that are needed
    so that you can administer your GitLab instance:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 监控部分提供了管理 GitLab 实例所需的有趣信息。
- en: '**System information**: CPU, memory, and other metrics.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统信息**：CPU、内存及其他指标。'
- en: '**Background Jobs**: GitLab integrated the Sidekiq statistics gem into the
    application, and it can be viewed here.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**后台作业**：GitLab 将 Sidekiq 统计信息 gem 集成到应用程序中，可以在此查看。'
- en: '**Logs**: In this section, you can view 2,000 lines of information from the
    most important GitLab log files (unicorn, gitlab-shell, Sidekiq, and so on).'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日志**：在此部分，你可以查看来自最重要的 GitLab 日志文件（如 unicorn、gitlab-shell、Sidekiq 等）的 2,000
    行信息。'
- en: '**Health check**: This is a very interesting page for sysadmins. Here, you
    will find endpoints that will give some insight into the health of the running
    GitLab instance. There is also a token present, which you will need to send as
    a parameter if your monitoring software wants to scrape the page.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**健康检查**：这是系统管理员非常感兴趣的页面。在这里，你将找到一些端点，可以提供有关正在运行的 GitLab 实例健康状况的洞察。此处还存在一个令牌，如果你的监控软件希望抓取该页面，它需要将令牌作为参数发送。'
- en: '**Requests Profiles**: This is only interesting to developers or testers. Here,
    you can send a header to GitLab for use in request profiling.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**请求配置文件**：这对于开发人员或测试人员来说很有趣。在这里，你可以向 GitLab 发送请求头，以便进行请求分析。'
- en: '**Audit Log**: If you have an enterprise license, you can find audit events
    here and filter them.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**审计日志**：如果你拥有企业许可证，可以在这里找到审计事件并进行筛选。'
- en: Messages
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 消息
- en: 'Your GitLab instance has a facility where you can send messages to all of your
    users. These broadcasts can come in handy if you want to inform your users about
    system-wide events, such as upgrades and scheduled downtime. The following is
    the Admin page, which you can find in the side menu:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 你的 GitLab 实例具有一个功能，允许你向所有用户发送消息。如果你想通知用户有关系统范围的事件，如升级和计划停机，这些广播会很有用。以下是管理员页面，你可以在侧边菜单中找到：
- en: '![](img/4d90914a-7196-472f-b056-86141f929f6a.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4d90914a-7196-472f-b056-86141f929f6a.png)'
- en: 'After you''ve scheduled a new message, it can be reused later as well:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在你安排了新消息后，它也可以在以后重新使用：
- en: '![](img/4cdaf1a2-47c0-4923-bf66-6f7f7a7369e7.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4cdaf1a2-47c0-4923-bf66-6f7f7a7369e7.png)'
- en: System hooks
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 系统钩子
- en: GitLab can perform HTTP POST requests on the system level and act on several
    events.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: GitLab 可以在系统级别执行 HTTP POST 请求并对多个事件进行处理。
- en: 'A standard event is raised when you''re creating a new project or user. Additionally,
    it can send other types of events as well. Just add a destination URL and (optionally)
    a secret token:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 当你创建新项目或用户时，会触发一个标准事件。此外，它也可以发送其他类型的事件。只需添加目标 URL 和（可选的）密钥令牌：
- en: '![](img/59cee896-832f-4840-b83d-652c5787bb75.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](img/59cee896-832f-4840-b83d-652c5787bb75.png)'
- en: When you have configured your system hook, there is a drop-down list with a
    test to check whether it works by calling the URL.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 当你配置好系统钩子后，页面会有一个下拉列表，可以通过调用 URL 来测试其是否工作。
- en: Plugins
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 插件
- en: On this page, you also have the option to configure installed **plugins**. This
    basically fires a locally installed program instead of calling a URL with parameters.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在此页面上，你还可以配置已安装的**插件**。这基本上是触发本地安装的程序，而不是调用带参数的 URL。
- en: It requires you to place the plugin code in `/opt/gitlab/embedded/service/gitlab-rails/plugins`,
    and it has to be written in a certain way. After installation, the plugin can
    be run as a hook.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 它要求你将插件代码放置在 `/opt/gitlab/embedded/service/gitlab-rails/plugins` 中，并且必须以特定方式编写。安装后，插件可以作为钩子运行。
- en: Applications
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用程序
- en: In this section of the administration page, you have the option to register
    third-party applications in order to use GitLab as an OAuth authorization provider.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在此管理页面的这一部分，你可以注册第三方应用程序，以便使用 GitLab 作为 OAuth 授权提供者。
- en: '**Open Authorization **(**OAuth**) is an open standard for authorization. Users
    can give a program or website access to their private data that''s kept on another
    website without revealing their username and password.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**开放授权**（**OAuth**）是一种开放的授权标准。用户可以允许程序或网站访问他们存储在其他网站上的私人数据，而无需透露用户名和密码。'
- en: To register an application, you need to provide a name, callback URL, and set
    a few options.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 要注册应用，你需要提供一个名称、回调 URL，并设置一些选项。
- en: Trusted means that a token is exchanged based on the already validated resource
    owner's credentials. The user authorization step is subsequently skipped for this
    application when it's used.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 受信任意味着基于已验证的资源拥有者凭证交换令牌。随后，在使用该应用时，用户授权步骤将被跳过。
- en: 'Some other scopes are also defined that allow a given application to perform
    various actions. These are as follows:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一些其他范围被定义，允许特定应用执行各种操作。它们如下：
- en: '**API**: Grants complete read and write access to the API, including all groups
    and projects.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**API**：授予对 API 的完全读写权限，包括所有组和项目。'
- en: '`read_user`: Grants read-only access to the authenticated user''s profile through
    the `/user` API endpoint, which includes username, public email, and full name.
    It also grants access to read-only API endpoints under `/users`.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_user`：授予通过 `/user` API 端点对经过身份验证的用户的个人资料的只读访问权限，其中包括用户名、公共电子邮件和全名。还授予对
    `/users` 下只读 API 端点的访问权限。'
- en: '`sudo`: Grants permission to perform API actions as any user in the system
    when authenticated as an admin user.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sudo`：当以管理员身份进行身份验证时，授予执行 API 操作的权限，可以作为系统中的任何用户执行操作。'
- en: '`read_repository`: Grants read-only access to repositories on private projects
    using Git over HTTP (not using the API).'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_repository`：授予通过 HTTP 使用 Git（而非使用 API）对私有项目中的存储库的只读访问权限。'
- en: '`openid`: Grants permission to authenticate with GitLab using OpenID Connect.
    It also gives read-only access to the user''s profile and group memberships.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openid`：授予使用 OpenID Connect 进行 GitLab 身份验证的权限。它还授予对用户个人资料和组成员身份的只读访问权限。'
- en: You can also revoke registration if you wish to. GitLab uses **doorkeeper-gem**,
    which can be found at [https://github.com/doorkeeper-gem/doorkeeper](https://github.com/doorkeeper-gem/doorkeeper),
    to provide this functionality.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要，你也可以撤销注册。GitLab 使用 **doorkeeper-gem**，可以在 [https://github.com/doorkeeper-gem/doorkeeper](https://github.com/doorkeeper-gem/doorkeeper)
    找到，以提供此功能。
- en: Abuse reports
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 滥用报告
- en: 'There are several places in the GitLab web interface where, as a user, you
    can file and report abuse. You can find buttons to file a report in the following
    sections:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在 GitLab 网页界面的多个地方，作为用户，你可以举报和报告滥用行为。你可以在以下部分找到举报按钮：
- en: Comments
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评论
- en: Issues and merge requests
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题和合并请求
- en: 'The profile page of a user (refer to the following screenshot):'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户的个人资料页面（参见以下截图）：
- en: '![](img/1c6164f0-bbd8-4302-bb42-d0fe3ac50493.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1c6164f0-bbd8-4302-bb42-d0fe3ac50493.png)'
- en: 'When you click the Report abuse button, the following form will appear:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 当你点击举报滥用按钮时，以下表单将出现：
- en: '![](img/33ea7bb0-ff63-4757-b3f3-a38b51b32041.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](img/33ea7bb0-ff63-4757-b3f3-a38b51b32041.png)'
- en: 'If you click on the Send report button, an administrator will be notified,
    and he or she will find the abuse report in the Abuse Reports section of the administration
    pages:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你点击发送报告按钮，管理员将收到通知，他或她将在管理页面的滥用报告部分找到该报告：
- en: '![](img/19541d11-32e8-4c59-a16f-5cbead45818b.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](img/19541d11-32e8-4c59-a16f-5cbead45818b.png)'
- en: License
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 许可证
- en: If you are using GitLab Enterprise Edition, this is the place where you manage your
    license. You can either upload a file or insert the appropriate license key. You
    can browse to GitLab to buy a new license.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在使用 GitLab 企业版，这是你管理许可证的地方。你可以上传文件或插入适当的许可证密钥。你还可以浏览 GitLab 购买新的许可证。
- en: Kubernetes
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kubernetes
- en: In this section, you can add an instance-wide Kubernetes cluster, which will
    be used to create deployment environments. We will discuss this option in [Chapter
    11](8e2b1a18-2d76-4c74-8e3f-869f2d009577.xhtml), *The Release and Configure Phase*.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在此部分，你可以添加一个实例范围的 Kubernetes 集群，用于创建部署环境。我们将在[第 11 章](8e2b1a18-2d76-4c74-8e3f-869f2d009577.xhtml)中讨论此选项，*发布和配置阶段*。
- en: Push rules
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 推送规则
- en: 'In this section, you can define all kinds of rules that will allow or disallow
    Git pushes:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在此部分，你可以定义各种规则，允许或禁止 Git 推送：
- en: '![](img/609ec937-9b85-44ab-8f0d-b2803356ec62.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](img/609ec937-9b85-44ab-8f0d-b2803356ec62.png)'
- en: Geo
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Geo
- en: When you have an Enterprise license and want to configure replicas of your GitLab
    instance, this is the place to use. We will discuss Geo in Chapter 22, *Using
    Geo to Create Distributed Read-Only Copies of GitLab*.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你拥有企业许可证并且想配置GitLab实例的副本，这就是你需要使用的地方。我们将在第22章《*使用Geo创建GitLab的分布式只读副本*》中讨论Geo。
- en: Deploy Keys
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 部署密钥
- en: 'In this section, you can register SSH keys, which are known as **Global Shared
    Deploy keys**. They allow read-only or read-write (if enabled) access to be configured
    on any repository in the entire GitLab installation. When the administrator has
    registered them here, you can assign them in your project, as shown in the following
    screenshot:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，你可以注册SSH密钥，这些密钥被称为**全局共享部署密钥**。它们允许在整个GitLab安装中的任何仓库上配置只读或读写（如果启用）访问权限。当管理员在此处注册它们时，你可以在你的项目中分配它们，如下图所示：
- en: '![](img/2a88f541-69d3-4602-9799-bd445766f8fe.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2a88f541-69d3-4602-9799-bd445766f8fe.png)'
- en: This feature can be used by a remote CI/CD server to check out code.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 这个功能可以被远程CI/CD服务器用来检出代码。
- en: Service templates
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务模板
- en: Project services allow you to integrate GitLab with other third-party applications.
    They resemble plugins that you can find in other systems. They allow for a lot
    of freedom in terms of adding functionality to GitLab. In the Service Templates
    section, you can edit information for predefined templates. The repository owners
    then have to configure less information if they want to enable a service integration
    for their repository.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 项目服务允许你将GitLab与其他第三方应用程序集成。它们类似于你在其他系统中找到的插件。它们在将功能添加到GitLab时提供了很大的灵活性。在服务模板部分，你可以编辑预定义模板的信息。然后，仓库所有者在启用服务集成时需要配置更少的信息。
- en: Appearance
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 外观
- en: 'You can define some cosmetic aspects of your GitLab instance on the Appearance
    settings page:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在外观设置页面定义一些GitLab实例的外观设置：
- en: '![](img/e7e66511-b9e3-4b5d-8299-a98f4dd4c3e8.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e7e66511-b9e3-4b5d-8299-a98f4dd4c3e8.png)'
- en: 'If, for example, you want to greet your users with a nice logo on the front
    page, you can change the logo by uploading a new one. You can do this by clicking
    the Choose File button near the Logo section. After you have done this, log out.
    You will be redirected to the front page:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果你想在首页向用户展示一个漂亮的标志，你可以通过上传新标志来更改它。你可以通过点击“选择文件”按钮来上传新的标志，按钮位于“标志”部分附近。完成后，登出并重新登录，你将被重定向到首页：
- en: '![](img/39cfe443-7cc6-4a49-8193-15bea1975c06.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/39cfe443-7cc6-4a49-8193-15bea1975c06.png)'
- en: Settings
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置
- en: This section has a lot of detailed options, all of which we will discuss here.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含很多详细选项，我们将在这里逐一讨论。
- en: General
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一般
- en: This part of the administration panel deals with settings that are not easily
    put into a group.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 该部分管理面板处理的是那些不容易归入某个群组的设置。
- en: Visibility and access controls
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可见性和访问控制
- en: Here, you define the default authorizations and permissions for users. There
    are three basic options. For instance, you can make projects private, which means
    that only you or people you grant access to can see when you create a new project.
    The internal level means only logged-in users can see your project (read-only).
    Public is the widest access level and allows anyone to see your project (but not
    write to it). The same authorizations can be set for snippets and groups. You
    can also determine what sources can be imported.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以定义用户的默认授权和权限。有三个基本选项。例如，你可以将项目设为私密，这意味着只有你或你授权的人可以看到你创建的新项目。内部级别意味着只有登录用户才能看到你的项目（只读）。公开是访问级别中最广泛的，允许任何人看到你的项目（但不能对其进行写操作）。相同的授权也可以设置用于代码片段和群组。你还可以确定可以导入哪些源。
- en: There are a lot of import modules available, but maybe you want to limit those.
    Another import option is to allow projects to be exported. There are several functions
    that can help users with this. If this isn't something you would like to cater
    for, then you can disable it here. GitLab supports both Git client access protocols
    (SSH and HTTP). You can also disable them in this section if you want to. Finally,
    you can control what kind of SSH keys can be used for Git SSH. Is RSA too insecure?
    Just disable it.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 有很多导入模块可供选择，但也许你希望限制这些模块。另一个导入选项是允许项目导出。有几个功能可以帮助用户实现这一点。如果这不是你想要支持的功能，你可以在这里禁用它。GitLab支持两种Git客户端访问协议（SSH和HTTP）。如果你愿意，你也可以在这一部分禁用它们。最后，你可以控制哪些类型的SSH密钥可以用于Git
    SSH。如果RSA太不安全，直接禁用它。
- en: Account and limit
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 帐户与限制
- en: In this section, you can set options such as session expiration (the default
    is 20 minutes), project limits, and maximum attachment sizes. The default project
    limit is set to 100,000, while the maximum size of a repository is not set by
    default. The attachment size is 10 MB. You can also enable Gravatars for accounts,
    which means that an image that is uploaded to `gravatar.com` can function as your
    personal icon. GitLab can act as an OAuth backend, and you can allow normal users
    to register new applications by using it.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在此部分，您可以设置会话过期时间（默认为20分钟）、项目限制和最大附件大小。默认项目限制设置为100,000，而存储库的最大大小默认没有设置。附件大小为10MB。您还可以启用
    Gravatars 功能，这意味着上传到 `gravatar.com` 的图像可以作为您的个人图标。GitLab 可以充当 OAuth 后端，并且您可以允许普通用户通过它注册新应用。
- en: You can also configure the way new users are handled. They can be defined as
    external users. This means that new users can only access specific projects that
    they are granted access to. They can't create new projects. Optionally, you can
    define exceptions for that rule with a regular expression. The final option is
    to enable a prompt to let users know that they haven't uploaded public SSH keys
    yet.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以配置新用户的处理方式。可以将他们定义为外部用户。这意味着新用户只能访问他们被授权访问的特定项目，不能创建新项目。可选地，您可以通过正则表达式为该规则定义例外。最后一个选项是启用提示，以便让用户知道他们尚未上传公共
    SSH 密钥。
- en: Diff limits
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 差异限制
- en: In this section, you can set the maximum size a diff patch can get to before
    it cannot be displayed in the normal diff view. If this size is reached, a link
    to a blob view will be presented.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在此部分，您可以设置差异补丁的最大大小，超出该大小将无法在正常的差异视图中显示。如果达到此大小，将显示指向 blob 视图的链接。
- en: Sign-up restrictions
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 注册限制
- en: In a default installation, a form is available on the GitLab login page so that
    you can sign up if you don't have an account. You can disable the signup pages
    here, as well as edit a whitelist and blacklist to deny access to certain domains
    upfront. You can also specify whether you want an email to be sent after the signup
    procedure.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在默认安装中，GitLab 登录页面上提供了一个表单，供没有帐户的用户注册。您可以在此处禁用注册页面，并编辑白名单和黑名单，提前拒绝某些域的访问。您还可以指定是否在注册程序后发送电子邮件。
- en: Some text will be shown to the user after signup has completed.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 注册完成后，将向用户显示一些文本。
- en: Sign-in restrictions
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 登录限制
- en: 'These settings cover the following restrictions:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这些设置涵盖了以下限制：
- en: Enable or disable logging in to the web interface with a password (without it,
    you need a third-party authentication provider such as Google)
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用或禁用使用密码登录Web界面（如果没有密码，则需要使用如Google等第三方认证提供者）
- en: Enable or disable password authentication for Git over HTTPS (without it, a
    personal access token is needed)
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用或禁用 Git 通过 HTTPS 的密码验证（如果没有启用，则需要使用个人访问令牌）
- en: Enable or disable two-factor authentication (with a grace period that determines
    how long a user can wait during configuration)
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用或禁用两步验证（包括一个宽限期，用于确定用户在配置过程中可以等待的时间）
- en: 'It is possible to use a hardware token device as a second factor, as you can
    see in the following screenshot (this only works in Chrome):'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用硬件令牌设备作为第二因素，如下图所示（此功能仅在 Chrome 中有效）：
- en: '![](img/8b28e596-ce8f-43b6-8e23-2d73f30b818a.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8b28e596-ce8f-43b6-8e23-2d73f30b818a.png)'
- en: 'You can also choose to use a code generator app such as Google Authentication:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以选择使用代码生成器应用程序，例如 Google 身份验证：
- en: '![](img/2aef2208-d8f5-4499-adc4-2ec6f903e98a.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2aef2208-d8f5-4499-adc4-2ec6f903e98a.png)'
- en: You can also set a home page URL here, which is where non-logged-in users will
    be redirected to. In the same way, you can define an after-sign-out path, where
    users will be led to when they sign out.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以在此处设置首页 URL，未登录的用户将被重定向到该页面。同样，您可以定义注销后的路径，用户注销后将被引导到该路径。
- en: Finally, it's also possible to set a standard sign-in text to be visible on
    the login page.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您还可以设置一个标准的登录文本，以便在登录页面上显示。
- en: Terms of service and privacy policy
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务条款和隐私政策
- en: If you use GitLab for an organization that uses strict terms, you can make sure
    that your users accept a policy that you can enter here, in a nice markdown-formatted
    text box.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您为一个使用严格条款的组织使用 GitLab，您可以确保用户接受您在此处输入的政策，这将以漂亮的 Markdown 格式呈现。
- en: External authentication
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 外部认证
- en: For some installations, it could be crucial to let external systems have more
    influence on the access policies in GitLab. For this, you can specify an external
    authorization service that checks the user's information and the classification
    label that has been given to a project. Based on that query, access may or may
    not be granted. If you enable this, all the pages that use cross-project data
    won't work anymore (such as snippets and activity).
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某些安装，可能至关重要的是让外部系统对 GitLab 中的访问政策产生更大影响。为此，你可以指定一个外部授权服务来检查用户的信息和分配给项目的分类标签。基于该查询，可能会或不会授予访问权限。如果启用此功能，所有使用跨项目数据的页面将不再工作（例如片段和活动）。
- en: Web Terminal
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web 终端
- en: This is a recent feature, and is where you can access a terminal via a web browser
    (part of a pipeline). Here, you can set a timeout on the session time for this
    terminal. Keeping it to zero means that it will try the session indefinitely.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个近期的功能，你可以通过 Web 浏览器访问终端（作为管道的一部分）。在这里，你可以为此终端会话设置超时时间。将其设置为零意味着会话将无限期进行。
- en: Web IDE
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web IDE
- en: '**Web IDE** is a feature that is also new and in full development. This book
    is actually typed in it, and it works better than most web editors. The main option
    that you can control from the settings page is the feature toggle, which allows
    client-side JavaScript projects to enable live preview functionality using CodeSandbox.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**Web IDE** 是一个全新的功能，仍在全面开发中。这本书实际上就是在它上面编写的，而且它的表现优于大多数 Web 编辑器。你可以从设置页面控制的主要选项是功能切换，它允许客户端
    JavaScript 项目使用 CodeSandbox 启用实时预览功能。'
- en: For more information about project access, go to [https://codesandbox.io](https://codesandbox.io).
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 获取更多有关项目访问的信息，请访问：[https://codesandbox.io](https://codesandbox.io)。
- en: Integrations
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 集成
- en: 'One of the ways to advance GitLab as a product is to offer several ways to
    integrate with other products. This also aligns with the Unix and open source
    philosophy of creating small, interoperable utilities. On a technical level, there
    are three ways to accomplish this:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 推动 GitLab 作为产品发展的方式之一是提供多种与其他产品集成的方法。这也与 Unix 和开源哲学一致，即创建小而可互操作的工具。从技术层面来说，完成这一点有三种方法：
- en: Using webhooks (event mechanisms, asynchronous, and so on. For more information,
    go to [https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/web_hooks/web_hooks.md](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/web_hooks/web_hooks.md)).
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Webhooks（事件机制、异步等。欲了解更多信息，请访问：[https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/web_hooks/web_hooks.md](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/web_hooks/web_hooks.md)）。
- en: Using the GitLab API (proactively get information from GitLab).
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 GitLab API（主动从 GitLab 获取信息）。
- en: 'Using project integration (running from a repository in GitLab). In the settings,
    four options are available: Elasticsearch, PlantUML, Snowplow, and the ability
    to view third-party offers.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用项目集成（从 GitLab 中的仓库运行）。在设置中，有四个可选项：Elasticsearch、PlantUML、Snowplow 和查看第三方服务的能力。
- en: Elasticsearch
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Elasticsearch
- en: 'Only available in Enterprise edition, this search engine integration feature
    is really powerful, but is a subject on its own. It offers a full-text search
    option for GitLab so that you can search for text throughout your source code
    repositories. You will need to install the search program, which has a HTTP web
    interface on another server, and specify the connection settings (the URL):'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 仅在企业版中提供的此搜索引擎集成功能非常强大，但它是一个独立的话题。它为 GitLab 提供了全文搜索选项，让你能够在源代码库中搜索文本。你需要安装搜索程序，该程序在另一台服务器上提供
    HTTP Web 接口，并指定连接设置（URL）：
- en: '![](img/e91d2dba-efc8-41a7-af2c-3297cc0fbe3a.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e91d2dba-efc8-41a7-af2c-3297cc0fbe3a.png)'
- en: 'You can also limit what will be indexed:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以限制将被索引的内容：
- en: '![](img/ffc70aaf-e34c-4233-8686-cc6bf582e6c5.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ffc70aaf-e34c-4233-8686-cc6bf582e6c5.png)'
- en: 'Another option is to connect to an Elasticsearch instance that you are running
    in the Amazon cloud. You can specify connection settings here as well if you have
    this set up:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选项是连接到你在 Amazon 云中运行的 Elasticsearch 实例。如果你已设置，可以在此指定连接设置：
- en: '![](img/6c0670b2-2482-4935-a197-213da9e423ce.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6c0670b2-2482-4935-a197-213da9e423ce.png)'
- en: You can find more information on this at [http://elastic.co](http://elastic.co).
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在此查看更多信息：[http://elastic.co](http://elastic.co)。
- en: PlantUML
  id: totrans-135
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: PlantUML
- en: Here, you can define the URL for PlantUML (this is an API integration).
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以定义 PlantUML 的 URL（这是一个 API 集成）。
- en: Third-party offers
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第三方服务
- en: This setting lets you opt out of third-party offerings. An example of such an
    offer would be to get free Google Cloud credits so that you can use Google's Kubernetes
    platform.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 此设置使您可以选择退出第三方提供的服务。这种提供的一个例子是获取免费的Google Cloud积分，以便您可以使用Google的Kubernetes平台。
- en: Snowplow
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Snowplow
- en: Again, Snowplow is an Enterprise feature. Some companies want to track custom
    events in GitLab. With Snowplow, you can use this big data platform to collect
    and analyze data. If you enable this integration, you have to provide a collector
    URI, a site ID, and a cookie domain.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，Snowplow是企业功能。一些公司希望在GitLab中跟踪自定义事件。使用Snowplow，您可以使用这个大数据平台来收集和分析数据。如果启用此集成，必须提供收集器URI、站点ID和Cookie域。
- en: Repository
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 存储库
- en: Here, you will find options that are generic for all repositories.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您将找到适用于所有存储库的通用选项。
- en: Repository mirror
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 存储库镜像
- en: With GitLab, you can create repository mirrors. This means that, after an initial
    synchronization, the content (and metadata, if possible) is kept up to date with
    the remote source. The sync job will be triggered automatically and will time
    out after 15 minutes. This setting determines whether a user can set up mirrors.
    If it's disabled, only administrators can perform this task.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 使用GitLab，您可以创建存储库镜像。这意味着，在初始同步之后，内容（以及可能的元数据）会与远程源保持更新。同步作业将自动触发，并在15分钟后超时。此设置确定用户是否可以设置镜像。如果禁用，只有管理员可以执行此任务。
- en: Repository storage
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 存储库存储
- en: The most important settings handle the way storage is used. Instead of using
    folder structures with names, you can use hashed values as directory names for
    projects. This way, when you're moving projects, the folder isn't moved on an
    OS level – the reference to the hash is changed in the database instead. Keeping
    a hash-based reference tree and searching is much faster than traversing a folder
    tree by name.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 最重要的设置处理存储使用的方式。不使用名称的文件夹结构，可以使用散列值作为项目目录名称。这样，在移动项目时，文件夹不会在操作系统级别上移动 - 而是在数据库中改变对散列的引用。保持基于散列的引用树和搜索比通过名称遍历文件夹树快得多。
- en: Secondly, you can specify alternate storage locations where new projects are
    stored. If there is more than one location, it will alternate between them in
    no particular order. The location that shows up in the chooser depends on what
    storage paths were defined in `gitlab.rb` (for omnibus installations) or `gitlab.ym`
    (source-based setups).
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，您可以指定新项目存储的替代位置。如果有多个位置，它们将以没有特定顺序的方式轮换。显示在选择器中的位置取决于在`gitlab.rb`（适用于独立包安装）或`gitlab.yml`（基于源的安装）中定义的存储路径。
- en: The settings for the storage circuit breaker are found here as well. This is
    used to handle failures of the underlying storage GitLab uses. When you're using
    network filesystems such as **Network File System** (**NFS**), locking issues
    can occur, which eventually make the whole system hang indefinitely.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 这里也可以找到存储电路断路器的设置。这用于处理GitLab使用的底层存储的故障。当使用网络文件系统如**Network File System**（**NFS**）时，可能会出现锁定问题，最终使整个系统无限期地挂起。
- en: Repository maintenance
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 存储库维护
- en: 'Git has a special integrity checking feature called **fsck**. Just like the **Filesystem Consistency
    Check** (**fsck**) for filesystems, it can verify a structure and tell us whether
    it''s compromised. The name of this Git function was chosen because Git was initially
    built as a filesystem. A filesystem is classed as a graph model, and Git implements
    this as tree and blob objects. Because all of the items are check-summed, fsck
    can verify the integrity of the objects and their relations. This graph is depicted
    in the following diagram:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: Git具有称为**fsck**的特殊完整性检查功能。就像文件系统一致性检查（**fsck**）用于文件系统一样，它可以验证结构并告诉我们是否受到威胁。选择Git函数的名称是因为Git最初是作为文件系统构建的。文件系统被分类为图模型，Git将其实现为树和blob对象。由于所有项目都有校验和，fsck可以验证对象及其关系的完整性。此图在以下图表中描述：
- en: '![](img/077503b3-5e09-436d-a4ac-fbd39a0f452d.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](img/077503b3-5e09-436d-a4ac-fbd39a0f452d.png)'
- en: 'Changes between files in a repository are saved as deltas and packed together
    in pack files, which are then compressed. This also happens to other objects in
    the repository hierarchy. In short, this means that the graph model has been enhanced
    to make Git operations faster and more efficient on your computer, and to save
    disk space. Sometimes, after `commit --amend` or `git rebase`, objects such as
    commits become unreachable (there''s no parent SHA). All the preceding use cases
    are candidates for the Git garbage collection function: `git gc` ([https://git-scm.com/docs/git-gc](https://git-scm.com/docs/git-gc)).
    It is recommended to run this function on your Git repositories regularly.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 仓库中文件之间的变化会被保存为增量，并打包成 pack 文件，然后进行压缩。这同样适用于仓库层次结构中的其他对象。简而言之，这意味着图形模型已经增强，使得
    Git 操作在您的计算机上更快、更高效，并节省磁盘空间。有时，在执行`commit --amend`或`git rebase`之后，像提交这样的对象变得无法访问（没有父
    SHA）。所有前述的使用场景都可以成为 Git 垃圾回收功能的候选项：`git gc`（[https://git-scm.com/docs/git-gc](https://git-scm.com/docs/git-gc)）。建议定期对您的
    Git 仓库运行此功能。
- en: In the GitLab settings, you can control the two ways in which Git is being used
    on the GitLab server in order to maintain repository hierarchies. The first option
    is that you can enable periodic repository checks with `git fsck`. Letting GitLab
    do this ensures that you can spot and possibly repair disk corruption issues you
    wouldn't easily find normally if you were to process all the files.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在 GitLab 设置中，您可以控制 Git 在 GitLab 服务器上使用的两种方式，以维护仓库层次结构。第一个选项是，您可以启用周期性的仓库检查，使用`git
    fsck`。让 GitLab 执行此操作可确保您能够发现并可能修复那些通常难以发现的磁盘损坏问题，尤其是当您处理所有文件时。
- en: GitLab can also do housekeeping. It should run periodically to prevent the corruption
    of repositories. Unfortunately, it can also generate false alarms.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: GitLab 还可以执行清理工作。它应该定期运行，以防止仓库损坏。不幸的是，它有时也会产生误报。
- en: The second option is that you can control the way housekeeping is done on the
    server in order to make Git repositories more efficient and fast. You can enable
    and control when `git gc` is performed on the GitLab server. Another option for `git
    pack` operations is to let them use bitmap indexes. This could result in much
    faster cloning (but more disk space being used). The parameters for housekeeping
    are the amount of times a repository is pushed before `git repack` (incremental), `git
    repack` (full), and `git gc` is performed.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个选项是，您可以控制服务器上清理工作（housekeeping）的方式，以提高 Git 仓库的效率和速度。您可以启用并控制何时在 GitLab 服务器上执行`git
    gc`。另一个用于`git pack`操作的选项是允许它们使用位图索引。这可能会导致克隆速度更快（但会占用更多磁盘空间）。清理工作参数包括在执行`git repack`（增量）、`git
    repack`（完整）和`git gc`之前，仓库被推送的次数。
- en: Templates
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模板
- en: From GitLab 11.x onward, you can define a special directory that will provide
    templates for all of GitLab. You can also create your own.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 从 GitLab 11.x 开始，您可以定义一个特殊目录，为 GitLab 提供模板。您也可以创建您自己的模板。
- en: The custom project templates settings let you specify which group is the default
    group so that you can provide templates.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 自定义项目模板设置允许您指定哪个组是默认组，以便您可以提供模板。
- en: CI/CD
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CI/CD
- en: This page contains several configuration options for **Continuous Integration**
    (**CI**) and **Continuous Deployment** (**CD**) using GitLab.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 本页包含使用 GitLab 进行**持续集成**（**CI**）和**持续部署**（**CD**）的若干配置选项。
- en: Auto DevOps settings
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Auto DevOps 设置
- en: 'As of GitLab 11.3, Auto DevOps is automatically enabled for all projects. When
    the build process is triggered for a project and a pipeline is created, the Auto
    DevOps feature will be disabled for the project if the pipeline fails. If an alternative
    `.gitlab-ci.yml` file is located in the project, it will use that instead. You
    can override the default Auto DevOps settings here and disable them:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 从 GitLab 11.3 开始，Auto DevOps 会自动为所有项目启用。当项目的构建过程被触发并创建了管道时，如果管道失败，Auto DevOps
    功能将会被禁用。如果项目中存在替代的 `.gitlab-ci.yml` 文件，则会使用该文件。您可以在此处覆盖默认的 Auto DevOps 设置并禁用它们：
- en: '![](img/619698e3-c5b5-41d2-aea1-7e1d87c4366b.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](img/619698e3-c5b5-41d2-aea1-7e1d87c4366b.png)'
- en: Shared runner settings
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 共享 Runner 设置
- en: One of the key components of CI/CD is the runners. In this section, you can
    enable shared runners for all new projects, which means that any shared runner
    could end up building your code. There is a security aspect to this because shared
    runners could exist that aren't using a stateless mechanism. They could be running
    your job, and not clean up the artifacts, and get a new build job. This is probably
    is not what you want. Your data could be compromised by another build project.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: CI/CD 的关键组成部分之一是 runners。在这一部分，你可以为所有新项目启用共享 runners，这意味着任何共享 runner 都有可能构建你的代码。这其中有安全方面的考虑，因为某些共享
    runner 可能没有使用无状态机制。它们可能在运行你的任务时，不清理生成的工件，导致新构建任务的产生。这可能不是你想要的结果，你的数据有可能会被其他构建项目所泄露。
- en: 'Therefore, another option is to set some warning text for shared runners that
    communicate so that you can ensure your shared runners are under control:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，另一个选项是为共享 runners 设置一些警告文本，以便你确保共享 runners 处于可控状态：
- en: '![](img/cdbb17a7-029b-4779-bb28-de411d1b8cd7.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cdbb17a7-029b-4779-bb28-de411d1b8cd7.png)'
- en: When runners build artifacts, the results can be uploaded and viewed after the
    pipeline has finished. You may want to set a certain limit on the size of the
    combined artifacts that get uploaded as a ZIP file to the GitLab CI.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 当 runners 构建工件时，结果可以在管道完成后上传并查看。你可能希望为上传到 GitLab CI 的 ZIP 文件设定一个合并工件的大小限制。
- en: 'You can also specify how long artifacts should stay available after the build.
    This is controlled by the default artifact expiration time:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以指定构建后工件保持可用的时间。这由默认的工件过期时间控制：
- en: '![](img/4d30dea2-2733-4748-b89b-4d70f35310f1.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4d30dea2-2733-4748-b89b-4d70f35310f1.png)'
- en: 'When an artifact reaches this age, it is deleted in the periodic expiration
    task. As we can see in the following screenshot, it runs every hour:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个工件达到这个过期时间时，它会在定期的过期任务中被删除。正如我们在下面的截图中看到的，它每小时运行一次：
- en: '![](img/fcb1e5d7-89a8-447e-aede-30f5c65f3e9b.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fcb1e5d7-89a8-447e-aede-30f5c65f3e9b.png)'
- en: Container registry
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 容器注册表
- en: GitLab can also function as a container registry. By this, we mean it can store
    images that you create on your workstation or inside of GitLab runner pipelines.
    In this section of the admin area, you can specify how long an authorization token
    remains valid. The default is five minutes.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: GitLab 还可以作为容器注册表使用。这里的意思是，它可以存储你在工作站上创建的镜像，或者在 GitLab runner 管道中创建的镜像。在管理员区域的这一部分，你可以指定授权令牌的有效期。默认情况下是五分钟。
- en: Reporting
  id: totrans-175
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 报告
- en: Most people have an easy time identifying or explaining the term reporting.
    I personally don't understand how GitLab grouped certain options under this subject.
    To me, the first one, that is, spam and anti-bot protection, should belong to
    a security or privacy part of the settings.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数人都能轻松识别或解释“报告”这个术语。我个人不理解为什么 GitLab 会将某些选项归类到这个主题下。在我看来，第一个选项，即垃圾邮件和反机器人保护，应该属于设置中的安全或隐私部分。
- en: Spam and anti-bot protection
  id: totrans-177
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 垃圾邮件和反机器人保护
- en: GitLab is able to use reCAPTCHA and Akismet to handle abusive traffic. If you
    enable this setting, you need a site key and a private key, both of which can
    be generated at [http://www.google.com/recaptcha](http://www.google.com/recaptcha). In
    this way, you raise another barrier against spammers creating users in an automated
    way. If you register, you have to prove you are a human by answering specific
    questions[.](http://www.google.com/recaptcha)
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: GitLab 能够使用 reCAPTCHA 和 Akismet 来处理滥用流量。如果启用此设置，你需要一个站点密钥和一个私密密钥，这两个密钥可以在 [http://www.google.com/recaptcha](http://www.google.com/recaptcha)
    上生成。通过这种方式，你为防止垃圾邮件发送者自动创建用户设置了另一道防线。如果你注册，你必须通过回答特定问题来证明你是一个人类用户[.](http://www.google.com/recaptcha)
- en: In a similar manner, Akismet can help you protect your issues in GitLab from
    spammers. With the advent of weblogs and the possibility to comment, a new spam
    technique emerged called comment spam. Spammers try to influence readers with
    massive amounts of comments. Akismet was established as an extra check (GitLab
    calls its API) to prevent automated comments (issues in GitLab).
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，Akismet 可以帮助你保护 GitLab 中的 Issues，避免被垃圾邮件攻击。随着博客和评论功能的出现，涌现出一种新的垃圾邮件技术，称为评论垃圾邮件。垃圾邮件发送者试图通过大量的评论来影响读者。Akismet
    被设立为一种额外的检查（GitLab 称之为 API），以防止自动化评论（GitLab 中的 Issues）。
- en: As an extra security measure, there's the option to restrict simultaneous logins
    from multiple IPs. You can even set a maximum number of IPs a user can connect
    from by using an IP expiration time.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 作为额外的安全措施，你可以选择限制来自多个 IP 地址的同时登录。你甚至可以通过设置 IP 过期时间来限制用户可以连接的最大 IP 数量。
- en: Abuse reports
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 滥用报告
- en: Here, you can set an email address that abuse reports can be sent to. The option
    to create an abuse report is scattered throughout GitLab.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以设置接收滥用报告的电子邮件地址。GitLab的各个部分都可以创建滥用报告。
- en: Error reporting and logging
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 错误报告和日志记录
- en: In general, there are numerous log files for all kinds of services that GitLab
    is running. In this section, you can specify logging and reporting for clients
    (also known as browsers). The GitLab frontend JavaScript application that runs
    in your browser has the option to use Sentry ([https://sentry.io/welcome/](https://sentry.io/welcome/)).
    By using this, you can monitor and proactively catch errors from your users and
    act accordingly.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，GitLab运行的所有服务都有许多日志文件。在此部分，您可以为客户端（也称为浏览器）指定日志记录和报告。GitLab前端的JavaScript应用程序运行在您的浏览器中，并可以选择使用Sentry
    ([https://sentry.io/welcome/](https://sentry.io/welcome/))。通过使用它，您可以监控并主动捕捉用户的错误并采取相应的措施。
- en: Metrics and profiling
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 指标和配置分析
- en: Administrators or owners of a GitLab system like to know how their system is
    performing – not only at an OS level, but also in terms of functionality. For
    instance, information about how long certain operations take to complete is very
    important. These metrics are available in GitLab, but you need to do some configuration
    to make these numbers available. There are several ways to retrieve this data
    from GitLab, and it's here where you can specify details about sources of information.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: GitLab系统的管理员或所有者通常希望了解他们系统的性能——不仅仅是操作系统级别，还包括功能方面。例如，了解某些操作完成所需的时间非常重要。这些指标在GitLab中是可以获得的，但您需要进行一些配置才能使这些数据可用。有多种方式可以从GitLab获取这些数据，在此您可以指定信息来源的详细信息。
- en: Metrics – InfluxDB
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 指标 – InfluxDB
- en: The first system that can operate as a backend store for metrics is InfluxDB.
    This is a special kind of database that stores time series data. Before you can
    use this feature, you will have to set up this database on a separate server.
    It is too heavy to run on the same GitLab machine. Instructions on how to configure
    this can be found at [https://docs.gitlab.com/ee/administration/monitoring/performance/influxdb_configuration.html](https://docs.gitlab.com/ee/administration/monitoring/performance/influxdb_configuration.html). When
    you enable InfluxDB metrics, it will set up a **User Datagram Protocol** (**UDP)**
    stream to the InfluxDB host that will carry all kinds of event information. You
    can fine-tune the connection pool size, the connection timeout, and so on to make
    sure that you don't generate too much data. After changing this setting, you will
    have to restart.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个可以作为指标后端存储的系统是InfluxDB。这是一种特殊的数据库，专门用于存储时间序列数据。在您可以使用此功能之前，您需要在单独的服务器上设置此数据库。由于其负载较重，无法在同一台GitLab机器上运行。有关如何配置的说明，请参见[https://docs.gitlab.com/ee/administration/monitoring/performance/influxdb_configuration.html](https://docs.gitlab.com/ee/administration/monitoring/performance/influxdb_configuration.html)。启用InfluxDB指标时，它会设置一个**用户数据报协议**
    (**UDP)**流向InfluxDB主机，传输各种事件信息。您可以微调连接池大小、连接超时时间等，以确保不会生成过多的数据。更改此设置后，您需要重新启动。
- en: Metrics – Prometheus
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 指标 – Prometheus
- en: The preferred time series database for GitLab as of 2018 is Prometheus. Its
    scraping endpoint for GitLab can be enabled here. You will need to restart GitLab
    after you change it. A Prometheus server is bundled in `omnibus-gitlab` itself.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 自2018年起，GitLab的首选时间序列数据库是Prometheus。您可以在这里启用GitLab的抓取端点。更改后，您需要重新启动GitLab。Prometheus服务器已经捆绑在`omnibus-gitlab`中。
- en: Profiling – Performance Bar
  id: totrans-191
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置分析 – 性能条
- en: 'Sometimes, you like to know how GitLab''s performance is when it''s running
    in a browser, or you want to see which part of a GitLab request takes the most
    time to complete. Enter `Profiling-Performance Bar`, which you can enable for
    certain groups. Once the Performance Bar is enabled, you will need to press the
    *P* + *B* keyboard shortcut to actually display it:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，您可能希望了解GitLab在浏览器中运行时的性能，或者您想查看GitLab请求的哪个部分最耗时。进入`配置分析-性能条`，您可以为特定的组启用该功能。启用性能条后，您需要按下*P*
    + *B* 键盘快捷键以实际显示它：
- en: '![](img/2362cbed-bcb8-4d50-ae74-423de3368fbf.png)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2362cbed-bcb8-4d50-ae74-423de3368fbf.png)'
- en: Usage statistics
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用统计信息
- en: 'In this section of the settings, you can enable or disable two sets of information
    that can be collected by GitLab by default. You can also choose to only let the
    information be viewable by instance admins. These types of information are as
    follows:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在此设置部分，您可以启用或禁用 GitLab 默认收集的两组信息。您还可以选择仅让实例管理员查看这些信息。这些信息类型如下：
- en: Version check (you will see Update ASAP in the overview when a new version is
    available)
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 版本检查（当有新版本可用时，您将在概述中看到“尽快更新”）
- en: Usage ping (to improve GitLab and its user experience)
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用情况ping（用于改进GitLab及其用户体验）
- en: Can share data to the public or only admins
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以将数据共享给公众或仅限管理员
- en: Check the Preview payload button to view other data that's shared in this ping
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 勾选预览负载按钮以查看此ping中共享的其他数据
- en: Pseudonymizer data collection
  id: totrans-200
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 假名化数据收集
- en: When enabled, this option will make sure that GitLab writes anonymized information
    to a comma-separated values file. This file will then be uploaded to the S3 storage
    bucket that you specify in your configuration files (`gitlab.rb` for omnibus-gitlab
    installs and `gitlab.yml` for source-based installs).
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 启用后，此选项将确保GitLab将匿名化的信息写入逗号分隔值文件。此文件随后会上传到您在配置文件中指定的S3存储桶（`gitlab.rb`用于omnibus-gitlab安装，`gitlab.yml`用于基于源的安装）。
- en: Network
  id: totrans-202
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络
- en: In this section, you can control some of the options that influence network
    performance and communication.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在此部分，您可以控制一些影响网络性能和通信的选项。
- en: Performance optimization
  id: totrans-204
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 性能优化
- en: Here, you can disable writing to an authorized keys file and let GitLab read
    authorized keys straight from the database instead of via a file. This helps speed
    up the authorization phase of Git SSH.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以禁用写入授权密钥文件，并让GitLab直接从数据库读取授权密钥，而不是通过文件读取。这有助于加速Git SSH的授权阶段。
- en: User and IP rate limits
  id: totrans-206
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 用户和IP速率限制
- en: Here, you can throttle for web and API requests. You also have the option to
    make a difference between authenticated and anonymous requests.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以对Web和API请求进行流量控制。您还可以选择区分身份验证请求和匿名请求。
- en: Outbound requests
  id: totrans-208
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 外发请求
- en: By default, webhooks that are created in the system aren't allowed to go out
    of the local IP subnet. With this option, you can allow hooks to go out.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，系统中创建的webhooks不允许超出本地IP子网。通过此选项，您可以允许webhooks外发。
- en: Geo
  id: totrans-210
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Geo
- en: In this section, you can set some Geo preferences, such as the timeout after
    which the communication with a secondary instance is considered lost. Another
    setting that's available allows you to list the IPs and networks that can connect
    and pretend they are secondaries.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在此部分，您可以设置一些Geo偏好设置，例如与二级实例的通信超时后认为连接丢失的时间。另一个可用的设置允许您列出可以连接并假装是二级实例的IP和网络。
- en: Preferences
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 偏好设置
- en: These settings are general and are related to different subjects.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 这些设置是通用的，与不同的主题相关。
- en: Email
  id: totrans-214
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 邮件
- en: In the email section, you can make emails come straight from originators, who,
    for instance, create issues or merge requests. The second option you can control
    is whether GitLab sends emails in HTML format.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 在电子邮件部分，您可以使电子邮件直接来自创建问题或合并请求的发起者。您还可以控制的第二个选项是GitLab是否以HTML格式发送电子邮件。
- en: Help page
  id: totrans-216
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 帮助页面
- en: 'You can also customize the way the Help page for GitLab is presented. There''s the
    option to provide some custom text, which will be displayed on top of the Help
    page:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以自定义GitLab帮助页面的展示方式。您可以选择提供一些自定义文本，这些文本将在帮助页面的顶部显示：
- en: '![](img/3f80655e-d342-44a9-802f-06f12a3509b8.png)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3f80655e-d342-44a9-802f-06f12a3509b8.png)'
- en: 'The following is a screenshot of the standard Help page:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是标准帮助页面的截图：
- en: '![](img/82b14fc7-d66b-4cb1-977a-ab8a693d00c9.png)'
  id: totrans-220
  prefs: []
  type: TYPE_IMG
  zh: '![](img/82b14fc7-d66b-4cb1-977a-ab8a693d00c9.png)'
- en: 'Let''s make some changes by adding `This is a help page.`:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过添加`This is a help page.`来进行一些更改：
- en: '![](img/a309208b-fa26-4cb6-99d6-dbe4b2195721.png)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a309208b-fa26-4cb6-99d6-dbe4b2195721.png)'
- en: 'The result will be as follows:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![](img/93508fe6-c4c6-43e6-8e93-c102fcc531e5.png)'
  id: totrans-224
  prefs: []
  type: TYPE_IMG
  zh: '![](img/93508fe6-c4c6-43e6-8e93-c102fcc531e5.png)'
- en: Pages
  id: totrans-225
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 页面
- en: 'If you use the GitLab Pages feature, you can specify the maximum size of pages.
    You can set it to zero if you want the size to be unlimited. You can also allow
    users to prove that they own a domain before you serve a page for it:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用GitLab Pages功能，您可以指定页面的最大大小。如果您希望页面大小无限制，可以将其设置为零。您还可以允许用户在您为其提供页面之前证明他们拥有该域名：
- en: '![](img/2274c441-ac4e-4229-a902-6aea84c6e0a7.png)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2274c441-ac4e-4229-a902-6aea84c6e0a7.png)'
- en: Real-time features
  id: totrans-228
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实时功能
- en: The GitLab web interface gives you the option to poll for real-time events,
    like it does when you press the Merge button on a merge request. You can set a
    multiplier for this here so that it polls less often (or more often, depending
    on what you want).
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: GitLab Web界面提供了轮询实时事件的选项，就像您在合并请求上按下合并按钮时一样。您可以在这里设置一个乘数，以便使轮询更少（或更多，具体取决于您的需求）。
- en: Gitaly
  id: totrans-230
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Gitaly
- en: Regarding Gitaly, you can control some of its timings here. If Gitaly is being
    slow, you'll want it to time out for certain requests, because otherwise the operation
    can bring down the whole GitLab instance. Since Gitaly is the interface to the
    repositories, think of filesystems or nodes not responding. Very bad things can
    happen when locks occur or when network issues prevent data transfers. It's better
    to know when to cut the cord.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
- en: Localization
  id: totrans-232
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This is a big section of the settings since there are many localization settings
    for software products. The only one that is exposed in this screen is Default
    first day of the week:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3ccb3951-f817-425a-9b7e-7c4e8e79832a.png)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
- en: This depends on your geographical location.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
- en: Configuring GitLab settings at the group level
  id: totrans-236
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The admin area is only accessible to users with the admin role, but other roles
    can configure settings too. If you, as a user, have been granted permission to
    *add groups*, you can change the settings of the groups you have created. If you
    navigate to Your Groups from the top-level menu, you can access the settings from
    the left-hand side menu.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
- en: 'Here, you will see a submenu with the items that you can configure. It looks
    a lot like the UI in the admin area but is, of course, scoped to the group:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b96a6026-b04a-485d-b27b-1bc2bc759d2b.png)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
- en: 'In GitLab 12.0, a new interesting feature has been added to the General pane
    for group settings: Restrict address by IP address. It is an Enterprise feature
    and, by using it, you can make sure that certain IP addresses aren''t allowed
    to access group content. In the following screenshot, you can see that `192.168.1.0/24`
    is the only IP range that''s allowed to see the group content:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f1de42c1-253a-4619-88ac-0912e4c3bee8.png)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
- en: For instance, you don't want software to be downloaded from a VPN.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
- en: Configuring GitLab settings at the project level
  id: totrans-243
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In the previous sections, we saw that we can adjust the settings at the instance
    level in the admin area, as well as at the group level. There are also options
    for setting an individual project. If you browse to one of your projects, you
    will see a Settings menu on the left:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/008edc22-0300-41eb-8667-e98777842fbc.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
- en: General
  id: totrans-246
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The General menu provides some specific settings that aren't found anywhere
    else. Let's look at the most important ones.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: Naming, topics, avatar
  id: totrans-248
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Under the General settings, you can find the
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b9ee3626-c2c3-4519-9b4c-491e8cafea9a.png)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
- en: Visibility, project features, permissions
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'A very important part of these settings is the Visibility, project features,
    permissions sections. You can enable or disable certain features, as well as determine
    who is allowed to do what:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ed56e6d5-79b8-48b6-96db-0fe2cf91d687.png)'
  id: totrans-253
  prefs: []
  type: TYPE_IMG
- en: Merge requests
  id: totrans-254
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'For an individual project, you can define merge request behavior. For example,
    you can define how GitLab will execute merges on the server. For every executed
    merge request, there is a Git session on the server running the same Git binary
    that you have on your workstation. For instance, you can specify that the server
    side never does a merge commit:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 对于单个项目，你可以定义合并请求的行为。例如，你可以定义 GitLab 如何在服务器上执行合并。对于每个执行的合并请求，服务器上会有一个 Git 会话，运行的是你工作站上相同的
    Git 二进制文件。例如，你可以指定服务器端从不做合并提交：
- en: '![](img/caf84dff-6f27-4d6f-81c1-1d2396c19382.png)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![](img/caf84dff-6f27-4d6f-81c1-1d2396c19382.png)'
- en: In version 12.0 of GitLab, the concept of merge trains was added. If you enable
    this, all the merges must pass in sequence, and your merge will be a part of this
    train. The merges only succeed as a whole, and this use case is common in Enterprise
    environments where different teams work on the same product. In future versions,
    this feature will be enabled by default.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 在 GitLab 12.0 版本中，加入了合并列车的概念。如果启用此功能，所有的合并请求必须按顺序通过，而你的合并将成为这个列车的一部分。只有整个合并成功时，才能成功执行，这种用例在不同团队共同开发同一产品的企业环境中很常见。在未来的版本中，此功能将默认启用。
- en: Summary
  id: totrans-258
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we discussed how to configure an existing GitLab application
    instance via the web interface. The administration pages of GitLab give you a
    lot of control over your instance. After going through those pages, we explained
    the various items that can be managed.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了如何通过 Web 界面配置现有的 GitLab 应用实例。GitLab 的管理页面让你对实例有很大的控制权。在浏览完这些页面后，我们解释了可以管理的各种项目。
- en: In the next chapter, we will take a look at configuring GitLab through a regular
    Terminal interface without a web browser.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过常规终端界面（而非 Web 浏览器）来配置 GitLab。
- en: Questions
  id: totrans-261
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What icon is used to represent the administration section?
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用什么图标表示管理部分？
- en: Which three items feature prominently on the admin dashboard?
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在管理员仪表盘上突出显示的三个项目是什么？
- en: What is the maximum size of an uploaded logo image?
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 上传的 logo 图像最大大小是多少？
- en: Which metrics backend can be configured?
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以配置哪种度量指标后端？
- en: What product is used to enable live preview functionality?
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个产品用于启用实时预览功能？
- en: What UML tool can be integrated with GitLab?
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪款 UML 工具可以与 GitLab 集成？
- en: What mechanism is used to prevent network storage from hanging GitLab?
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用哪种机制防止网络存储挂起 GitLab？
- en: What process can help preserve repository integrity?
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个过程可以帮助保持仓库的完整性？
- en: Which CI/CD feature is enabled by default?
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认启用的是哪项 CI/CD 功能？
- en: What value has to be set in GitLab Pages to enable unlimited size?
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 GitLab Pages 中需要设置什么值才能启用无限制大小？
- en: Further reading
  id: totrans-272
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: '*Getting Started with Kubernetes - Third Edition*, by*Jesse White* and *Jonathan
    Baier*: [https://www.packtpub.com/in/virtualization-and-cloud/getting-started-kubernetes-third-edition](https://www.packtpub.com/in/virtualization-and-cloud/getting-started-kubernetes-third-edition)'
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Kubernetes 入门 - 第三版*，作者：*Jesse White* 和 *Jonathan Baier*：[https://www.packtpub.com/in/virtualization-and-cloud/getting-started-kubernetes-third-edition](https://www.packtpub.com/in/virtualization-and-cloud/getting-started-kubernetes-third-edition)'
- en: '*Develop and Operate Microservices on Kubernetes*, by* Martin Helmich*: [https://www.packtpub.com/virtualization-and-cloud/develop-and-operate-microservices-kubernetes-video](https://www.packtpub.com/virtualization-and-cloud/develop-and-operate-microservices-kubernetes-video)'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在 Kubernetes 上开发和操作微服务*，作者：*Martin Helmich*：[https://www.packtpub.com/virtualization-and-cloud/develop-and-operate-microservices-kubernetes-video](https://www.packtpub.com/virtualization-and-cloud/develop-and-operate-microservices-kubernetes-video)'
- en: '*Docker Cookbook - Second Edition*, by* Neependra K Khare*, *Jeeva S. Chelladhurai*,
    and *Ken Cochrane*: [https://www.packtpub.com/in/virtualization-and-cloud/docker-cookbook-second-edition](https://www.packtpub.com/in/virtualization-and-cloud/docker-cookbook-second-edition)'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Docker 厨房秘籍 - 第二版*，作者：*Neependra K Khare*，*Jeeva S. Chelladhurai*，*Ken Cochrane*：[https://www.packtpub.com/in/virtualization-and-cloud/docker-cookbook-second-edition](https://www.packtpub.com/in/virtualization-and-cloud/docker-cookbook-second-edition)'
