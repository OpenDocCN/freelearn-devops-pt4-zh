["```\n################################################################################\n ## Prometheus\n ##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/\n ###############################################################################\n prometheus['enable'] = true\n # prometheus['monitor_kubernetes'] = true\n # prometheus['username'] = 'gitlab-prometheus'\n # prometheus['uid'] = nil\n # prometheus['gid'] = nil\n\n```", "```\n\n - job_name: 'git-metrics'\n params:\n token: [ gitlab_health_check_access_token ]\n metrics_path: /-/metrics\n scrape_interval: 5s\n scheme: https\n tls_config:\n insecure_skip_verify: true\n file_sd_configs:\n - files:\n - /etc/prometheus/sd/gitlab_metrics_exporter_sd.yml\n\n```", "```\n\n - targets: ['gitlab.joustie.nl']\n labels:\n app: gitlab\n```", "```\ndocker run -it --name my-prometheus \\\n -v /tmp:/etc/prometheus \\\n --publish 9090:9090 \\\n prom/prometheus\n```", "```\n $ pip install prometheus_client\n Collecting prometheus_client\n matplotlib 1.3.1 requires nose, which is not installed.\n matplotlib 1.3.1 requires tornado, which is not installed.\n Installing collected packages: prometheus-client\n Successfully installed prometheus-client-0.6.0\n```", "```\n from prometheus_client import start_http_server, Summary\n import random\n import time\n# Create a metric to track time spent and requests made.\n REQUEST_TIME = Summary('request_processing_seconds', 'Time spent processing request')\n# Decorate function with metric.\n @REQUEST_TIME.time()\n def process_request(t):\n \"\"\"A dummy function that takes some time.\"\"\"\n time.sleep(t)\nif __name__ == '__main__':\n # Start up the server to expose the metrics.\n start_http_server(8000)\n # Generate some requests.\n while True:\n process_request(random.random())\n\n```", "```\njob_name: 'python_gitlab'\n# Override the global default and scrape targets from this job every 5 seconds.\nscrape_interval: 5s\nstatic_configs:- \ntargets: ['localhost:8000']\n```", "```\n[[runners]]\nexecutor = \"docker\"\n[runners.docker]\nprivileged = true\n```", "```\nsast:\n image: docker:stable\n variables:\n DOCKER_DRIVER: overlay2\n allow_failure: true\n services:\n - docker:stable-dind\n script:\n - export SP_VERSION=$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')\n - docker run\n --env SAST_CONFIDENCE_LEVEL=\"${SAST_CONFIDENCE_LEVEL:-3}\"\n --volume \"$PWD:/code\"\n --volume /var/run/docker.sock:/var/run/docker.sock\n \"registry.gitlab.com/gitlab-org/security-products/sast:$SP_VERSION\" /app/bin/run /code\n artifacts:\n reports:\n sast: gl-sast-report.json\n```", "```\n [0KRunning with gitlab-runner 11.7.0 (8bb608ff)\n [0;m[0K on Joosts-MBP.fritz.box gGEycKK-\n [0;m[0KUsing Docker executor with image docker:stable ...\n [0;m[0KStarting service docker:stable-dind ...\n [0;m[0KPulling docker image docker:stable-dind ...\n [0;m[0KUsing docker image sha256:5b626cc3459ad077146e8aac1fbe25f7099d71c6765efd6552b9209ca7ea4dc1 for docker:stable-dind ...\n [0;m[0KWaiting for services to be up and running...\n [0;m[0KPulling docker image docker:stable ...\n [0;m[0KUsing docker image sha256:73d492654a095a2f91078b2dfacd0cfe1a1fe25412fac54b4eb2f5a9609ad418 for docker:stable ...\n [0;msection_start:1550847640:prepare_script\n [0KRunning on runner-gGEycKK--project-1-concurrent-0 via Joosts-MBP.fritz.box...\n section_end:1550847642:prepare_script\n [0Ksection_start:1550847642:get_sources\n```", "```\n\n [0K[32;1mCloning repository...[0;m\n Cloning into '/builds/mastering_gitlab/JavaVulnerableLab'...\n [32;1mChecking out 157b6e94 as master...[0;m\n [32;1mSkipping Git submodules setup[0;m\n section_end:1550847644:get_sources\n [0Ksection_start:1550847644:restore_cache\n [0Ksection_end:1550847646:restore_cache\n [0Ksection_start:1550847646:download_artifacts\n [0Ksection_end:1550847647:download_artifacts\n [0Ksection_start:1550847647:build_script\n [0K[32;1m$ export SP_VERSION=$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')[0;m\n [32;1m$ docker run --env SAST_CONFIDENCE_LEVEL=\"${SAST_CONFIDENCE_LEVEL:-3}\" --volume \"$PWD:/code\" --volume /var/run/docker.sock:/var/run/docker.sock \"registry.gitlab.com/gitlab-org/security-products/sast:$SP_VERSION\" /app/bin/run /code[0;m\n```", "```\n Unable to find image 'registry.gitlab.com/gitlab-org/security-products/sast:11-7-stable' locally\n 11-7-stable: Pulling from gitlab-org/security-products/sast\n 3f0edbe59eaa: Pulling fs layer\n 3f0edbe59eaa: Download complete\n 3f0edbe59eaa: Pull complete\n Digest: sha256:d31cbb2bfd200b60543ef99fa03638c2335a52597e0966b7347f896dbe4e78e7\n Status: Downloaded newer image for registry.gitlab.com/gitlab-org/security-products/sast:11-7-stable\n\n```", "```\n 2019/02/22 15:00:52 Copy project directory to containers\n 2019/02/22 15:00:52 [bandit] Detect project using plugin\n 2019/02/22 15:00:52 [bandit] Project not compatible\n 2019/02/22 15:00:52 [brakeman] Detect project using plugin\n 2019/02/22 15:00:52 [brakeman] Project not compatible\n 2019/02/22 15:00:52 [gosec] Detect project using plugin\n 2019/02/22 15:00:52 [gosec] Project not compatible\n 2019/02/22 15:00:52 [find-sec-bugs] Detect project using plugin\n 2019/02/22 15:00:52 [find-sec-bugs] Project is compatible\n 2019/02/22 15:00:52 [find-sec-bugs] Starting analyzer...\n\n```", "```\n Downloaded from central: https://repo.maven.apache.org/maven2/com/google/collections/google-collections/1.0/google-collections-1.0.jar (640 kB at 882 kB/s)\n [INFO] Changes detected - recompiling the module!\n [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n [INFO] Compiling 15 source files to /tmp/app/target/classes\n [INFO] ------------------------------------------------------------------------\n [INFO] BUILD SUCCESS\n [INFO] ------------------------------------------------------------------------\n [INFO] Total time: 11.988 s\n [INFO] Finished at: 2019-02-22T15:24:25Z\n [INFO] ------------------------------------------------------------------------\n```", "```\n Warnings generated: 49\n 2019/02/22 15:24:33 [find-sec-bugs-gradle] Detect project using plugin\n 2019/02/22 15:24:33 [find-sec-bugs-gradle] Project not compatible\n 2019/02/22 15:24:33 [find-sec-bugs-sbt] Detect project using plugin\n 2019/02/22 15:24:33 [find-sec-bugs-sbt] Project not compatible\n 2019/02/22 15:24:33 [find-sec-bugs-groovy] Detect project using plugin\n 2019/02/22 15:24:33 [find-sec-bugs-groovy] Project not compatible\n 2019/02/22 15:24:33 [flawfinder] Detect project using plugin\n 2019/02/22 15:24:33 [flawfinder] Project not compatible\n 2019/02/22 15:24:33 [phpcs-security-audit] Detect project using plugin\n 2019/02/22 15:24:33 [phpcs-security-audit] Project not compatible\n 2019/02/22 15:24:33 [security-code-scan] Detect project using plugin\n 2019/02/22 15:24:33 [security-code-scan] Project not compatible\n 2019/02/22 15:24:33 [nodejs-scan] Detect project using plugin\n 2019/02/22 15:24:33 [nodejs-scan] Project not compatible\n```", "```\n+--------------------------------------------------------------------------------------+\n | Severity | Tool | Location |\n +--------------------------------------------------------------------------------------+\n | High | Find Security Bugs | src/main/java/org/cysecurity/cspf/jvl/controller/LoginValidator.java:64 |\n | |\n | HTTP cookie formed from untrusted input |\n +--------------------------------------------------------------------------------------+\n | High | Find Security Bugs | src/main/java/org/cysecurity/cspf/jvl/controller/AddPage.java:45 |\n | |\n | Relative path traversal in servlet |\n +--------------------------------------------------------------------------------------+\n```", "```\n Uploading artifacts...\n gl-sast-report.json: found 1 matching files\n Uploading artifacts to coordinator... ok id=4 responseStatus=201 Created token=Sy_pRf1e\n Job succeeded\n```", "```\n dast:\n image: registry.gitlab.com/gitlab-org/security-products/zaproxy\n variables:\n website: \"https://blog.joustie.nl\"\n allow_failure: true\n script:\n - mkdir /zap/wrk/\n - /zap/zap-baseline.py -J gl-dast-report.json -t $website || true\n - cp /zap/wrk/gl-dast-report.json .\n artifacts:\n reports:\n dast: gl-dast-report.json\n```", "```\n Running with gitlab-runner 11.7.0 (8bb608ff)\n on host gGEycKK-\n Using Docker executor with image registry.gitlab.com/gitlab-org/security-products/zaproxy ...\n Pulling docker image registry.gitlab.com/gitlab-org/security-products/zaproxy ...\n Using docker image sha256:cd12d3ce5fc66ef0c6b2cf0e6b745876b666aed7f9e859451eaef884b92cefa7 for registry.gitlab.com/gitlab-org/security-products/zaproxy ...\n```", "```\n Running on runner-gGEycKK--project-2-concurrent-0 via Joosts-MBP.fritz.box...\n Fetching changes...\n Removing zap.out\n HEAD is now at 6024894 Update .gitlab-ci.yml\n From http://192.168.178.82/root/unsecure\n 6024894..e6b26fe master -> origin/master\n Checking out e6b26fe5 as master...\n Skipping Git submodules setup\n $ mkdir /zap/wrk/\n $ /zap/zap-baseline.py -J gl-dast-report.json -t $website || true\n 2019-02-22 15:50:26,650 Params: ['zap-x.sh', '-daemon', '-port', '40096', '-host', '0.0.0.0', '-config', 'api.disablekey=true', '-config', 'api.addrs.addr.name=.*', '-config', 'api.addrs.addr.regex=true', '-config', 'spider.maxDuration=1', '-addonupdate', '-addoninstall', 'pscanrulesBeta']\n Feb 22, 2019 3:50:34 PM java.util.prefs.FileSystemPreferences$1 run\n INFO: Created user preferences directory.\n```", "```\n Total of 251 URLs\n PASS: Cookie No HttpOnly Flag [10010]\n PASS: Cookie Without Secure Flag [10011]\n PASS: Incomplete or No Cache-control and Pragma HTTP Header Set [10015]\n PASS: Content-Type Header Missing [10019]\n PASS: Information Disclosure - Debug Error Messages [10023]\n PASS: Information Disclosure - Sensitive Information in URL [10024]\n PASS: Information Disclosure - Sensitive Information in HTTP Referrer Header [10025]\n PASS: HTTP Parameter Override [10026]\n PASS: Information Disclosure - Suspicious Comments [10027]\n PASS: Viewstate Scanner [10032]\n PASS: Secure Pages Include Mixed Content [10040]\n PASS: CSP Scanner [10055]\n PASS: Weak Authentication Method [10105]\n PASS: Session ID in URL Rewrite [3]\n PASS: Script Passive Scan Rules [50001]\n PASS: Insecure JSF ViewState [90001]\n PASS: Charset Mismatch [90011]\n PASS: WSDL File Passive Scanner [90030]\n PASS: Loosely Scoped Cookie [90033]\n\n```", "```\nWARN-NEW: Web Browser XSS Protection Not Enabled [10016] x 112\n http://blog.joustie.nl/\n http://blog.joustie.nl/robots.txt\n http://blog.joustie.nl/sitemap.xml\n http://blog.joustie.nl\n http://blog.joustie.nl/atom.xml\n WARN-NEW: Cross-Domain JavaScript Source File Inclusion [10017] x 108\n http://blog.joustie.nl/\n http://blog.joustie.nl\n http://blog.joustie.nl/tags/personal/\n http://blog.joustie.nl/2019/01/12/2018-05-29-personalblog/\n http://blog.joustie.nl/2018/05/29/2018-05-20-met-zn-allen-1-wereld/\n .....\n FAIL-NEW: 0 FAIL-INPROG: 0 WARN-NEW: 7 WARN-INPROG: 0 INFO: 0 IGNORE: 0 PASS: 19\n```", "```\n\n $ cp /zap/wrk/gl-dast-report.json .\n Uploading artifacts...\n gl-dast-report.json: found 1 matching files\n Uploading artifacts to coordinator... ok id=6 responseStatus=201 Created token=LbTRyRU-\n Job succeeded\n\n```", "```\ndependency_scanning:\n image: docker:stable\n variables:\n DOCKER_DRIVER: overlay2\n allow_failure: true\n services:\n - docker:stable-dind\n script:\n - export SP_VERSION=$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')\n - docker run\n --env DEP_SCAN_DISABLE_REMOTE_CHECKS=\"${DEP_SCAN_DISABLE_REMOTE_CHECKS:-false}\"\n --volume \"$PWD:/code\"\n --volume /var/run/docker.sock:/var/run/docker.sock\n \"registry.gitlab.com/gitlab-org/security-products/dependency-scanning:$SP_VERSION\" /code\n artifacts:\n reports:\n dependency_scanning: gl-dependency-scanning-report.json\n\n```", "```\n Running with gitlab-runner 11.7.0 (8bb608ff)\n on host gGEycKK-\n Using Docker executor with image docker:stable ...\n Starting service docker:stable-dind ...\n Pulling docker image docker:stable-dind ...\n Using docker image sha256:5b626cc3459ad077146e8aac1fbe25f7099d71c6765efd6552b9209ca7ea4dc1 for docker:stable-dind ...\n Waiting for services to be up and running...\n Pulling docker image docker:stable ...\n Using docker image sha256:73d492654a095a2f91078b2dfacd0cfe1a1fe25412fac54b4eb2f5a9609ad418 for docker:stable ...\n```", "```\n Running on runner-gGEycKK--project-2-concurrent-0 via Joosts-MBP.fritz.box...\n Fetching changes...\n HEAD is now at e6b26fe Update .gitlab-ci.yml\n From http://192.168.178.82/root/unsecure\n e6b26fe..3aa3162 master -> origin/master\n Checking out 3aa3162f as master...\n Skipping Git submodules setup\n $ export SP_VERSION=$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')\n $ docker run --env DEP_SCAN_DISABLE_REMOTE_CHECKS=\"${DEP_SCAN_DISABLE_REMOTE_CHECKS:-false}\" --volume \"$PWD:/code\" --volume /var/run/docker.sock:/var/run/docker.sock \"registry.gitlab.com/gitlab-org/security-products/dependency-scanning:$SP_VERSION\" /code\n ...\n```", "```\n\n Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus/2.0.6/plexus-2.0.6.pom (17 kB at 621 kB/s)\n [INFO] Gemnasium Maven Plugin\n [INFO]\n [INFO] Project's dependencies have been successfully dumped into: /tmp/app/gemnasium-maven-plugin.json\n [INFO] ------------------------------------------------------------------------\n [INFO] BUILD SUCCESS\n [INFO] ------------------------------------------------------------------------\n [INFO] Total time: 5.504 s\n [INFO] Finished at: 2019-02-23T11:45:49Z\n [INFO] ------------------------------------------------------------------------\n```", "```\n +----------------------------------------------------------------------------------------+\n | Severity | Tool | Identifier |\n +----------------------------------------------------------------------------------------+\n | Unknown | Gemnasium | CVE-2015-7501 |\n | |\n | InvokerTransformer code execution during deserialization in commons |\n | collections/commons-collections |\n | Solution: Upgrade to the latest version |\n | In pom.xml |\n +----------------------------------------------------------------------------------------+\n | Unknown | Gemnasium | CVE-2017-3523 |\n | |\n | Vulnerability in the MySQL Connectors in mysql/mysql-connector-java |\n | Solution: Upgrade to the latest version |\n | In pom.xml |\n +----------------------------------------------------------------------------------------+\n 2019/02/23 11:45:51 [gemnasium-python] Detect project using plugin\n 2019/02/23 11:45:51 [gemnasium-python] Project not compatible\n 2019/02/23 11:45:51 [retire.js] Detect project using plugin\n 2019/02/23 11:45:51 [retire.js] Project not compatible\n Uploading artifacts...\n gl-dependency-scanning-report.json: found 1 matching files\n Uploading artifacts to coordinator... ok id=7 responseStatus=201 Created token=1cdLFEJP\n Job succeeded\n```"]