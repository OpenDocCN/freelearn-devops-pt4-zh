- en: Business Central and Integration with the Power Platform
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the previous chapter, we saw how to use Azure Services combined with Dynamics
    365 Business Central to implement modern serverless business processes and we
    had an extensive overview of how to use Azure Functions from AL.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will introduce an important part of the Dynamics 365 family:
    *Microsoft Power Platform*. We''ll cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: An introduction to Microsoft Power Platform
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Microsoft Flow and PowerApps overview
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementations of real-world scenarios by using Flow and PowerApps integrated
    with the Dynamics 365 Business Central ecosystem
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: By the end of this chapter, you will have a complete overview of Power Platform
    and be able to use Flow and PowerApps to implement custom solutions and workflows
    with Dynamics 365 Business Central in a low-coding way.
  prefs: []
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To follow the examples described in this chapter, you''ll need the following:'
  prefs: []
  type: TYPE_NORMAL
- en: An Office 365 subscription with access to Flow and PowerApps
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: An active Dynamics 365 Business Central online tenant
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introducing the Power Platform
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Power Platform** combines the features of applications such as **Flow**,
    **PowerApps**, and **PowerBI** into a unified business application platform. The
    importance of this platform in the Microsoft ecosystem has been explained many
    times directly by Satya Nadella in his talks. In a modern business application''s
    implementation, we need to seriously consider the Power Platform.'
  prefs: []
  type: TYPE_NORMAL
- en: The platform embraces the *Analyze, Act, and Automate* paradigm. Each component
    of the Power Platform is built on top of the *Common Data Service* *for Apps* (a
    platform that allows users to quickly integrate programs, build new custom applications,
    and create automated workflows), and the platform brings data together into what
    is called the *Common Data Model*.
  prefs: []
  type: TYPE_NORMAL
- en: 'A schema of this platform is displayed in the following diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/cca5a98b-78ff-4c2c-82c8-90afbfe5268c.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Flow** and **PowerApps** are low-code development-based platforms made by
    Microsoft to provide powerful tools for what we call **power users** – users that
    usually don''t have a technical background, but work and are totally involved
    with a business, so they know all the business rules, processes exceptions, and
    other business aspects that allow them to know what a system can do from an end
    user''s point of view.'
  prefs: []
  type: TYPE_NORMAL
- en: So, we have explained what Power Platform is and what its building blocks are.
    Since these tools are already available, why not use it in combination with Dynamics
    365 Business Central to provide even more power for those power users to create
    apps, integrations, and business logic workflows, and build a fully integrated
    and managed platform for our businesses?
  prefs: []
  type: TYPE_NORMAL
- en: In the upcoming sections, we'll look at an overview of Flow and PowerApps, and
    we'll see some real-world solutions that involve Dynamics 365 Business Central
    in tandem with Power Platform.
  prefs: []
  type: TYPE_NORMAL
- en: Understanding Flow
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Flow** is a platform that was built with the purpose of providing a way to
    create automated workflows and integrating Microsoft and non-Microsoft technologies
    through connectors and triggers. These tools are available for the end user so
    that they can build business processes in a visual way. More information can be
    found at [https://us.flow.microsoft.com/en-us/](https://us.flow.microsoft.com/en-us/).'
  prefs: []
  type: TYPE_NORMAL
- en: Flow has more than 180 different connectors that you can use through actions
    and triggers to build automated workflows. One of these connectors is the **Dynamics
    365 Business Central connector**, and it's the standard connector for interacting
    with Dynamics 365 Business Central from Flow. The connector is available at [https://us.flow.microsoft.com/en-us/connectors/?filter=business+central&category=all](https://us.flow.microsoft.com/en-us/connectors/?filter=business+central&category=all).
  prefs: []
  type: TYPE_NORMAL
- en: One of the biggest advantages of using Flow is that it gives us a visual way
    to build automated workflows that can make our data from our Dynamics environment
    interact with external platforms, create approval process, send notification actions,
    and other applications in an easy way.
  prefs: []
  type: TYPE_NORMAL
- en: 'As shown in the following screenshot, Microsoft also gives us a bunch of existing
    templates that will help us create our first Flow workflow quickly:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/10546d37-2907-4e1e-aba9-e63548c7c0f9.png)'
  prefs: []
  type: TYPE_IMG
- en: More information can be found at [https://us.flow.microsoft.com/en-us/templates/](https://us.flow.microsoft.com/en-us/templates/).
  prefs: []
  type: TYPE_NORMAL
- en: 'Filtering the templates by `business central`, you can see all the available
    templates (you can also submit templates that you create for the technical community),
    as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b937fad1-3309-4ee5-a6fb-c820b20be51b.png)'
  prefs: []
  type: TYPE_IMG
- en: With these templates, you are able to play around with workflows that will integrate
    Dynamics 365 Business Central with other platforms, and you can start using a
    template that can be changed so that it suits your needs in an easy way.
  prefs: []
  type: TYPE_NORMAL
- en: These templates are always improved and developed by the community and by the
    Flow team.
  prefs: []
  type: TYPE_NORMAL
- en: Start creating a workflow using a template to see how it works and then change
    it to fit your needs by adding other actions and integrations.
  prefs: []
  type: TYPE_NORMAL
- en: As you can see, with Flow, you have lots of pre-built tasks (workflows) that
    you can immediately use in your existing Dynamics 365 Business Central solutions
    without writing a single line of code. Just use the connector and start your workflow
    with a few mouse clicks.
  prefs: []
  type: TYPE_NORMAL
- en: In the next section, we'll look at an overview of PowerApps and see what it
    can offer with regard to implementing your solutions.
  prefs: []
  type: TYPE_NORMAL
- en: Understanding PowerApps
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**PowerApps** is a platform that was built with the purpose of creating business
    applications that can be used on mobile phones, tablets, and web browsers, all
    using a very easy user interface. It also uses connectors to integrate those apps
    with Microsoft and non-Microsoft platforms.'
  prefs: []
  type: TYPE_NORMAL
- en: The distribution, permission, licensing, and authentication for the use of those
    apps is based on Microsoft 365 licenses, so it is already totally integrated with
    your Microsoft 365 environment.
  prefs: []
  type: TYPE_NORMAL
- en: More information about PowerApps and its licensing can be found at [https://powerapps.microsoft.com/](https://powerapps.microsoft.com/).
  prefs: []
  type: TYPE_NORMAL
- en: 'In the **PowerApps Studio** ([https://web.powe](https://web.powerapps.com)[r](https://web.powerapps.com)[apps.com](https://web.powerapps.com)),
    you can create apps easily:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8016d13f-432f-4906-bcd5-73c2483fd9bf.png)'
  prefs: []
  type: TYPE_IMG
- en: Since PowerApps also work with the same connector concept that's in Flow, we
    can also create apps that connect and interact with our data on Dynamics 365 Business
    Central environments, giving us a way to create business apps that can work on
    a browser and on a mobile device and that can also execute business logic inside
    Dynamics 365 Business Central.
  prefs: []
  type: TYPE_NORMAL
- en: In the next section, we'll learn how to use Flow and PowerApps with Dynamics
    365 Business Central in real-world scenarios and implement a modern business solution.
  prefs: []
  type: TYPE_NORMAL
- en: Integration scenarios with Power Platform
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that we have had an overview of **Flow** and **PowerApps** and we know that
    they allow us to build powerful integrated solutions with Dynamics 365 Business
    Central to provide more control, integration, and extension, let's discuss and
    learn how to combine these technologies to do more with our environment.
  prefs: []
  type: TYPE_NORMAL
- en: The following scenarios are just ideas to help you brainstorm and to show you
    some of the features that are available to you. However, the platforms are so
    flexible and adaptable to different use cases to the extent that we would need
    an entire book to cover all the bases, so remember to use these scenarios to extract
    some ideas for your daily needs.
  prefs: []
  type: TYPE_NORMAL
- en: Scenario 1 – creating a human resources recruiting/onboarding process
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this scenario, we will create a recruiting/onboarding process that will make
    it easy for a human resources department to send a form to a new employee so that
    they can fill it in. This data, after an approval process, will be automatically
    registered to Dynamics 365 Business Central.
  prefs: []
  type: TYPE_NORMAL
- en: '**Technologies Used:** Microsoft Forms, Flow, Teams, and Dynamics 365 Business
    Central.'
  prefs: []
  type: TYPE_NORMAL
- en: First of all, let's create our form on Microsoft Forms*.* The goal here is to give
    a human resources manager a way to generate an external form with a link that
    can be sent to a new employee, who can then add their data, avoiding the bureaucracy
    of having this form filled in manually in person.
  prefs: []
  type: TYPE_NORMAL
- en: 'To create this form, follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Open Forms with your Office 365 Account at [http://forms.microsoft.com](http://forms.microsoft.com) and
    then click on New Form.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add the name and description of your form.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Now, let''s add some fields to our form, thinking about all the fields that
    we need/want on Dynamics 365 Business Central. To create a new field, you just
    need to click on the + Add New button:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/419de138-967b-4505-b7c4-82c8751cbefb.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Then, select the type of field to create (here, I''ve selected Choice):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5186babd-cca6-4049-b06a-44eeca09e079.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Then, select the label:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/60ef0c19-1965-4903-a0d3-cd873a0b6c2d.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Let''s create the following fields:'
  prefs: []
  type: TYPE_NORMAL
- en: First Name (text)
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: Last Name (text)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: E-mail (text)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Address (text)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Address City (text)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Address State (text)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Address Postal Code (text)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Phone Number (text)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Birth Date (date)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The final form will be as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a9f5f781-e3fa-4088-8da8-189ccb4ed9f5.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After creating our form on Forms, we can create our Flow workflow:'
  prefs: []
  type: TYPE_NORMAL
- en: Open the Microsoft Flow site ([https://flow.microsoft.com](https://flow.microsoft.com)),
    log in with your Office 365 account, and go to My Flows.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on + New | Create from blank:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/483aeacb-a5d3-4de0-b547-292fe4ddf0e0.png)'
  prefs: []
  type: TYPE_IMG
- en: Let's look for more triggers. Click on Search hundreds of connectors and triggers.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Search for `Microsoft Forms` and then select the When a new response is submitted trigger:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/283bde9a-85c5-4c99-842d-74e8740906c8.png)'
  prefs: []
  type: TYPE_IMG
- en: 'On the trigger action, pick your form from the Form Id field (New Onboarding
    Process):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/97e9a2b6-6e01-4396-b660-5340e774c1d5.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, let''s add a new step. Click on + New Step:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/3d9bcd15-c3bc-4785-b6cf-a29d60eec859.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select Built-in and then Apply to each:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/34a77b57-73b1-4035-a1b4-199bfe9cb033.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We will select the Form responses from the When a new response is submitted trigger as
    the output for this Apply to each action. Basically, for each response that''s
    submitted (in this case, it will be always one; that''s just the way that Flow
    handles the execution), we will do something on the workflow''s execution:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/cfb12f1c-ec8d-495b-b9ec-ce7514ca9a97.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, we can create an approval process to validate any response that''s submitted
    before it goes to Dynamics 365 Business Central. Click on Add an Action:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e549f3ae-c267-4444-b59d-28272c72b2f9.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Search for `Microsoft Forms` and select Get response details:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/af1f2f9c-5a2f-49cc-85df-c9445cd53fdd.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select the form that we''ve created in the Form Id field and add List of response
    notifications Response Id as the Response Id. This action will fill in all the
    fields on the form:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/d39e85c4-9e09-4d71-b396-fe978b54e4c5.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, add a new step by clicking on Add an action:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/fc761fc8-67c3-4647-89ec-a5e89d9bc053.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Search for `Approvals` and then Start and Wait for approval:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ce414aab-79a9-4401-8fae-cc7d3a03d5ce.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The Approval Type will be Approve/Reject – First to respond (you can change
    it to the other one if you want):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ae917dd0-3be5-49e7-b209-eee8d16d52dd.png)'
  prefs: []
  type: TYPE_IMG
- en: 'You can personalize the approval information that will be sent for the human
    resources person who''s responsible for making a decision about approval:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/aa18f045-c8e0-433b-839e-771ebd2233cb.png)'
  prefs: []
  type: TYPE_IMG
- en: In the Assigned To field, I've used a fixed person, but, if you want, you can
    create an integration with another application that will set the approver automatically.
  prefs: []
  type: TYPE_NORMAL
- en: 'With the approval configured, we need to handle when the approver completes
    the approval process. In this example, if it gets approved, we will create this
    entry on Dynamics 365 Business Central. If it gets rejected, we will send an email
    to the employee to fill the form in again. For this, add an action:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/f7d7109e-dcf6-467f-a4c2-4b8037ad11ce.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Then, select Condition:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/495d07bb-161e-4d51-8ec5-675beb466790.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The condition must use the value from Response (this is a collection of the
    responses if the approval process handles multiple approvals):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1305b680-e180-4d0a-bcf7-b500926adf14.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We need to check whether the value of this response is equal to Approve:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/2d9d585e-fefa-4b89-92e5-49c4b8653109.png)'
  prefs: []
  type: TYPE_IMG
- en: 'If the statement is true, we will create the entry on Dynamics 365 Business
    Central and post a message to our Teams channel for onboarding. In the If yes box,
    let''s add an action:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/f5f6da37-86d7-49df-9718-1ec2c1c7ecd2.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Search for `Dynamics 365 Business Central` and then select Create item:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/94456ccf-bd8f-40f3-a37b-f975a0fa1287.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select your company name. Under Table name, you can see all the tables that
    we can interact with using Flow. For this scenario, we will use the employees
    table:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/c2683bd4-11bd-431b-95a4-eb4403642b71.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After selecting the employees table, we will be able to see all the available
    fields (all the fields that we can use to send information through Flow):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/540fa12d-b281-4329-beb9-ff0c964dc874.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Let''s start picking the data from the Forms response and add it to the right
    places on the Dynamics 365 Business Central action:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/bcf3d471-b8fb-485c-a0af-30cbf5f32648.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, we will create a post on a Teams channel to inform our human resources
    team that a new onboarding process has been filed and approved and that the entry
    has been created on Dynamics 365 Business Central. Go to Add an Action:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/16ebcf7d-bf8f-4c7a-b359-0a8ee348c7b4.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Search for `Microsoft Teams` and then click on Post a message as the Flow bot
    to a channel*. *This will automatically post into a Teams channel as a Flow bot
    user:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/639d8a12-86a8-45d6-bc2c-1bfbac88c5f6.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select the team and the channel that you want to post to:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/60b25541-f92b-4f93-b822-59f139b58dfd.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Under Message, you can add the text that you want to post to Teams:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b148cb75-f900-4036-8116-b386579f9c76.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Done! Now, let''s add an action when the approval process is rejected. Under
    If no, click on Add an Action:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/d023a3d3-ae09-4730-b8e9-c6495f709db0.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After this, search for `Office 365 Outlook` and then select Send an email:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/f6371ae7-d01a-4bd3-82b1-23acf68c04f9.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In the To field, add the email that was on the form (remember that we are sending
    an email to the employee, asking them to fill in the form again):'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/a827645f-0b26-4460-abe9-ebb8cebfcf19.png)'
  prefs: []
  type: TYPE_IMG
- en: 'You can change the Subject and Body so that it contains the content that you
    want:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/26b56743-38bd-4aae-8422-95d180216a5f.png)'
  prefs: []
  type: TYPE_IMG
- en: You can also change the configuration so that this email can handle HTML by
    setting the Is HTML option to Yes.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we have the final flow, as shown in the following screenshot. To save
    it, give this flow a Name in the top bar and click on Save*.* This is shown as
    follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/9f4517ce-e1de-42dc-8bb2-20f7ee81588c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, let''s try it out:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the Form that we''ve created in preview mode, fill it in, and click Submit:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/84b09740-ce5c-4780-9cbd-1812a852ae36.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After submitting, this is the response you will obtain:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d7df6a2d-e27f-4224-96ab-942612027736.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Access the human resources account (the one that you selected to be responsible
    for approving the form) to check that you''ve received an approval email:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/6aff0c32-bb01-407d-8156-5a532457cbe0.png)'
  prefs: []
  type: TYPE_IMG
- en: 'If you click on Approve, the workflow will continue creating the employee on
    Dynamics 365 Business Central with all the data from the form, and it will be
    posted on Teams:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/25d5eb52-7a36-4ccd-9d10-c1619c2abf69.png)'
  prefs: []
  type: TYPE_IMG
- en: 'If you have access to your Dynamics 365 Business Central tenant, you will be
    able to see the Employee record that''s been created:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5c4eba76-6df2-406f-86e7-2130b7d0bd61.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Then, if you access your Teams channel, you will be able to see that the approval
    notification has been posted, as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/235ffdfb-f40e-492f-aafc-c936c49d5196.png)'
  prefs: []
  type: TYPE_IMG
- en: 'If you click on Reject, an email will be sent to the employee, asking them
    to fill in the form again:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/85bacda6-b0d0-46af-a3e8-443d1f076258.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This is the email that was sent to the employee:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ca3b81b6-eb32-4307-8d12-60fe1d895466.png)'
  prefs: []
  type: TYPE_IMG
- en: With that, we have a completely automated workflow for the onboarding process
    that can be connected with the recruiting process. It can register the new employee
    on the ERP, notify the IT manager, and so on.
  prefs: []
  type: TYPE_NORMAL
- en: The same approach for creating an item in a table on Dynamics 365 Business Central
    can also be used for sales order information, purchases, tax, and other data types
    that you have on Dynamics 365 Business Central.
  prefs: []
  type: TYPE_NORMAL
- en: In this section, you've seen how easy it is to create custom workflows by using
    Flow with Dynamics 365 Business Central. We've successfully completed this scenario
    without writing a single line of code.
  prefs: []
  type: TYPE_NORMAL
- en: In the next section, we'll learn how to implement an approval workflow for sales
    orders in the Dynamics 365 Business Central ERP using Flow.
  prefs: []
  type: TYPE_NORMAL
- en: Scenario 2 – creating a simple sales order approval workflow
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this scenario, we will create a simple sales order approval workflow in Dynamics
    365 Business Central using the templates provided by Microsoft to handle an approval
    for our sales orders.
  prefs: []
  type: TYPE_NORMAL
- en: '**Technologies Used:** Flow and Dynamics 365 Business Central.'
  prefs: []
  type: TYPE_NORMAL
- en: 'To start creating a custom approval workflow, you can start directly from the
    ERP side, as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: 'On Dynamics 365 Business Central, go to the Sales menu and click on Sales Orders.
    Now, click on New and, on the New Order page, click on Request Approval and then
    click on Create a Flow:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/398f7097-35e2-426b-9418-2a124fcc3c51.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Flow templates will be presented to you, and you can select the templates that
    are the best fit for your process. Let''s select the workflow called Request Approval
    for Dynamics 365 Business Central sales order:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5387fd1b-22f2-4a28-b384-7eb0abf3d9ba.png)'
  prefs: []
  type: TYPE_IMG
- en: 'You can change the workflow so that it does exactly what your process needs,
    including the information related to the sales order, the approvers for the approval
    process, and the path that the workflow will take (depending on the replies):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5236d149-aad2-41f2-a37f-ee7f671ac1ad.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Here, we can select the details of the request (see the fields in the following
    screenshot):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/bd7a3d0c-8e65-48ab-842f-2dddfe69b481.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Then, we can select the action (if approved) and save the workflow:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5764b34c-ae01-46ad-8db7-c6d12ff72a0d.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, go back to the Sales Order screen. Let''s select an existing sales order,
    select Request Approval, and then click on *Send Approval Request* (Dynamics 365
    Business Central will check if a workflow has already been configured and will
    use it when the user clicks on Send Approval Request):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/242b600c-2e93-4a7e-beac-544a237a01e1.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The workflow has started, and the approver should receive a notification to
    approve/reject that sales order:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ee27718f-4163-42c2-b170-fce599b514b8.png)'
  prefs: []
  type: TYPE_IMG
- en: As a final result, we have created with few simple steps a workflow that permits
    to approve Dynamics 365 Business Central documents (like Sales Orders) directly
    via email. As mentioned previously, we can change the entire behavior of this
    approval process with a few clicks and make this workflow work in whatever way
    best suits our business needs.
  prefs: []
  type: TYPE_NORMAL
- en: This is a simple way of creating a workflow for a sales order that can be easily used
    for other types of data on Dynamics 365 Business Central.
  prefs: []
  type: TYPE_NORMAL
- en: Scenario 3 – creating a simple app to list all customers and sales quotes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this scenario, we are going to create an app on PowerApps that will connect
    to our Dynamics 365 Business Central environment, list all customers, and, for
    the selected customer, list their sales quotes. This app can be used in a browser
    or a mobile device.
  prefs: []
  type: TYPE_NORMAL
- en: '**Technologies Used**: PowerApps and Dynamics 365 Business Central.'
  prefs: []
  type: TYPE_NORMAL
- en: 'To start creating our application, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Open PowerApps Studio with your Office 365 account at [http://web.powerapps.com.](http://web.powerapps.com) There
    are different ways to build apps in PowerApps; we are going to use the **Canvas**
    app from a blank template so that we can build an app for a mobile phone layout
    from scratch. Click on Canvas app from blank:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/02dc42e4-a710-452c-a5b3-8de451cbcc76.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Come up with a name for your app, select the format that you want (in this
    example, we will use the Phone format), and click on Create:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1de352a9-f728-410e-91e6-a345bfe9af08.png)'
  prefs: []
  type: TYPE_IMG
- en: As soon as the application is created, you will be redirected to PowerApps Studio,
    where we will start to build the components for our app.
  prefs: []
  type: TYPE_NORMAL
- en: We need to connect our app to Dynamics 365 Business Central by adding a data
    source on PowerApps using an existing connector. The *connector* concept here
    is the same as it is in Flow. Microsoft uses the same concept in all of the Power
    Platform applications.
  prefs: []
  type: TYPE_NORMAL
- en: 'From the top navigation menu, select View and then click on Data Sources:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/feaf755e-d5d8-4e1d-a4f1-8c3942a5d806.png)'
  prefs: []
  type: TYPE_IMG
- en: Now, add a data source. If you have already created a connection with Dynamic
    365 Business Central (or other platforms) in any other Power Platform application,
    you can select the connection directly from the list that appears.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'If you haven''t created a connection with Dynamics 365 Business Central (or
    other platforms) in any other Power Platform application previously, click on
    + New connection, search for `Business Central`, and select the Business Central
    Connector, as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/58ad9522-02c6-4121-ad35-fb886f45d320.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, click on Create. By creating the connection (or selecting an existing
    one) with Dynamics 365 Business Central, you need to select the dataset that you
    want to use:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/86051d20-a3bf-45f2-9b3c-f3bdb8a2b195.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, we can select which table from Dynamics 365 Business Central we want to
    use in the app. In our example, we will select the customers table and the salesQuotes
    table, and then click on Connect:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b86ecf70-632e-4141-bd4d-cb21a7d71dd2.png)'
  prefs: []
  type: TYPE_IMG
- en: The connection has been made. Now, we can start adding the controls to our app
    to consume those connections.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the top navigation menu, go to the Insert tab and, in Controls, select the
    Drop down control:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a91d7f5a-0384-4065-82c8-e7fbe6b793e9.png)'
  prefs: []
  type: TYPE_IMG
- en: 'By default, the data source for this dropdown will be an example, but we can
    change this by going to the right panel, going to the Items property, and selecting
    the customers table from Dynamics 365 Business Central:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/9e3ae458-ccc0-4803-9a31-3ae9da677be3.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In the Value property, we can select which value from the customers table we
    want to display to the end user on the dropdown; let''s select displayName:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7ed7dfc5-7978-4a11-bc3d-73232b0adb6b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'At this point, we are going to add a new control to show all the sales orders
    to that selected customer so that, every time we change the customer on the dropdown,
    it loads all the sales orders for the selected customer. In the Insert tab, click
    on the Gallery and select Vertical Gallery:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/6a7e1d33-9334-49ae-8b56-9aaf8130db91.png)'
  prefs: []
  type: TYPE_IMG
- en: Once you have selected the gallery, you need to select the data source for this
    gallery. This is pretty much the same concept that we covered for the dropdown
    menu a few steps ago.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the Items property, select the salesOrder data source:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/0da2a900-4bdf-4eaf-b68e-2818c3a9fb10.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, we can select which layout our gallery will use and which fields will
    be displayed there. In the Layout property, select the template called Title,
    subtitle, and body:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/2fc23548-b028-4a17-a78a-d036516efaf0.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In the Data section, select numberfor the Title2 property. In the Subtitle2
    property, select status:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e848e2fd-d93b-45f6-9c1d-7ea2a594bd18.png)'
  prefs: []
  type: TYPE_IMG
- en: In the same way, in the Body1 property, select totalAmountExcludingTax.
  prefs: []
  type: TYPE_NORMAL
- en: Now, we need to make sure that a filter will be applied to show only the sales
    orders for the customer that's selected from the dropdown. By default, when we
    select a data source, the data will be retrieved without any filters.
  prefs: []
  type: TYPE_NORMAL
- en: 'To do that, refer to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d69fd604-2cb6-4efd-9ecb-6438cc041438.png)'
  prefs: []
  type: TYPE_IMG
- en: Click on the gallery. In the control properties pane, select the Itemsproperty.
    In the functions bar, we need to change the function to filter the data from the
    data source by using a command called `Filter()`.
  prefs: []
  type: TYPE_NORMAL
- en: You can find more detailed information about this at [https://docs.microsoft.com/en-us/powerapps/maker/canvas-apps/functions/function-filter-lookup](https://docs.microsoft.com/en-us/powerapps/maker/canvas-apps/functions/function-filter-lookup).
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s use the following `Filter` formula:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The filter formula is shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/5081c7cc-5115-4c0e-8037-20b75695d141.png)'
  prefs: []
  type: TYPE_IMG
- en: Let's take a look at what this formula is all about.
  prefs: []
  type: TYPE_NORMAL
- en: The `Filter` function requires the data source as its first parameter, which,
    in this case, will be the salesOrder table from Dynamics 365 Business Central.
  prefs: []
  type: TYPE_NORMAL
- en: The second parameter for the `Filter` function is the logical test. In this
    case, we will check whether the `customerId` from the `salesOrder` table is equal
    to the `id` from the item we selected in `Dropdown1`, which is the item we selected
    from the customers table on Dynamics 365 Business Central.
  prefs: []
  type: TYPE_NORMAL
- en: In this case, we are using the `Text()` function to convert both parameters
    into text so that they can be compared.
  prefs: []
  type: TYPE_NORMAL
- en: Now, every time the dropdown is changed for the user, the filter will be applied
    and the sales orders will be filtered by the value that's selected in the dropdown.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we just need to save the app. To do this, follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'In the top navigation menu, go to File, type in the name of your app, change
    the icon (if you want), and click on Save:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/fdead6dc-8ae0-4684-a17d-b0fb71beac2a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, go back to the app and run our application. To start the app, click on
    the play icon in the top-right corner:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a9a9af5a-121a-49a4-852d-c9bc78519de8.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select some other customers from the dropdown to check that the filter has
    been applied:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7cb3b666-909a-447c-96bf-847b87c4e0b7.png)'
  prefs: []
  type: TYPE_IMG
- en: With that, we have an app that's integrated with Dynamics 365 Business Central
    that can be changed to fit the other processes and needs of our business.
  prefs: []
  type: TYPE_NORMAL
- en: With PowerApps, we have quickly implemented an application that is able to work
    on a browser and on a mobile device that can be shared with our entire organization
    and that can be secured by our IT administrator.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, we had an overview of the Microsoft Power Platform, with a
    special focus on two important applications: Microsoft Flow and Microsoft PowerApps.'
  prefs: []
  type: TYPE_NORMAL
- en: We saw the implementation of three real-world business scenarios by integrating
    Microsoft Dynamics 365 Business Central with *Flow* and *PowerApps*, and all of
    this was done with zero coding. This is the power of this business platform!
  prefs: []
  type: TYPE_NORMAL
- en: We also learned how to embrace the entire Dynamics 365 platform in order to
    extend our ERP solutions and create modern business applications.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the next chapter, we''ll look at another interesting integration scenario:
    how to use Dynamics 365 Business Central with machine learning.'
  prefs: []
  type: TYPE_NORMAL
